{"id":"guide/two-way-binding","title":"Two-way binding","contents":"\n\n\n<div class=\"github-links\">\n  <a href=\"https://github.com/angular/angular-cn/edit/aio/aio/content/guide/two-way-binding.md?message=docs%3A%20请简述你的修改...\" aria-label=\"提供编辑建议\" title=\"提供编辑建议\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">mode_edit</i></a>\n</div>\n\n\n<div class=\"content\">\n  <h1 id=\"two-way-binding\" translation-result=\"on\">双向绑定<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/two-way-binding#two-way-binding\"><i class=\"material-icons\">link</i></a></h1><h1 translation-origin=\"off\" id=\"two-way-binding\">Two-way binding<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/two-way-binding#two-way-binding\"><i class=\"material-icons\">link</i></a></h1>\n\n<p translation-result=\"on\">双向绑定为应用中的组件提供了一种共享数据的方式。使用双向绑定绑定来侦听事件并在父组件和子组件之间同步更新值。</p><p translation-origin=\"off\">Two-way binding gives components in your application a way to share data.\nUse two-way binding to listen for events and update values simultaneously between parent and child components.</p>\n\n<div class=\"alert is-helpful\">\n<p translation-result=\"on\">包含本指南中的代码片段的可工作示例参见<live-example></live-example>。</p><p translation-origin=\"off\">See the <live-example></live-example> for a working example containing the code snippets in this guide.</p>\n\n</div>\n<h2 id=\"prerequisites\" translation-result=\"on\">先决条件<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/two-way-binding#prerequisites\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\" id=\"prerequisites\">Prerequisites<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/two-way-binding#prerequisites\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">为了充分利用双向绑定，你应该对以下概念有基本的了解：</p><p translation-origin=\"off\">To get the most out of two-way binding, you should have a basic understanding of the following concepts:</p>\n\n<ul>\n<li>\n<p translation-result=\"on\"><a href=\"guide/property-binding\">属性绑定</a></p><p translation-origin=\"off\"><a href=\"guide/property-binding\">Property binding</a></p>\n\n</li>\n<li>\n<p translation-result=\"on\"><a href=\"guide/event-binding\">事件绑定</a></p><p translation-origin=\"off\"><a href=\"guide/event-binding\">Event binding</a></p>\n\n</li>\n<li>\n<p translation-result=\"on\"><a href=\"guide/inputs-outputs\">输入和输出</a></p><p translation-origin=\"off\"><a href=\"guide/inputs-outputs\">Inputs and Outputs</a></p>\n\n</li>\n</ul>\n<hr>\n<p translation-result=\"on\">双向绑定将属性绑定与事件绑定结合在一起：</p><p translation-origin=\"off\">Two-way binding combines property binding with event binding:</p>\n\n<ul>\n<li>\n<p translation-result=\"on\"><a href=\"guide/property-binding\">属性绑定</a>设置特定的元素属性。</p><p translation-origin=\"off\"><a href=\"guide/property-binding\">Property binding</a> sets a specific element property.</p>\n\n</li>\n<li>\n<p translation-result=\"on\"><a href=\"guide/event-binding\">事件绑定</a>侦听元素更改事件。</p><p translation-origin=\"off\"><a href=\"guide/event-binding\">Event binding</a> listens for an element change event.</p>\n\n</li>\n</ul>\n<h2 id=\"adding-two-way-data-binding\" translation-result=\"on\">添加双向数据绑定<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/two-way-binding#adding-two-way-data-binding\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\" id=\"adding-two-way-data-binding\">Adding two-way data binding<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/two-way-binding#adding-two-way-data-binding\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">Angular 的双向绑定语法是方括号和圆括号的组合 <code>[()]</code>。<code>[]</code> 进行属性绑定，<code>()</code> 进行事件绑定，如下所示。</p><p translation-origin=\"off\">Angular's two-way binding syntax is a combination of square brackets and parentheses, <code>[()]</code>.\nThe <code>[()]</code> syntax combines the brackets of property binding, <code>[]</code>, with the parentheses of event binding, <code>()</code>, as follows.</p>\n\n<code-example path=\"two-way-binding/src/app/app.component.html\" header=\"src/app/app.component.html\" region=\"two-way-syntax\">\n&#x3C;app-sizer [(size)]=\"fontSizePx\">&#x3C;/app-sizer>\n\n</code-example>\n<h2 id=\"how-two-way-binding-works\" translation-result=\"on\">双向绑定工作原理<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/two-way-binding#how-two-way-binding-works\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\" id=\"how-two-way-binding-works\">How two-way binding works<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/two-way-binding#how-two-way-binding-works\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">为了使双向数据绑定有效，<code>@<a href=\"api/core/Output\" class=\"code-anchor\">Output</a>()</code> 属性的名字必须遵循 <code>inputChange</code> 模式，其中 <code>input</code> 是相应 <code>@<a href=\"api/core/Input\" class=\"code-anchor\">Input</a>()</code> 属性的名字。例如，如果 <code>@<a href=\"api/core/Input\" class=\"code-anchor\">Input</a>()</code> 属性为 <code>size</code> ，则 <code>@<a href=\"api/core/Output\" class=\"code-anchor\">Output</a>()</code> 属性必须为 <code>sizeChange</code> 。</p><p translation-origin=\"off\">For two-way data binding to work, the <code>@<a href=\"api/core/Output\" class=\"code-anchor\">Output</a>()</code> property must use the pattern, <code>inputChange</code>, where <code>input</code> is the name of the <code>@<a href=\"api/core/Input\" class=\"code-anchor\">Input</a>()</code> property.\nFor example, if the <code>@<a href=\"api/core/Input\" class=\"code-anchor\">Input</a>()</code> property is <code>size</code>, the <code>@<a href=\"api/core/Output\" class=\"code-anchor\">Output</a>()</code> property must be <code>sizeChange</code>.</p>\n\n<p translation-result=\"on\">后面的 <code>sizerComponent</code> 具有值属性 <code>size</code> 和事件属性 <code>sizeChange</code>。 <code>size</code> 属性是 <code>@<a href=\"api/core/Input\" class=\"code-anchor\">Input</a>()</code>，因此数据可以流入 <code>sizerComponent</code> 。 <code>sizeChange</code> 事件是一个 <code>@<a href=\"api/core/Output\" class=\"code-anchor\">Output</a>()</code> ，它允许数据从 <code>sizerComponent</code> 流出到父组件。</p><p translation-origin=\"off\">The following <code>sizerComponent</code> has a <code>size</code> value property and a <code>sizeChange</code> event.\nThe <code>size</code> property is an <code>@<a href=\"api/core/Input\" class=\"code-anchor\">Input</a>()</code>, so data can flow into the <code>sizerComponent</code>.\nThe <code>sizeChange</code> event is an <code>@<a href=\"api/core/Output\" class=\"code-anchor\">Output</a>()</code>, which allows data to flow out of the <code>sizerComponent</code> to the parent component.</p>\n\n<p translation-result=\"on\">接下来，有两个方法， <code>dec()</code> 用于减小字体大小， <code>inc()</code> 用于增大字体大小。这两种方法使用 <code>resize()</code> 在最小/最大值的约束内更改 <code>size</code> 属性的值，并发出带有新 <code>size</code> 值的事件。</p><p translation-origin=\"off\">Next, there are two methods, <code>dec()</code> to decrease the font size and <code>inc()</code> to increase the font size.\nThese two methods use <code>resize()</code> to change the value of the <code>size</code> property within min/max value constraints, and to emit an event that conveys the new <code>size</code> value.</p>\n\n<code-example path=\"two-way-binding/src/app/sizer/sizer.component.ts\" region=\"sizer-component\" header=\"src/app/sizer.component.ts\">\nexport class SizerComponent {\n\n  @<a href=\"api/core/Input\" class=\"code-anchor\">Input</a>()  size: number | string;\n  @<a href=\"api/core/Output\" class=\"code-anchor\">Output</a>() sizeChange = new <a href=\"api/core/EventEmitter\" class=\"code-anchor\">EventEmitter</a>&#x3C;number>();\n\n  dec() { this.resize(-1); }\n  inc() { this.resize(+1); }\n\n  resize(delta: number) {\n    this.size = Math.min(40, Math.max(8, +this.size + delta));\n    this.sizeChange.emit(this.size);\n  }\n}\n\n</code-example>\n<p translation-result=\"on\"><code>sizerComponent</code> 模板有两个按钮，分别将 click 事件绑定到 <code>inc()</code> 和 <code>dec()</code> 方法。当用户单击按钮之一时， <code>sizerComponent</code> 调用相应的方法。 <code>inc()</code> 和 <code>dec()</code> 这两个方法分别使用 <code>+1</code> 或 <code>-1</code> 调用 <code>resize()</code> 方法，它使用新的 size 值引发 <code>sizeChange</code> 事件。</p><p translation-origin=\"off\">The <code>sizerComponent</code> template has two buttons that each bind the click event to the <code>inc()</code> and <code>dec()</code> methods.\nWhen the user clicks one of the buttons, the <code>sizerComponent</code> calls the corresponding method.\nBoth methods, <code>inc()</code> and <code>dec()</code>, call the <code>resize()</code> method with a <code>+1</code> or <code>-1</code>, which in turn raises the <code>sizeChange</code> event with the new size value.</p>\n\n<code-example path=\"two-way-binding/src/app/sizer/sizer.component.html\" header=\"src/app/sizer.component.html\">\n&#x3C;div>\n  &#x3C;button (click)=\"dec()\" title=\"smaller\">-&#x3C;/button>\n  &#x3C;button (click)=\"inc()\" title=\"bigger\">+&#x3C;/button>\n  &#x3C;label [style.font-size.px]=\"size\">FontSize: {{size}}px&#x3C;/label>\n&#x3C;/div>\n\n\n</code-example>\n<p translation-result=\"on\">在 <code>AppComponent</code> 模板中， <code>fontSizePx</code> 被双向绑定到 <code>SizerComponent</code> 。</p><p translation-origin=\"off\">In the <code>AppComponent</code> template, <code>fontSizePx</code> is two-way bound to the <code>SizerComponent</code>.</p>\n\n<code-example path=\"two-way-binding/src/app/app.component.html\" header=\"src/app/app.component.html\" region=\"two-way-1\">\n&#x3C;app-sizer [(size)]=\"fontSizePx\">&#x3C;/app-sizer>\n&#x3C;div [style.font-size.px]=\"fontSizePx\">Resizable Text&#x3C;/div>\n\n</code-example>\n<p translation-result=\"on\">在 <code>AppComponent</code> 中，通过将 <code>fontSizePx</code> 的值设置为 <code>16</code> 来设置初始 <code>SizerComponent.size</code> 值。</p><p translation-origin=\"off\">In the <code>AppComponent</code>, <code>fontSizePx</code> establishes the initial <code>SizerComponent.size</code> value by setting the value to <code>16</code>.</p>\n\n<code-example path=\"two-way-binding/src/app/app.component.ts\" header=\"src/app/app.component.ts\" region=\"font-size\">\nfontSizePx = 16;\n\n</code-example>\n<p translation-result=\"on\">单击这些按钮将更新 <code>AppComponent.fontSizePx</code>。修改后的 <code>AppComponent.fontSizePx</code> 值将更新样式绑定，从而使显示的文本变大或变小。</p><p translation-origin=\"off\">Clicking the buttons updates the <code>AppComponent.fontSizePx</code>.\nThe revised <code>AppComponent.fontSizePx</code> value updates the style binding, which makes the displayed text bigger or smaller.</p>\n\n<p translation-result=\"on\">双向绑定语法是属性绑定和事件绑定的组合的简写形式。拆成单独的属性绑定和事件绑定形式的 <code>SizerComponent</code> 代码如下：</p><p translation-origin=\"off\">The two-way binding syntax is shorthand for a combination of property binding and event binding.\nThe <code>SizerComponent</code> binding as separate property binding and event binding is as follows.</p>\n\n<code-example path=\"two-way-binding/src/app/app.component.html\" header=\"src/app/app.component.html (expanded)\" region=\"two-way-2\">\n&#x3C;app-sizer [size]=\"fontSizePx\" (sizeChange)=\"fontSizePx=$event\">&#x3C;/app-sizer>\n\n</code-example>\n<p translation-result=\"on\"><code>$event</code> 变量包含 <code>SizerComponent.sizeChange</code> 事件的数据。当用户单击按钮时，Angular 将 <code>$event</code> 赋值给 <code>AppComponent.fontSizePx</code>。</p><p translation-origin=\"off\">The <code>$event</code> variable contains the data of the <code>SizerComponent.sizeChange</code> event.\nAngular assigns the <code>$event</code> value to the <code>AppComponent.fontSizePx</code> when the user clicks the buttons.</p>\n\n<div class=\"callout is-helpful\">\n  <header translation-result=\"on\">表单中的双向绑定</header><header translation-origin=\"off\">Two-way binding in forms</header>\n  \n  \n<p translation-result=\"on\">  因为没有任何原生 HTML 元素遵循了 <code>x</code> 值和 <code>xChange</code> 事件的命名模式，所以与表单元素进行双向绑定需要使用 <code><a href=\"api/forms/NgModel\" class=\"code-anchor\">NgModel</a></code>。关于如何在表单中使用双向绑定的更多信息，请参见 Angular <a href=\"guide/built-in-directives#ngModel\">NgModel</a> 。</p><p translation-origin=\"off\">  Because no native HTML element follows the <code>x</code> value and <code>xChange</code> event pattern, two-way binding with form elements requires <code><a href=\"api/forms/NgModel\" class=\"code-anchor\">NgModel</a></code>.\nFor more information on how to use two-way binding in forms, see Angular <a href=\"guide/built-in-directives#ngModel\">NgModel</a>.</p>\n\n</div>\n\n  \n</div>\n\n\n<!-- links to this doc:\n - guide/built-in-directives\n - guide/example-apps-list\n - guide/inputs-outputs\n - guide/template-syntax\n-->\n<!-- links from this doc:\n - api/core/EventEmitter\n - api/core/Input\n - api/core/Output\n - api/forms/NgModel\n - guide/built-in-directives#ngModel\n - guide/event-binding\n - guide/inputs-outputs\n - guide/property-binding\n - guide/two-way-binding#adding-two-way-data-binding\n - guide/two-way-binding#how-two-way-binding-works\n - guide/two-way-binding#prerequisites\n - guide/two-way-binding#two-way-binding\n - https://github.com/angular/angular-cn/edit/aio/aio/content/guide/two-way-binding.md?message=docs%3A%20请简述你的修改...\n-->"}