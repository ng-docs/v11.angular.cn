<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="utf-8"><title>Angular - 路由器教程：英雄之旅</title><meta name="Description" content="Angular is a platform for building mobile and desktop web applications.
    Join the community of millions of developers who build compelling user interfaces with Angular."><base href="/"><link rel="preconnect" href="https://www.google-analytics.com"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://stats.g.doubleclick.net"><link rel="dns-prefetch" href="https://stats.g.doubleclick.net"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="search" type="application/opensearchdescription+xml" href="assets/opensearch.xml"><link rel="icon" type="image/x-icon" href="assets/images/favicons/favicon.ico"><link rel="icon" type="image/png" href="assets/images/favicons/favicon-32x32.png" sizes="32x32"><link rel="icon" type="image/png" href="assets/images/favicons/favicon-194x194.png" sizes="194x194"><link rel="icon" type="image/png" href="assets/images/favicons/favicon-96x96.png" sizes="96x96"><link rel="icon" type="image/png" href="assets/images/favicons/favicon-16x16.png" sizes="16x16"><link rel="apple-touch-icon" sizes="144x144" href="assets/images/favicons/favicon-144x144.png"><link rel="apple-touch-icon-precomposed" sizes="144x144" href="assets/images/favicons/favicon-144x144.png"><style>@font-face{font-family:Roboto;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOlCnqEu92Fr1MmSU5vAA.woff) format('woff')}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOmCnqEu92Fr1Me5g.woff) format('woff')}@font-face{font-family:Roboto;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOlCnqEu92Fr1MmEU9vAA.woff) format('woff')}@font-face{font-family:Roboto;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOlCnqEu92Fr1MmSU5fCRc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Roboto;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOlCnqEu92Fr1MmSU5fABc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Roboto;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOlCnqEu92Fr1MmSU5fCBc4AMP6lbBP.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:Roboto;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOlCnqEu92Fr1MmSU5fBxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:Roboto;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOlCnqEu92Fr1MmSU5fCxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:Roboto;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOlCnqEu92Fr1MmSU5fChc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Roboto;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOlCnqEu92Fr1MmSU5fBBc4AMP6lQ.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOmCnqEu92Fr1Mu72xKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOmCnqEu92Fr1Mu5mxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOmCnqEu92Fr1Mu7mxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOmCnqEu92Fr1Mu4WxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOmCnqEu92Fr1Mu7WxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOmCnqEu92Fr1Mu7GxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOmCnqEu92Fr1Mu4mxKKTU1Kg.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Roboto;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOlCnqEu92Fr1MmEU9fCRc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Roboto;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOlCnqEu92Fr1MmEU9fABc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Roboto;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOlCnqEu92Fr1MmEU9fCBc4AMP6lbBP.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:Roboto;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOlCnqEu92Fr1MmEU9fBxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:Roboto;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOlCnqEu92Fr1MmEU9fCxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:Roboto;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOlCnqEu92Fr1MmEU9fChc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Roboto;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOlCnqEu92Fr1MmEU9fBBc4AMP6lQ.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style><style>@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_gPqPQA.woff) format('woff')}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vqPQA.woff) format('woff')}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_7PqPQA.woff) format('woff')}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0x5DF4xlVMF-BfR8bXMIjhGq3-cXbKDO1w.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0x5DF4xlVMF-BfR8bXMIjhPq3-cXbKDO1w.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0x5DF4xlVMF-BfR8bXMIjhIq3-cXbKDO1w.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0x5DF4xlVMF-BfR8bXMIjhEq3-cXbKDO1w.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0x5DF4xlVMF-BfR8bXMIjhFq3-cXbKDO1w.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0x5DF4xlVMF-BfR8bXMIjhLq3-cXbKD.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0x5DF4xlVMF-BfR8bXMIjhGq3-cXbKDO1w.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0x5DF4xlVMF-BfR8bXMIjhPq3-cXbKDO1w.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0x5DF4xlVMF-BfR8bXMIjhIq3-cXbKDO1w.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0x5DF4xlVMF-BfR8bXMIjhEq3-cXbKDO1w.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0x5DF4xlVMF-BfR8bXMIjhFq3-cXbKDO1w.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0x5DF4xlVMF-BfR8bXMIjhLq3-cXbKD.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0x5DF4xlVMF-BfR8bXMIjhGq3-cXbKDO1w.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0x5DF4xlVMF-BfR8bXMIjhPq3-cXbKDO1w.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0x5DF4xlVMF-BfR8bXMIjhIq3-cXbKDO1w.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0x5DF4xlVMF-BfR8bXMIjhEq3-cXbKDO1w.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0x5DF4xlVMF-BfR8bXMIjhFq3-cXbKDO1w.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0x5DF4xlVMF-BfR8bXMIjhLq3-cXbKD.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style><style>@font-face{font-family:'Material Icons';font-style:normal;font-weight:400;font-display:block;src:url(https://fonts.gstatic.com/s/materialicons/v85/flUhRq6tzZclQEJ-Vdg-IuiaDsNa.woff) format('woff')}.material-icons{font-family:'Material Icons';font-weight:400;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;font-feature-settings:'liga'}@font-face{font-family:'Material Icons';font-style:normal;font-weight:400;font-display:block;src:url(https://fonts.gstatic.com/s/materialicons/v85/flUhRq6tzZclQEJ-Vdg-IuiaDsNcIhQ8tQ.woff2) format('woff2')}.material-icons{font-family:'Material Icons';font-weight:400;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-feature-settings:'liga';-webkit-font-smoothing:antialiased}</style><link rel="manifest" href="pwa-manifest.json"><meta name="theme-color" content="#1976d2"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="translucent"><script async="" src="assets/js/analytics.js"></script><script>!function(e,a,n,t,s,c,g){e.GoogleAnalyticsObject=s,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,c=a.createElement(n),g=a.getElementsByTagName(n)[0],c.async=1,c.src="assets/js/analytics.js",~e.name.indexOf("NG_DEFER_BOOTSTRAP")||g.parentNode.insertBefore(c,g)}(window,document,"script",0,"ga")</script><script>window.onerror=function(){ga("send","exception",{exDescription:function(e,r,n,a,c){var l;e=e.replace(/^Error: /,""),l=c?c.stack.replace(/^Error: /,"").replace(e+"\n","").replace(/^ +/gm,"").replace(/^at /gm,"").replace(/(?: \(|@)http.+\/([^/)]+)\)?(?:\n|$)/gm,"@$1\n").replace(/ *\(eval code(:\d+:\d+)\)(?:\n|$)/gm,"@???$1\n"):r+":"+(n=n||"?")+":"+(a=a||"?");return(e+"\n"+l).substr(0,150)}.apply(null,arguments),exFatal:!0})}</script><style>html{font-size:62.5%}body{font-family:Roboto,Helvetica Neue Light,Helvetica Neue,Helvetica,Arial,Lucida Grande,sans-serif;margin:0;color:#444;font-size:16px;font-size:1.6rem;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body,html{height:100%}body{background-color:#fff}@media print{*{box-shadow:none!important}body{background:0 0!important}}</style><link rel="stylesheet" href="styles.530b0c2c887ba04e1b25.css" media="all" onload='this.media="all"'><noscript><link rel="stylesheet" href="styles.530b0c2c887ba04e1b25.css"></noscript><style>.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}</style><style>.mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1,1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}</style><style>.mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover:none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-flat-button,.mat-icon-button,.mat-stroked-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-flat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-focus-overlay,.mat-stroked-button .mat-button-ripple.mat-ripple{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button .mat-icon,.mat-icon-button i{line-height:24px}.mat-button-focus-overlay,.mat-button-ripple.mat-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity .2s cubic-bezier(.35,0,.25,1),background-color .2s cubic-bezier(.35,0,.25,1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-mini-fab,.cdk-high-contrast-active .mat-raised-button{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}</style><style>.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:.4s;transition-timing-function:cubic-bezier(.25,.8,.25,1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:.4s;transition-timing-function:cubic-bezier(.25,.8,.25,1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%,0,0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active .mat-drawer.mat-drawer-end,.cdk-high-contrast-active [dir=rtl] .mat-drawer{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%,0,0)}[dir=rtl] .mat-drawer{transform:translate3d(100%,0,0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%,0,0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}</style><style>.nav-link.highlight[_ngcontent-ng-docs-c30]{color:#ff0}</style><style>.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2s infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2s infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2s infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2s infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(.5,0,.701732,.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(.302435,.381352,.55,.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(.08)}36.65%{animation-timing-function:cubic-bezier(.334731,.12482,.785844,1);transform:scaleX(.08)}69.15%{animation-timing-function:cubic-bezier(.06,.11,.6,1);transform:scaleX(.661479)}100%{transform:scaleX(.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(.15,0,.515058,.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(.31033,.284058,.8,.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(.4,.627035,.6,.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(.15,0,.515058,.409685);transform:scaleX(.08)}19.15%{animation-timing-function:cubic-bezier(.31033,.284058,.8,.733712);transform:scaleX(.457104)}44.15%{animation-timing-function:cubic-bezier(.4,.627035,.6,.902026);transform:scaleX(.72796)}100%{transform:scaleX(.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}</style><style>.mat-card{transition:box-shadow 280ms cubic-bezier(.4,0,.2,1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-content,.mat-card-subtitle{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width:599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card-content>:first-child,.mat-card>:first-child{margin-top:0}.mat-card-content>:last-child:not(.mat-card-footer),.mat-card>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-subtitle:not(:first-child),.mat-card-title:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}</style><style>.mat-tab-group{display:flex;flex-direction:column}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:0}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width:599px){.mat-tab-label{padding:0 12px}}@media(max-width:959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height .5s cubic-bezier(.35,0,.25,1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}</style><style>.mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-pagination-after,.mat-tab-header-rtl .mat-tab-header-pagination-before{padding-right:4px}.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:"";height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform .5s cubic-bezier(.35,0,.25,1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:.5s cubic-bezier(.35,0,.25,1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:0}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width:599px){.mat-tab-label{min-width:72px}}</style><style>.mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}</style></head><body><aio-shell ng-version="12.0.0-rc.2" class="aio-notification-hide folder-guide mode-stable page-guide-router-tutorial-toh sidenav-open view-SideNav"><div id="top-of-page"></div><mat-toolbar color="primary" class="mat-toolbar app-toolbar no-print mat-primary mat-toolbar-multiple-rows"><mat-toolbar-row class="mat-toolbar-row notification-container"><aio-notification notificationid="survey-march-2020" expirationdate="2020-04-15" class="ng-tns-c22-0 ng-trigger ng-trigger-hideAnimation ng-star-inserted" style="height:0"><span class="content ng-tns-c22-0"><a href="https://goo.gle/angular-survey-2020" target="_blank" class="ng-tns-c22-0"><mat-icon role="img" svgicon="insert_comment" aria-label="Announcement" class="mat-icon notranslate icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="insert_comment"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></mat-icon><span class="message"><b>填写这份《一分钟调查》</b>，帮我们（开发组）做得更好！</span><span class="action-button">去填写</span></a></span><button mat-icon-button="" aria-label="Close" class="mat-focus-indicator close-button ng-tns-c22-0 mat-icon-button mat-button-base"><span class="mat-button-wrapper"><mat-icon role="img" svgicon="close" aria-label="Dismiss notification" class="mat-icon notranslate mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="close"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></mat-icon></span><span matripple="" class="mat-ripple mat-button-ripple mat-button-ripple-round"></span><span class="mat-button-focus-overlay"></span></button></aio-notification></mat-toolbar-row><mat-toolbar-row class="mat-toolbar-row"><button mat-button="" title="Docs menu" class="mat-focus-indicator hamburger mat-button mat-button-base"><span class="mat-button-wrapper"><mat-icon role="img" svgicon="menu" class="mat-icon notranslate mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="menu"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"></path></svg></mat-icon></span><span matripple="" class="mat-ripple mat-button-ripple"></span><span class="mat-button-focus-overlay"></span></button><a href="/" class="nav-link home"><img src="assets/images/logos/angular/logo-nav@2x.png" width="150" height="40" title="Home" alt="Home" class="ng-star-inserted"></a><aio-top-menu _nghost-ng-docs-c30="" class="ng-star-inserted"><ul _ngcontent-ng-docs-c30="" role="navigation"><li _ngcontent-ng-docs-c30="" class="ng-star-inserted"><a _ngcontent-ng-docs-c30="" class="nav-link" href="features" title="特性" target="_self"><span _ngcontent-ng-docs-c30="" class="nav-link-inner">特性</span></a></li><li _ngcontent-ng-docs-c30="" class="ng-star-inserted"><a _ngcontent-ng-docs-c30="" class="nav-link" href="docs" title="文档" target="_self"><span _ngcontent-ng-docs-c30="" class="nav-link-inner">文档</span></a></li><li _ngcontent-ng-docs-c30="" class="ng-star-inserted"><a _ngcontent-ng-docs-c30="" class="nav-link" href="resources" title="资源" target="_self"><span _ngcontent-ng-docs-c30="" class="nav-link-inner">资源</span></a></li><li _ngcontent-ng-docs-c30="" class="ng-star-inserted"><a _ngcontent-ng-docs-c30="" class="nav-link" href="events" title="会议" target="_self"><span _ngcontent-ng-docs-c30="" class="nav-link-inner">会议</span></a></li><li _ngcontent-ng-docs-c30="" class="ng-star-inserted"><a _ngcontent-ng-docs-c30="" class="nav-link" href="https://blog.ralph.wang" title="译者汪志成的博客，包括翻译文章和原创文章" target="_blank"><span _ngcontent-ng-docs-c30="" class="nav-link-inner">译者博客</span></a></li><li _ngcontent-ng-docs-c30="" class="ng-star-inserted"><a _ngcontent-ng-docs-c30="" class="nav-link" href="translations/cn/home" title="关于中文版" target="_self"><span _ngcontent-ng-docs-c30="" class="nav-link-inner">关于中文版</span></a></li></ul></aio-top-menu><aio-search-box class="search-container"><input type="search" aria-label="search" placeholder="搜索"></aio-search-box><div class="toolbar-external-icons-container"><a href="https://twitter.com/angular" title="Twitter" aria-label="Angular on twitter"><mat-icon role="img" svgicon="logos:twitter" class="mat-icon notranslate mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="twitter" data-mat-icon-namespace="logos"><svg focusable="false" viewBox="0 0 50 59" xmlns="http://www.w3.org/2000/svg"><path d="M50,9.3c-1.8,0.8-3.8,1.4-5.9,1.6c2.1-1.3,3.7-3.3,4.5-5.7c-2,1.2-4.2,2-6.5,2.5c-1.9-2-4.5-3.2-7.5-3.2c-5.7,0-10.3,4.6-10.3,10.3c0,0.8,0.1,1.6,0.3,2.3C16.1,16.7,8.5,12.6,3.5,6.4c-0.9,1.5-1.4,3.3-1.4,5.2c0,3.6,1.8,6.7,4.6,8.5C5,20,3.4,19.6,2,18.8c0,0,0,0.1,0,0.1c0,5,3.5,9.1,8.2,10.1c-0.9,0.2-1.8,0.4-2.7,0.4c-0.7,0-1.3-0.1-1.9-0.2c1.3,4.1,5.1,7,9.6,7.1c-3.5,2.8-7.9,4.4-12.7,4.4c-0.8,0-1.6,0-2.4-0.1c4.5,2.9,9.9,4.6,15.7,4.6c18.9,0,29.2-15.6,29.2-29.2c0-0.4,0-0.9,0-1.3C46.9,13.2,48.6,11.4,50,9.3z"></path></svg></mat-icon></a><a href="https://github.com/angular/angular" title="GitHub" aria-label="Angular on github"><mat-icon role="img" svgicon="logos:github" class="mat-icon notranslate mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="github" data-mat-icon-namespace="logos"><svg focusable="false" viewBox="0 0 51.8 50.4" xmlns="http://www.w3.org/2000/svg"><path d="M25.9,0.2C11.8,0.2,0.3,11.7,0.3,25.8c0,11.3,7.3,20.9,17.5,24.3c1.3,0.2,1.7-0.6,1.7-1.2c0-0.6,0-2.6,0-4.8c-7.1,1.5-8.6-3-8.6-3c-1.2-3-2.8-3.7-2.8-3.7c-2.3-1.6,0.2-1.6,0.2-1.6c2.6,0.2,3.9,2.6,3.9,2.6c2.3,3.9,6,2.8,7.5,2.1c0.2-1.7,0.9-2.8,1.6-3.4c-5.7-0.6-11.7-2.8-11.7-12.7c0-2.8,1-5.1,2.6-6.9c-0.3-0.7-1.1-3.3,0.3-6.8c0,0,2.1-0.7,7,2.6c2-0.6,4.2-0.9,6.4-0.9c2.2,0,4.4,0.3,6.4,0.9c4.9-3.3,7-2.6,7-2.6c1.4,3.5,0.5,6.1,0.3,6.8c1.6,1.8,2.6,4.1,2.6,6.9c0,9.8-6,12-11.7,12.6c0.9,0.8,1.7,2.4,1.7,4.7c0,3.4,0,6.2,0,7c0,0.7,0.5,1.5,1.8,1.2c10.2-3.4,17.5-13,17.5-24.3C51.5,11.7,40.1,0.2,25.9,0.2z"></path></svg></mat-icon></a><a href="https://youtube.com/angular" title="YouTube" aria-label="Angular on YouTube"><mat-icon role="img" svgicon="logos:youtube" class="mat-icon notranslate mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="youtube" data-mat-icon-namespace="logos"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M21.58 7.19c-.23-.86-.91-1.54-1.77-1.77C18.25 5 12 5 12 5s-6.25 0-7.81.42c-.86.23-1.54.91-1.77 1.77C2 8.75 2 12 2 12s0 3.25.42 4.81c.23.86.91 1.54 1.77 1.77C5.75 19 12 19 12 19s6.25 0 7.81-.42c.86-.23 1.54-.91 1.77-1.77C22 15.25 22 12 22 12s0-3.25-.42-4.81zM10 15V9l5.2 3-5.2 3z"></path></svg></mat-icon></a></div></mat-toolbar-row></mat-toolbar><mat-sidenav-container role="main" class="mat-drawer-container mat-sidenav-container sidenav-container mat-drawer-transition has-floating-toc"><div class="mat-drawer-backdrop ng-star-inserted"></div><div class="cdk-visually-hidden cdk-focus-trap-anchor" aria-hidden="true"></div><mat-sidenav tabindex="-1" class="mat-drawer mat-sidenav sidenav ng-tns-c18-1 ng-trigger ng-trigger-transform mat-drawer-side ng-star-inserted mat-drawer-opened" style="transform:none;visibility:visible"><div cdkscrollable="" class="mat-drawer-inner-container ng-tns-c18-1"><aio-nav-menu class="ng-tns-c18-1"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-1 collapsed ng-star-inserted" style="position:relative" href="docs" title="Angular 文档集欢迎你！" target="_self"><span>简介</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-1 collapsed ng-star-inserted" title="建立开发环境，并学习基本概念" aria-pressed="false"><span>快速上手</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-1 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/what-is-angular" title="A brief description of the Angular platform." target="_self"><span>什么是 Angular？</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="不必搭建环境，查看并试用现成的范例应用程序。" aria-pressed="false"><span>试一试</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="start" title="Take a look at Angular's component model, template syntax, and component communication." target="_self"><span>快速上手</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="start/start-routing" title="使用浏览器的 URL 在不同的页面视图之间导航。" target="_self"><span>添加导航</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="start/start-data" title="通过 HTTP 使用服务并访问外部数据。" target="_self"><span>管理数据</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="start/start-forms" title="学习如何使用表单从用户获取并管理数据。" target="_self"><span>使用表单进行用户输入</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="start/start-deployment" title="移到本地进行开发或者把应用部署到 Firebase 或你自己的服务器。" target="_self"><span>部署应用</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/setup-local" title="使用 Angular CLI 搭建本地开发环境。" target="_self"><span>搭建环境</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-1 collapsed ng-star-inserted" title="Learn the concepts essential to becoming a proficient Angular developer." aria-pressed="false"><span>了解 Angular</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-1 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="通过数据绑定构建动态视图" aria-pressed="false"><span>组件</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/component-overview" title="如何创建 Angular 组件概览。" target="_self"><span>概览</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/lifecycle-hooks" title="Angular 会在创建、修改、删除指令和组件时，调用一些生命周期钩子方法。" target="_self"><span>组件生命周期</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/view-encapsulation" title="Describes how component CSS styles are encapsulated into a component's view." target="_self"><span>视图包装</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/component-interaction" title="在不同的指令和组件之间共享信息" target="_self"><span>组件交互</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/component-styles" title="添加专属于某个组件的样式" target="_self"><span>组件样式</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/inputs-outputs" title="Introductory guide to sharing data between parent and child directives or components." target="_self"><span>在父子组件、指令之间共享数据</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/content-projection" title="Learn how to create reusable components using Angular's content projection feature." target="_self"><span>内容投影</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/dynamic-component-loader" title="动态加载组件" target="_self"><span>动态组件</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/elements" title="把组件转换成自定义元素" target="_self"><span>Angular 元素</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="用在模板中的绑定、表达式和指令语法" aria-pressed="false"><span>模板</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/template-syntax" title="模板编写简介，如何借助数据绑定机制来显示数据、消费用户事件" target="_self"><span>简介</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/interpolation" title="An introduction to interpolation and expressions in HTML." target="_self"><span>文本插值</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/template-statements" title="模板中的语句简介，包括响应组件、指令或元素发出的事件" target="_self"><span>模板语句</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/pipes" title="管道可以在模板中转换显示的内容" target="_self"><span>管道</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/property-binding" title="介绍如何设置元素或输入的属性。" target="_self"><span>属性绑定</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/attribute-binding" title="介绍如何设置 HTML 属性（Attribute）的值" target="_self"><span>属性（Attribute）、类、样式绑定</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/event-binding" title="Introductory guide to listening for user interaction." target="_self"><span>事件绑定</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/two-way-binding" title="Introductory guide to sharing data between a class and a template." target="_self"><span>双向绑定</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/template-reference-variables" title="Introductory guide to referring to DOM elements within a template." target="_self"><span>模板引用变量</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/inputs-outputs" title="Introductory guide to sharing data between parent and child directives or components." target="_self"><span>输入与输出</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/svg-in-templates" title="Learn how to use SVGs as templates for Angular applications." target="_self"><span>用 SVG 做模板</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="Control the behavior of elements and the layout of your pages with directives." aria-pressed="false"><span>指令</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/built-in-directives" title="Introductory guide to some of the most popular built-in directives." target="_self"><span>内置指令</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/attribute-directives" title="Attribute directives attach behavior to elements." target="_self"><span>属性型指令</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/structural-directives" title="Structural directives manipulate the layout of the page." target="_self"><span>结构型指令</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="依赖注入：创建并注入各种服务。" aria-pressed="false"><span>依赖注入</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/dependency-injection" title="Angular 的依赖注入系统能够为 Angular 创建的类创建并交付它们所依赖的服务。" target="_self"><span>Angular 依赖注入</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/dependency-injection-providers" title="More about the different kinds of providers." target="_self"><span>DI 提供者</span></a></div></aio-nav-item></div></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-1 collapsed ng-star-inserted" title="Learn more about how to use Angular to build your applications." aria-pressed="false"><span>开发指南</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-1 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/router" title="使用 Angular 路由器在多个视图之间进行应用内导航。" target="_self"><span>路由与导航</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="Forms creates a cohesive, effective, and compelling data entry experience." aria-pressed="false"><span>表单</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/forms-overview" title="An Angular form coordinates a set of data-bound user controls, tracks changes, validates input, and presents errors." target="_self"><span>简介</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/reactive-forms" title="Create a reactive form using FormBuilder, groups, and arrays." target="_self"><span>响应式表单</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/form-validation" title="Validate user's form entries." target="_self"><span>验证表单输入</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/dynamic-form" title="Create dynamic form templates using FormGroup." target="_self"><span>构建动态表单</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/http" title="Use HTTP to talk to a remote server." target="_self"><span>HTTP 客户端</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="Testing your Angular apps." aria-pressed="false"><span>测试</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/testing" title="Introduction to testing an Angular app." target="_self"><span>测试简介</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/testing-code-coverage" title="Determine how much of your code is tested." target="_self"><span>代码覆盖率</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/testing-services" title="How to test services." target="_self"><span>测试服务</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/testing-components-basics" title="The fundamentals of how to test components." target="_self"><span>测试组件-基础</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/testing-components-scenarios" title="Use cases for testing components." target="_self"><span>组件测试场景</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/testing-attribute-directives" title="How to test attribute directives." target="_self"><span>测试属性型指令</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/testing-pipes" title="Writing tests for pipes." target="_self"><span>测试管道</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/test-debugging" title="How to debug tests." target="_self"><span>调试测试代码</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/testing-utility-apis" title="Features of the Angular testing utilities." target="_self"><span>测试工具 API</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/i18n" title="Translate the app's template text into multiple languages." target="_self"><span>国际化 (i18n)</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="通过动画增强用户体验。" aria-pressed="false"><span>动画</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/animations" title="Angular 动画的基础技术。" target="_self"><span>简介</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/transition-and-triggers" title="转场与触发器的高级技术。" target="_self"><span>转场与触发器</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/complex-animation-sequences" title="复杂的 Angular 动画序列。" target="_self"><span>复杂序列</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/reusable-animations" title="创建可复用的动画。" target="_self"><span>可复用动画</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/route-animations" title="为路由提供转场动画。" target="_self"><span>路由转场动画</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="Understanding schematics." aria-pressed="false"><span>原理图（Schematics）</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/schematics" title="Extending CLI generation capabilities." target="_self"><span>原理图概览</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/schematics-authoring" title="Understand the structure of a schematic." target="_self"><span>编写原理图</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/schematics-for-libraries" title="Use schematics to integrate your library with the Angular CLI." target="_self"><span>库中的原理图</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="Angular Service Worker: 控制应用资源的缓存。" aria-pressed="false"><span>Service Worker 与 PWA</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/service-worker-intro" title="Angular 对 Service Worker 的实现提升了慢速或不稳定的网络连接下的用户体验。" target="_self"><span>简介</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/service-worker-getting-started" title="在 CLI 项目中启用 Service Worker，并在浏览器中查看效果。" target="_self"><span>快速上手</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/app-shell" title="快速渲染应用的一部分，以增强启动时的体验。" target="_self"><span>应用外壳</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/service-worker-communications" title="那些能让你和 Angular 的 Service Worker 通讯的服务类。" target="_self"><span>与 Service Worker 通讯</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/service-worker-devops" title="运行带有 Service Worker 的应用、管理应用的更新、调试以及杀死应用。" target="_self"><span>生产环境下的 Service Worker</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/service-worker-config" title="配置 Service Worker 的缓存行为。" target="_self"><span>Service Worker 配置</span></a></div></aio-nav-item></div></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-1 collapsed ng-star-inserted" title="Learn how to build robust, scalable applications." aria-pressed="false"><span>最佳实践</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-1 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/security" title="Developing for content security in Angular applications." target="_self"><span>安全</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/accessibility" title="Design apps to be accessible to all users." target="_self"><span>无障碍性</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/updating" title="Information about updating Angular applications and libraries to the latest version." target="_self"><span>保持最新</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/property-binding-best-practices" title="Use property binding efficiently." target="_self"><span>属性绑定的最佳实践</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/lazy-loading-ngmodules" title="Lazy load modules to speed up your apps." target="_self"><span>惰性加载特性模块</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/lightweight-injection-tokens" title="Optimize client app size by designing library services with lightweight injection tokens." target="_self"><span>为库准备的轻量级注入令牌</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-1 collapsed ng-star-inserted" title="Tools to help you build your Angular applications." aria-pressed="false"><span>Angular 工具</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-1 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="Build, and deployment information." aria-pressed="false"><span>开发工作流</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/deployment" title="Learn how to deploy your Angular app." target="_self"><span>部署应用</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-3 collapsed ng-star-inserted" title="Understanding ahead-of-time compilation." aria-pressed="false"><span>预先（AOT）编译器</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-3 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed ng-star-inserted" style="position:relative" href="guide/aot-compiler" title="Learn why and how to use the Ahead-of-Time (AOT) compiler." target="_self"><span>预先编译</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed ng-star-inserted" style="position:relative" href="guide/angular-compiler-options" title="Configuring AOT compilation." target="_self"><span>Angular 编译器选项</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed ng-star-inserted" style="position:relative" href="guide/aot-metadata-errors" title="Troubleshooting AOT compilation." target="_self"><span>AOT 元数据错误</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed ng-star-inserted" style="position:relative" href="guide/template-typecheck" title="Template type-checking in Angular." target="_self"><span>模板类型检查</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/build" title="Building and serving Angular apps." target="_self"><span>构建与本地服务器</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/cli-builder" title="Using builders to customize Angular CLI." target="_self"><span>CLI 构建器</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/universal" title="Render HTML server-side with Angular Universal." target="_self"><span>服务端渲染</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/language-service" title="Use Angular Language Service to speed up dev time." target="_self"><span>语言服务</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-1 expanded selected ng-star-inserted" title="End-to-end tutorials for learning Angular concepts and patterns." aria-pressed="true"><span>教程</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-1 expanded selected"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="The Tour of Heroes app is used as a reference point in many Angular examples." aria-pressed="false"><span>教程：英雄之旅</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="tutorial" title="Introduction to the Tour of Heroes app and tutorial" target="_self"><span>简介</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="tutorial/toh-pt0" title="Creating the application shell" target="_self"><span>创建项目</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="tutorial/toh-pt1" title="Part 1: Build a simple editor" target="_self"><span>1. 英雄编辑器</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="tutorial/toh-pt2" title="Part 2: Build a master/detail page with a list of heroes." target="_self"><span>2. 显示英雄列表</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="tutorial/toh-pt3" title="Part 3: Refactor the master/detail views into separate components." target="_self"><span>3. 创建特性组件</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="tutorial/toh-pt4" title="Part 4: Create a reusable service to manage hero data." target="_self"><span>4. 添加服务</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="tutorial/toh-pt5" title="Part 5: Add the Angular router and navigate among the views." target="_self"><span>5. 添加导航</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="tutorial/toh-pt6" title="Part 6: Use HTTP to retrieve and save hero data." target="_self"><span>6. 从服务器获取数据</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-2 expanded selected ng-star-inserted" title="End-to-end tutorials for learning about Angular's router." aria-pressed="true"><span>路由</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 expanded selected"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/router-tutorial" title="A tutorial that covers many patterns associated with Angular routing." target="_self"><span>在单页面应用中使用路由</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 expanded selected ng-star-inserted" style="position:relative" href="guide/router-tutorial-toh" title="Explore how to use Angular's router. Based on the Tour of Heroes example." target="_self"><span>路由器教程：英雄之旅</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/forms" title="Create a template-driven form using directives and Angular template syntax." target="_self"><span>构建模板驱动表单</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/web-worker" title="Using web workers for background processing." target="_self"><span>Web Workers</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="使用共享库扩展 Angular" aria-pressed="false"><span>Angular 库</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/libraries" title="了解如何以及何时使用或创建库" target="_self"><span>库概览</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/using-libraries" title="把已发布的库集成到应用中" target="_self"><span>使用已发布的库</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/creating-libraries" title="通过创建、发布和使用自定义库来扩展 Angular" target="_self"><span>创建库</span></a></div></aio-nav-item></div></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-1 collapsed ng-star-inserted" title="Angular 的版本发布实践、更新与升级。" aria-pressed="false"><span>发布信息</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-1 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/releases" title="Angular 的版本、发布、支持、弃用策略及实践。" target="_self"><span>发布实践</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/roadmap" title="Roadmap of the Angular team." target="_self"><span>路线图</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="Support for updating your application from version 11 to 12." aria-pressed="false"><span>升级到 v12</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/updating-to-version-12" title="Everything you need to know for updating your application from version 11 to 12." target="_self"><span>概览</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/ivy-compatibility" title="Details to help you make sure your application is compatible with Ivy." target="_self"><span>Ivy 兼容性指南</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/migration-legacy-message-id" title="Learn how to migrate legacy IDs for localization to new, more stable ones." target="_self"><span>迁移：遗留的本地化 ID</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/deprecations" title="弃用的 Angular API 和特性汇总。" target="_self"><span>弃用清单</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/ivy" title="关于 Angular Ivy 的编译与渲染管道。" target="_self"><span>Angular Ivy</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="把 AngularJS 应用增量式的升级到 Angular。" aria-pressed="false"><span>从 AngularJS 升级</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/upgrade" title="把 AngularJS 应用增量式的升级到 Angular。" target="_self"><span>升级步骤</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/upgrade-performance" title="用更灵活的方式把 AngularJS 升级到 Angular。" target="_self"><span>更关注性能的升级方式</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/ajs-quick-reference" title="学习如何把 AngularJS 的概念映射到 Angular 中。" target="_self"><span>AngularJS 与 Angular 的概念对照</span></a></div></aio-nav-item></div></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-1 collapsed ng-star-inserted" title="Reference guides for Angular features and tools." aria-pressed="false"><span>参考手册</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-1 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="Reference documentation that explains how Angular features work." aria-pressed="false"><span>概念参考手册</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-3 collapsed ng-star-inserted" title="Introduction to basic concepts for Angular applications." aria-pressed="false"><span>Angular 概念</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-3 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed ng-star-inserted" style="position:relative" href="guide/architecture" title="Basic building blocks of Angular applications." target="_self"><span>基本概念简介</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed ng-star-inserted" style="position:relative" href="guide/architecture-modules" title="About NgModules." target="_self"><span>模块简介</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed ng-star-inserted" style="position:relative" href="guide/architecture-components" title="About Components, Templates, and Views." target="_self"><span>组件简介</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed ng-star-inserted" style="position:relative" href="guide/architecture-services" title="About services and dependency injection." target="_self"><span>服务与 DI 简介</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed ng-star-inserted" style="position:relative" href="guide/architecture-next-steps" title="Beyond the basics." target="_self"><span>后续步骤</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed ng-star-inserted" style="position:relative" href="guide/binding-syntax" title="Introductory guide to coordinating app values." target="_self"><span>绑定语法</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed ng-star-inserted" style="position:relative" href="guide/event-binding-concepts" title="About event binding." target="_self"><span>事件绑定原理</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed ng-star-inserted" style="position:relative" href="guide/template-reference-variables" title="Introductory guide to referring to DOM elements within a template." target="_self"><span>模板变量</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-3 collapsed ng-star-inserted" title="Workspace and project file structure and configuration." aria-pressed="false"><span>工作区与项目的结构</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-3 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed ng-star-inserted" style="position:relative" href="guide/file-structure" title="How your Angular workspace looks on your filesystem." target="_self"><span>项目文件结构</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed ng-star-inserted" style="position:relative" href="guide/workspace-config" title="The &quot;angular.json&quot; file contains workspace and project configuration defaults for Angular CLI commands." target="_self"><span>工作区配置</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed ng-star-inserted" style="position:relative" href="guide/npm-packages" title="Description of npm packages required at development time and at runtime." target="_self"><span>npm 依赖</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed ng-star-inserted" style="position:relative" href="guide/typescript-configuration" title="TypeScript configuration for Angular developers." target="_self"><span>TypeScript 配置</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed ng-star-inserted" style="position:relative" href="guide/browser-support" title="Browser support and polyfills guide." target="_self"><span>浏览器支持</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-3 collapsed ng-star-inserted" title="NgModules." aria-pressed="false"><span>Angular 模块</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-3 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed ng-star-inserted" style="position:relative" href="guide/ngmodules" title="Use NgModules to make your apps efficient." target="_self"><span>简介</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed ng-star-inserted" style="position:relative" href="guide/ngmodule-vs-jsmodule" title="Differentiate between JavaScript modules and NgModules." target="_self"><span>JS 模块 vs Angular 模块</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed ng-star-inserted" style="position:relative" href="guide/bootstrapping" title="Tell Angular how to construct and bootstrap the app in the root &quot;AppModule&quot;." target="_self"><span>通过根模块启动应用</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed ng-star-inserted" style="position:relative" href="guide/frequent-ngmodules" title="Introduction to the most frequently used NgModules." target="_self"><span>常用 Angular 模块</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed ng-star-inserted" style="position:relative" href="guide/module-types" title="Description of the different types of feature modules." target="_self"><span>特性模块的类型</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed ng-star-inserted" style="position:relative" href="guide/entry-components" title="All about entry components in Angular." target="_self"><span>入口组件</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed ng-star-inserted" style="position:relative" href="guide/feature-modules" title="Create feature modules to organize your code." target="_self"><span>特性模块</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed ng-star-inserted" style="position:relative" href="guide/providers" title="Providing dependencies to NgModules." target="_self"><span>提供依赖</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed ng-star-inserted" style="position:relative" href="guide/singleton-services" title="Creating singleton services." target="_self"><span>单例服务</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed ng-star-inserted" style="position:relative" href="guide/sharing-ngmodules" title="Share NgModules to streamline your apps." target="_self"><span>共享 Angular 模块</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed ng-star-inserted" style="position:relative" href="guide/ngmodule-api" title="Understand the details of NgModules." target="_self"><span>NgModule API</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed ng-star-inserted" style="position:relative" href="guide/ngmodule-faq" title="Answers to frequently asked questions about NgModules." target="_self"><span>NgModule 常见问题</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-3 collapsed ng-star-inserted" title="Using observables for message passing in Angular." aria-pressed="false"><span>Observables &amp; RxJS</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-3 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed ng-star-inserted" style="position:relative" href="guide/observables" title="Using observables to pass values synchronously or asynchronously." target="_self"><span>简介</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed ng-star-inserted" style="position:relative" href="guide/rx-library" title="A library for reactive programming using observables to compose asynchronous or callback-based code." target="_self"><span>RxJS 库</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed ng-star-inserted" style="position:relative" href="guide/observables-in-angular" title="How Angular subsystems use and expect observables." target="_self"><span>Angular 中的 Observables</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed ng-star-inserted" style="position:relative" href="guide/practical-observable-usage" title="Domains in which observables are particularly useful." target="_self"><span>实际运用</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed ng-star-inserted" style="position:relative" href="guide/comparing-observables" title="How observables compare to promises and other message passing techniques." target="_self"><span>与其它技术的比较</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-3 collapsed ng-star-inserted" title="Using dependency injection in Angular." aria-pressed="false"><span>依赖注入</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-3 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed ng-star-inserted" style="position:relative" href="guide/hierarchical-dependency-injection" title="An injector tree parallels the component tree and supports nested dependencies." target="_self"><span>多级依赖注入</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed ng-star-inserted" style="position:relative" href="guide/dependency-injection-in-action" title="Techniques for dependency injection." target="_self"><span>DI 实战</span></a></div></aio-nav-item></div></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="Angular CLI command reference." aria-pressed="false"><span>CLI 命令参考手册</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="cli" title="An introduction to the CLI tool, commands, and syntax." target="_self"><span>概览</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="cli/usage-analytics-gathering" title="For administrators, guide to gathering usage analytics from your users." target="_self"><span>使用情况分析</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="cli/add" title="ng add." target="_self"><span>ng add</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="cli/analytics" title="ng analytics." target="_self"><span>ng analytics</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="cli/build" title="ng build." target="_self"><span>ng build</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="cli/config" title="ng config." target="_self"><span>ng config</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="cli/deploy" title="ng deploy." target="_self"><span>ng deploy</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="cli/doc" title="ng doc." target="_self"><span>ng doc</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="cli/e2e" title="ng e2e." target="_self"><span>ng e2e</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="cli/extract-i18n" title="ng extract-i18n." target="_self"><span>ng extract-i18n</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="cli/generate" title="ng generate." target="_self"><span>ng generate</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="cli/help" title="ng help." target="_self"><span>ng help</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="cli/lint" title="ng lint." target="_self"><span>ng lint</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="cli/new" title="ng new." target="_self"><span>ng new</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="cli/run" title="ng run." target="_self"><span>ng run</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="cli/serve" title="ng serve." target="_self"><span>ng serve</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="cli/test" title="ng test." target="_self"><span>ng test</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="cli/update" title="ng update." target="_self"><span>ng update</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="cli/version" title="ng version." target="_self"><span>ng version</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="api" title="Details of the Angular packages, classes, interfaces, and other types." target="_self"><span>API 参考手册</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="Details of the errors that can be thrown by Angular." aria-pressed="false"><span>报错参考手册</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="errors/NG0100" title="Expression Changed After Checked" target="_self"><span>NG0100: Expression Changed After Checked</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="errors/NG0200" title="Circular Dependency in DI" target="_self"><span>NG0200: Circular Dependency in DI</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="errors/NG0201" title="No Provider Found" target="_self"><span>NG0201: No Provider Found</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="errors/NG0300" title="Selector Collision" target="_self"><span>NG0300: Selector Collision</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="errors/NG0301" title="Export Not Found" target="_self"><span>NG0301: Export Not Found</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="errors/NG0302" title="Pipe Not Found" target="_self"><span>NG0302: Pipe Not Found</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="errors/NG1001" title="Argument Not Literal" target="_self"><span>NG1001: Argument Not Literal</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="errors/NG2003" title="Missing Token" target="_self"><span>NG2003: Missing Token</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="errors/NG3003" title="Import Cycle Detected" target="_self"><span>NG3003: Import Cycle Detected</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="errors/NG6999" title="Invalid metadata" target="_self"><span>NG6999: Invalid metadata</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="errors/NG8001" title="Invalid Element" target="_self"><span>NG8001: Invalid Element</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="errors/NG8002" title="Invalid Attribute" target="_self"><span>NG8002: Invalid Attribute</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="errors/NG8003" title="Missing Reference Target" target="_self"><span>NG8003: Missing Reference Target</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/example-apps-list" title="List of all of the example applications in the Angular documentation." target="_self"><span>范例应用</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/glossary" title="Brief definitions of the most important words in the Angular vocabulary." target="_self"><span>Angular 词汇表</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="Summaries of Angular syntax, coding, and doc styles." aria-pressed="false"><span>Angular 风格与用法</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/cheatsheet" title="A quick guide to common Angular coding techniques." target="_self"><span>速查表</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/styleguide" title="Guidelines for writing Angular code." target="_self"><span>代码风格指南</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="Describes how to contribute to the Angular documentation." aria-pressed="false"><span>内容贡献者指南</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/contributors-guide-overview" title="Provides an overview of how to contribute to Angular's documentation." target="_self"><span>概览</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/reviewing-content" title="Keep Angular content up-to-date by reviewing topics for accuracy." target="_self"><span>内容复查</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/updating-search-keywords" title="Help users find the content they need by adding additional search keywords." target="_self"><span>更新搜索关键字</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/updating-content-github-ui" title="Update topics in the browser through the GitHub user interface." target="_self"><span>使用 GitHub UI 修改内容</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/docs-style-guide" title="Style guide for documentation authors." target="_self"><span>文档风格指南</span></a></div></aio-nav-item></div></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><div class="mat-divider ng-star-inserted" style="margin:4px 20px;border-top:1px solid #d3d3d3"></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-1 collapsed ng-star-inserted" style="position:relative" href="https://github.com/ng-docs/ng-docs.github.io/issues" title="github 上的中文互助问答区" target="_blank"><span>互助问答</span><mat-icon role="img" class="mat-icon notranslate material-icons mat-icon-no-color ng-star-inserted" aria-hidden="true" data-mat-icon-type="font">open_in_new</mat-icon></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-1 collapsed ng-star-inserted" style="position:relative" href="https://material.angular.cn" title="Angular Material 组件库的中文文档" target="_blank"><span>官方 Material 组件库</span><mat-icon role="img" class="mat-icon notranslate material-icons mat-icon-no-color ng-star-inserted" aria-hidden="true" data-mat-icon-type="font">open_in_new</mat-icon></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-1 collapsed ng-star-inserted" style="position:relative" href="https://ng.ant.design/" title="Ant Design 的 Angular 实现，服务于企业级后台产品。" target="_blank"><span>ng-zorro 组件库</span><mat-icon role="img" class="mat-icon notranslate material-icons mat-icon-no-color ng-star-inserted" aria-hidden="true" data-mat-icon-type="font">open_in_new</mat-icon></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-1 collapsed ng-star-inserted" style="position:relative" href="https://devui.design/" title="“华为云” 开源的企业级组件库，核心设计思想是：致简、沉浸、灵活" target="_blank"><span>华为 DevUI 组件库</span><mat-icon role="img" class="mat-icon notranslate material-icons mat-icon-no-color ng-star-inserted" aria-hidden="true" data-mat-icon-type="font">open_in_new</mat-icon></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-1 collapsed ng-star-inserted" style="position:relative" href="https://ngnest.com/" title="基于 Angular 和 Nest 的 Web 应用程序框架，UI 库中涵盖了企业开发中需要的大部分组件，table、form、tree、message、dialog、menu、tabs 等一共 60+ 基础组件" target="_blank"><span>ng-nest 组件库</span><mat-icon role="img" class="mat-icon notranslate material-icons mat-icon-no-color ng-star-inserted" aria-hidden="true" data-mat-icon-type="font">open_in_new</mat-icon></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-1 collapsed ng-star-inserted" style="position:relative" href="https://ng.mobile.ant.design/" title="Ant Design Mobile 的 Angular 实现，服务于无线产品。" target="_blank"><span>ng-zorro mobile 组件库</span><mat-icon role="img" class="mat-icon notranslate material-icons mat-icon-no-color ng-star-inserted" aria-hidden="true" data-mat-icon-type="font">open_in_new</mat-icon></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-1 collapsed ng-star-inserted" style="position:relative" href="https://flutter.cn/" title="Flutter 中文文档站" target="_blank"><span>友站：Flutter 中文</span><mat-icon role="img" class="mat-icon notranslate material-icons mat-icon-no-color ng-star-inserted" aria-hidden="true" data-mat-icon-type="font">open_in_new</mat-icon></a></div></aio-nav-item></aio-nav-menu><div class="doc-version ng-tns-c18-1"><aio-select><div class="form-select-menu"><button class="form-select-button"><span><strong></strong></span><span>同步翻译版 (v12.1.0-next.1)</span></button></div></aio-select></div></div></mat-sidenav><div class="cdk-visually-hidden cdk-focus-trap-anchor" aria-hidden="true"></div><mat-sidenav-content cdkscrollable="" class="mat-drawer-content mat-sidenav-content ng-star-inserted" style="margin-left:269px"><main role="main" class="sidenav-content" id="guide-router-tutorial-toh"><aio-mode-banner></aio-mode-banner><aio-doc-viewer class=""><div style="opacity:1"><div class="github-links"><a href="https://github.com/angular/angular-cn/edit/aio/aio/content/guide/router-tutorial-toh.md?message=docs%3A%20请简述你的修改..." aria-label="提供编辑建议" title="提供编辑建议"><i class="material-icons" aria-hidden="true" role="img">mode_edit</i></a></div><div class="content"><a id="router-tutorial"></a><h1 id="router-tutorial-tour-of-heroes" translation-result="on">路由器教程：英雄之旅<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#router-tutorial-tour-of-heroes"><i class="material-icons">link</i></a></h1><aio-toc class="embedded" ng-version="12.0.0-rc.2"><div class="toc-inner no-print collapsed ng-star-inserted"><button type="button" title="Expand/collapse contents" aria-label="Expand/collapse contents" class="toc-heading embedded secondary ng-star-inserted" aria-pressed="false">目录<mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon collapsed mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><ul class="toc-list embedded"><li class="h2 ng-star-inserted" title="目标"><a href="guide/router-tutorial-toh#objectives">目标</a></li><li class="h2 ng-star-inserted" title="先决条件"><a href="guide/router-tutorial-toh#prerequisites">先决条件</a></li><li class="h2 ng-star-inserted" title="范例应用实战"><a href="guide/router-tutorial-toh#the-sample-application-in-action">范例应用实战</a></li><li class="h2 secondary ng-star-inserted" title="里程碑 1：起步"><a href="guide/router-tutorial-toh#milestone-1-getting-started">里程碑 1：起步</a></li><li class="h3 secondary ng-star-inserted" title="定义路由"><a href="guide/router-tutorial-toh#define-routes">定义路由</a></li><li class="h3 secondary ng-star-inserted" title="注册 Router 和 Routes"><a href="guide/router-tutorial-toh#register-router-and-routes">注册 <code>Router</code> 和 <code>Routes</code></a></li><li class="h3 secondary ng-star-inserted" title="添加路由出口"><a href="guide/router-tutorial-toh#add-the-router-outlet">添加路由出口</a></li><li class="h3 secondary ng-star-inserted" title="定义通配符路由"><a href="guide/router-tutorial-toh#define-a-wildcard-route">定义通配符路由</a></li><li class="h3 secondary ng-star-inserted" title="设置跳转"><a href="guide/router-tutorial-toh#set-up-redirects">设置跳转</a></li><li class="h3 secondary ng-star-inserted" title="里程碑 1 小结"><a href="guide/router-tutorial-toh#milestone-1-wrap-up">里程碑 1 小结</a></li><li class="h2 secondary ng-star-inserted" title="里程碑 2：路由模块"><a href="guide/router-tutorial-toh#milestone-2-routing-module">里程碑 2：<strong>路由模块</strong></a></li><li class="h3 secondary ng-star-inserted" title="把路由集成到应用中"><a href="guide/router-tutorial-toh#integrate-routing-with-your-app">把路由集成到应用中</a></li><li class="h3 secondary ng-star-inserted" title="将路由配置重构为路由模块"><a href="guide/router-tutorial-toh#refactor-the-routing-configuration-into-a-routing-module">将路由配置重构为路由模块</a></li><li class="h3 secondary ng-star-inserted" title="路由模块的优点"><a href="guide/router-tutorial-toh#benefits-of-a-routing-module">路由模块的优点</a></li><li class="h2 secondary ng-star-inserted" title="里程碑 3: 英雄特征区"><a href="guide/router-tutorial-toh#milestone-3-heroes-feature">里程碑 3: 英雄特征区</a></li><li class="h3 secondary ng-star-inserted" title="添加英雄管理功能"><a href="guide/router-tutorial-toh#add-heroes-functionality">添加英雄管理功能</a></li><li class="h3 secondary ng-star-inserted" title="模块导入顺序"><a href="guide/router-tutorial-toh#module-import-order">模块导入顺序</a></li><li class="h3 secondary ng-star-inserted" title="路由参数"><a href="guide/router-tutorial-toh#route-parameters">路由参数</a></li><li class="h3 secondary ng-star-inserted" title="ActivatedRoute 实战"><a href="guide/router-tutorial-toh#activated-route-in-action"><code>ActivatedRoute</code> 实战</a></li><li class="h3 secondary ng-star-inserted" title="导航回列表组件"><a href="guide/router-tutorial-toh#navigating-back-to-the-list-component">导航回列表组件</a></li><li class="h3 secondary ng-star-inserted" title="ActivatedRoute 服务中的路由参数"><a href="guide/router-tutorial-toh#route-parameters-in-the-activatedroute-service"><code>ActivatedRoute</code> 服务中的路由参数</a></li><li class="h3 secondary ng-star-inserted" title="添加路由动画"><a href="guide/router-tutorial-toh#adding-routable-animations">添加路由动画</a></li><li class="h3 secondary ng-star-inserted" title="里程碑 3 的小结"><a href="guide/router-tutorial-toh#milestone-3-wrap-up">里程碑 3 的小结</a></li><li class="h2 secondary ng-star-inserted" title="里程碑 4：危机中心"><a href="guide/router-tutorial-toh#milestone-4-crisis-center-feature">里程碑 4：危机中心</a></li><li class="h3 secondary ng-star-inserted" title="带有子路由的危机中心"><a href="guide/router-tutorial-toh#a-crisis-center-with-child-routes">带有子路由的危机中心</a></li><li class="h3 secondary ng-star-inserted" title="子路由组件"><a href="guide/router-tutorial-toh#child-routing-component">子路由组件</a></li><li class="h3 secondary ng-star-inserted" title="子路由配置"><a href="guide/router-tutorial-toh#child-route-configuration">子路由配置</a></li><li class="h3 secondary ng-star-inserted" title="把危机中心模块导入到 AppModule 的路由中"><a href="guide/router-tutorial-toh#import-crisis-center-module-into-the-appmodule-routes">把危机中心模块导入到 <code>AppModule</code> 的路由中</a></li><li class="h3 secondary ng-star-inserted" title="相对导航"><a href="guide/router-tutorial-toh#relative-navigation">相对导航</a></li><li class="h3 secondary ng-star-inserted" title="使用相对 URL 导航到危机列表"><a href="guide/router-tutorial-toh#navigate-to-crisis-list-with-a-relative-url">使用相对 URL 导航到危机列表</a></li><li class="h3 secondary ng-star-inserted" title="用命名出口（outlet）显示多重路由"><a href="guide/router-tutorial-toh#displaying-multiple-routes-in-named-outlets">用命名出口（outlet）显示多重路由</a></li><li class="h2 secondary ng-star-inserted" title="里程碑 5：路由守卫"><a href="guide/router-tutorial-toh#milestone-5-route-guards">里程碑 5：路由守卫</a></li><li class="h3 secondary ng-star-inserted" title="CanActivate ：需要身份验证"><a href="guide/router-tutorial-toh#canactivate-requiring-authentication"><code>CanActivate</code> ：需要身份验证</a></li><li class="h3 secondary ng-star-inserted" title="CanActivateChild：保护子路由"><a href="guide/router-tutorial-toh#canactivatechild-guarding-child-routes"><code>CanActivateChild</code>：保护子路由</a></li><li class="h3 secondary ng-star-inserted" title="CanDeactivate：处理未保存的更改"><a href="guide/router-tutorial-toh#candeactivate-handling-unsaved-changes"><code>CanDeactivate</code>：处理未保存的更改</a></li><li class="h3 secondary ng-star-inserted" title="Resolve: 预先获取组件数据"><a href="guide/router-tutorial-toh#resolve-pre-fetching-component-data"><em>Resolve</em>: 预先获取组件数据</a></li><li class="h3 secondary ng-star-inserted" title="查询参数及片段"><a href="guide/router-tutorial-toh#query-parameters-and-fragments">查询参数及片段</a></li><li class="h2 secondary ng-star-inserted" title="里程碑 6：异步路由"><a href="guide/router-tutorial-toh#milestone-6-asynchronous-routing">里程碑 6：异步路由</a></li><li class="h3 secondary ng-star-inserted" title="惰性加载路由配置"><a href="guide/router-tutorial-toh#lazy-loading-route-configuration">惰性加载路由配置</a></li><li class="h3 secondary ng-star-inserted" title="CanLoad：保护对特性模块的未授权加载"><a href="guide/router-tutorial-toh#canload-guarding-unauthorized-loading-of-feature-modules"><code>CanLoad</code>：保护对特性模块的未授权加载</a></li><li class="h3 secondary ng-star-inserted" title="预加载：特性区的后台加载"><a href="guide/router-tutorial-toh#preloading-background-loading-of-feature-areas">预加载：特性区的后台加载</a></li><li class="h3 secondary ng-star-inserted" title="自定义预加载策略"><a href="guide/router-tutorial-toh#custom-preloading-strategy">自定义预加载策略</a></li><li class="h3 secondary ng-star-inserted" title="使用重定向迁移 URL"><a href="guide/router-tutorial-toh#migrating-urls-with-redirects">使用重定向迁移 URL</a></li><li class="h3 secondary ng-star-inserted" title="审查路由器配置"><a href="guide/router-tutorial-toh#inspect-the-routers-configuration">审查路由器配置</a></li><li class="h2 secondary ng-star-inserted" title="最终的应用"><a href="guide/router-tutorial-toh#final-app">最终的应用</a></li></ul><button type="button" title="Expand/collapse contents" aria-label="Expand/collapse contents" class="toc-more-items embedded material-icons collapsed ng-star-inserted" aria-pressed="false"></button></div></aio-toc><h1 translation-origin="off" id="router-tutorial-tour-of-heroes">Router tutorial: tour of heroes<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#router-tutorial-tour-of-heroes"><i class="material-icons">link</i></a></h1><p translation-result="on">本教程提供了关于 Angular 路由器的概要性概述。在本教程中，你将基于基本的路由器配置来探索诸如子路由、路由参数、惰性加载 NgModule、路由守卫和预加载数据等功能，以改善用户体验。</p><p translation-origin="off">This tutorial provides an extensive overview of the Angular router. In this tutorial, you will build upon a basic router configuration to explore features such as child routes, route parameters, lazy load NgModules, guard routes, and preloading data to improve the user experience.</p><p translation-result="on">有关该应用最终版本的有效示例，请参阅<live-example name="router" ng-version="12.0.0-rc.2"><span style="display:none"></span><span><span class="ng-star-inserted"><a target="_blank" title="现场演练" href="generated/live-examples/router/stackblitz.html">现场演练</a><span class="ng-star-inserted"> / <a download="" title="下载范例" href="generated/zips/router/router.zip">下载范例</a></span></span></span></live-example>。</p><p translation-origin="off">For a working example of the final version of the app, see the<live-example name="router" ng-version="12.0.0-rc.2"><span style="display:none"></span><span><span class="ng-star-inserted"><a target="_blank" title="现场演练" href="generated/live-examples/router/stackblitz.html">现场演练</a><span class="ng-star-inserted"> / <a download="" title="下载范例" href="generated/zips/router/router.zip">下载范例</a></span></span></span></live-example>.</p><a id="router-tutorial-objectives"></a><h2 id="objectives" translation-result="on">目标<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#objectives"><i class="material-icons">link</i></a></h2><h2 translation-origin="off" id="objectives">Objectives<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#objectives"><i class="material-icons">link</i></a></h2><p translation-result="on">本指南描述了一个多页路由示例应用程序的开发过程。在此过程中，它重点介绍了路由器的关键特性，例如：</p><p translation-origin="off">This guide describes development of a multi-page routed sample application. Along the way, it highlights key features of the router such as:</p><ul><li><p translation-result="on">将应用程序功能组织到模块中。</p><p translation-origin="off">Organizing the application features into modules.</p></li><li><p translation-result="on">导航到组件（从 <em>Heroes</em> 链接导航到“英雄列表”）。</p><p translation-origin="off">Navigating to a component (<em>Heroes</em> link to "Heroes List").</p></li><li><p translation-result="on">包括一个路由参数（在路由到“英雄详细信息”时传入英雄的 <code>id</code>）</p><p translation-origin="off">Including a route parameter (passing the Hero <code>id</code> while routing to the "Hero Detail").</p></li><li><p translation-result="on">子路由（<em>危机中心</em>特性区有自己的路由）。</p><p translation-origin="off">Child routes (the <em>Crisis Center</em> has its own routes).</p></li><li><p translation-result="on"><code><a href="api/router/CanActivate" class="code-anchor">CanActivate</a></code> 守卫（检查路由访问）。</p><p translation-origin="off">The <code><a href="api/router/CanActivate" class="code-anchor">CanActivate</a></code> guard (checking route access).</p></li><li><p translation-result="on"><code><a href="api/router/CanActivateChild" class="code-anchor">CanActivateChild</a></code> 守卫（检查子路由访问）。</p><p translation-origin="off">The <code><a href="api/router/CanActivateChild" class="code-anchor">CanActivateChild</a></code> guard (checking child route access).</p></li><li><p translation-result="on"><code><a href="api/router/CanDeactivate" class="code-anchor">CanDeactivate</a></code> 守卫（在放弃未保存的更改之前请求许可）。</p><p translation-origin="off">The <code><a href="api/router/CanDeactivate" class="code-anchor">CanDeactivate</a></code> guard (ask permission to discard unsaved changes).</p></li><li><p translation-result="on"><code><a href="api/router/Resolve" class="code-anchor">Resolve</a></code> 守卫（预先获取路由数据）。</p><p translation-origin="off">The <code><a href="api/router/Resolve" class="code-anchor">Resolve</a></code> guard (pre-fetching route data).</p></li><li><p translation-result="on">惰性加载 <code><a href="api/core/NgModule" class="code-anchor">NgModule</a></code> 。</p><p translation-origin="off">Lazy loading an <code><a href="api/core/NgModule" class="code-anchor">NgModule</a></code>.</p></li><li><p translation-result="on"><code><a href="api/router/CanLoad" class="code-anchor">CanLoad</a></code> 守卫（在加载功能模块的文件之前检查）。</p><p translation-origin="off">The <code><a href="api/router/CanLoad" class="code-anchor">CanLoad</a></code> guard (check before loading feature module assets).</p></li></ul><p translation-result="on">本指南按照里程碑的顺序进行，就像你逐步构建应用程序一样，但这里假定你已经熟悉 <a href="guide/architecture">Angular 的</a>基本概念。关于 Angular 的一般性介绍，请参见<a href="start">《入门指南》</a>。关于更深入的概述，请参见<a href="tutorial">《英雄之旅》</a>教程。</p><p translation-origin="off">This guide proceeds as a sequence of milestones as if you were building the app step-by-step, but assumes you are familiar with basic <a href="guide/architecture">Angular concepts</a>. For a general introduction to angular, see the <a href="start">Getting Started</a>. For a more in-depth overview, see the <a href="tutorial">Tour of Heroes</a> tutorial.</p><h2 id="prerequisites" translation-result="on">先决条件<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#prerequisites"><i class="material-icons">link</i></a></h2><h2 translation-origin="off" id="prerequisites">Prerequisites<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#prerequisites"><i class="material-icons">link</i></a></h2><p translation-result="on">要完成本教程，你应该对以下概念有基本的了解：</p><p translation-origin="off">To complete this tutorial, you should have a basic understanding of the following concepts:</p><ul><li>JavaScript</li><li>HTML</li><li>CSS</li><li><a href="/cli">Angular CLI</a></li></ul><p translation-result="on">你可能会发现<a href="/tutorial">《英雄之旅》教程</a>很有用，但这不是必需的。</p><p translation-origin="off">You might find the <a href="/tutorial">Tour of Heroes tutorial</a> helpful, but it is not required.</p><h2 id="the-sample-application-in-action" translation-result="on">范例应用实战<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#the-sample-application-in-action"><i class="material-icons">link</i></a></h2><h2 translation-origin="off" id="the-sample-application-in-action">The sample application in action<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#the-sample-application-in-action"><i class="material-icons">link</i></a></h2><p translation-result="on">本教程的示例应用会帮助“英雄雇佣管理局”找到需要各位英雄去解决的危机。</p><p translation-origin="off">The sample application for this tutorial helps the Hero Employment Agency find crises for heroes to solve.</p><p translation-result="on">本应用有三个主要的特性区：</p><p translation-origin="off">The application has three main feature areas:</p><ol><li><p translation-result="on"><em>危机中心</em>，用于维护要指派给英雄的危机列表。</p><p translation-origin="off">A <em>Crisis Center</em> for maintaining the list of crises for assignment to heroes.</p></li><li><p translation-result="on"><em>英雄</em>特性区，用于维护管理局雇佣的英雄列表。</p><p translation-origin="off">A <em>Heroes</em> area for maintaining the list of heroes employed by the agency.</p></li><li><p translation-result="on"><em>管理</em>特性区会管理危机和英雄的列表。</p><p translation-origin="off">An <em>Admin</em> area to manage the list of crises and heroes.</p></li></ol><p translation-result="on">点击<live-example name="router" title="英雄职介中心的现场演练" ng-version="12.0.0-rc.2"><span style="display:none">到在线例子的链接</span><span><span class="ng-star-inserted"><a target="_blank" title="到在线例子的链接" href="generated/live-examples/router/stackblitz.html">到在线例子的链接</a><span class="ng-star-inserted"> / <a download="" title="下载范例" href="generated/zips/router/router.zip">下载范例</a></span></span></span></live-example>试用一下。</p><p translation-origin="off">Try it by clicking on this<live-example name="router" title="Hero Employment Agency Live Example" ng-version="12.0.0-rc.2"><span style="display:none">live example link</span><span><span class="ng-star-inserted"><a target="_blank" title="live example link" href="generated/live-examples/router/stackblitz.html">live example link</a><span class="ng-star-inserted"> / <a download="" title="下载范例" href="generated/zips/router/router.zip">下载范例</a></span></span></span></live-example>.</p><p translation-result="on">该应用会渲染出一排导航按钮和和一个<em>英雄列表</em>视图。</p><p translation-origin="off">The app renders with a row of navigation buttons and the <em>Heroes</em> view with its list of heroes.</p><div class="lightbox"><img src="generated/images/guide/router/hero-list.png" alt="Hero List" width="250" height="225"></div><p translation-result="on">选择其中之一，该应用就会把你带到此英雄的编辑页面。</p><p translation-origin="off">Select one hero and the app takes you to a hero editing screen.</p><div class="lightbox"><img src="generated/images/guide/router/hero-detail.png" alt="Crisis Center Detail" width="250" height="162"></div><p translation-result="on">修改完名字，再点击“后退”按钮，应用又回到了英雄列表页，其中显示的英雄名已经变了。注意，对名字的修改会立即生效。</p><p translation-origin="off">Alter the name. Click the "Back" button and the app returns to the heroes list which displays the changed hero name. Notice that the name change took effect immediately.</p><p translation-result="on">另外你也可以点击浏览器本身的后退按钮（而不是应用中的 “Back” 按钮），这也同样会回到英雄列表页。 在 Angular 应用中导航也会和标准的 Web 导航一样更新浏览器中的历史。</p><p translation-origin="off">Had you clicked the browser's back button instead of the app's "Back" button, the app would have returned you to the heroes list as well. Angular app navigation updates the browser history as normal web navigation does.</p><p translation-result="on">现在，点击<em>危机中心</em>链接，前往<em>危机</em>列表页。</p><p translation-origin="off">Now click the <em>Crisis Center</em> link for a list of ongoing crises.</p><div class="lightbox"><img src="generated/images/guide/router/crisis-center-list.png" alt="Crisis Center List" width="250" height="209"></div><p translation-result="on">选择其中之一，该应用就会把你带到此危机的编辑页面。 <em>危机详情</em>是当前页的子组件，就在列表的紧下方。</p><p translation-origin="off">Select a crisis and the application takes you to a crisis editing screen. The <em>Crisis Detail</em> appears in a child component on the same page, beneath the list.</p><p translation-result="on">修改危机的名称。 注意，危机列表中的相应名称<strong>并没有</strong>修改。</p><p translation-origin="off">Alter the name of a crisis. Notice that the corresponding name in the crisis list does <em>not</em> change.</p><div class="lightbox"><img src="generated/images/guide/router/crisis-center-detail.png" alt="Crisis Center Detail" width="250" height="281"></div><p translation-result="on">这和<em>英雄详情</em>页略有不同。<em>英雄详情</em>会立即保存你所做的更改。 而<em>危机详情</em>页中，你的更改都是临时的 —— 除非按“保存”按钮保存它们，或者按“取消”按钮放弃它们。 这两个按钮都会导航回<em>危机中心</em>，显示危机列表。</p><p translation-origin="off">Unlike <em>Hero Detail</em>, which updates as you type, <em>Crisis Detail</em> changes are temporary until you either save or discard them by pressing the "Save" or "Cancel" buttons. Both buttons navigate back to the <em>Crisis Center</em> and its list of crises.</p><p translation-result="on">单击浏览器后退按钮或 “Heroes” 链接，可以激活一个对话框。</p><p translation-origin="off">Click the browser back button or the "Heroes" link to activate a dialog.</p><div class="lightbox"><img src="generated/images/guide/router/confirm-dialog.png" alt="Confirm Dialog" width="250" height="101"></div><p translation-result="on">你可以回答“确定”以放弃这些更改，或者回答“取消”来继续编辑。</p><p translation-origin="off">You can say "OK" and lose your changes or click "Cancel" and continue editing.</p><p translation-result="on">这种行为的幕后是路由器的 <code><a href="api/router/CanDeactivate" class="code-anchor">CanDeactivate</a></code> 守卫。 该守卫让你有机会进行清理工作或在离开当前视图之前请求用户的许可。</p><p translation-origin="off">Behind this behavior is the router's <code><a href="api/router/CanDeactivate" class="code-anchor">CanDeactivate</a></code> guard. The guard gives you a chance to clean-up or ask the user's permission before navigating away from the current view.</p><p translation-result="on"><code>Admin</code> 和 <code>Login</code> 按钮用于演示路由器的其它能力，本章稍后的部分会讲解它们。</p><p translation-origin="off">The <code>Admin</code> and <code>Login</code> buttons illustrate other router capabilities covered later in the guide.</p><a id="getting-started"></a><h2 id="milestone-1-getting-started" translation-result="on">里程碑 1：起步<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#milestone-1-getting-started"><i class="material-icons">link</i></a></h2><h2 translation-origin="off" id="milestone-1-getting-started">Milestone 1: Getting started<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#milestone-1-getting-started"><i class="material-icons">link</i></a></h2><p translation-result="on">开始本应用的一个简版，它在两个空路由之间导航。</p><p translation-origin="off">Begin with a basic version of the app that navigates between two empty views.</p><div class="lightbox"><img src="generated/images/guide/router/router-1-anim.gif" alt="App in action" width="250" height="152"></div><a id="import"></a><p translation-result="on">用 Angular CLI 生成一个范例应用。</p><p translation-origin="off">Generate a sample application with the Angular CLI.</p><code-example language="sh" ng-version="12.0.0-rc.2"><div style="display:none"></div><aio-code><pre class="lang-sh prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pln">ng new angular</span><span class="pun">-</span><span class="pln">router</span><span class="pun">-</span><span class="pln">sample</span></code>
    </pre></aio-code></code-example><h3 id="define-routes" translation-result="on">定义路由<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#define-routes"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="define-routes">Define Routes<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#define-routes"><i class="material-icons">link</i></a></h3><p translation-result="on">路由器必须用“路由定义”的列表进行配置。</p><p translation-origin="off">A router must be configured with a list of route definitions.</p><p translation-result="on">每个定义都被翻译成了一个<a href="api/router/Route">Route</a>对象。该对象有一个 <code>path</code> 字段，表示该路由中的 URL 路径部分，和一个 <code>component</code> 字段，表示与该路由相关联的组件。</p><p translation-origin="off">Each definition translates to a <a href="api/router/Route">Route</a> object which has two things: a <code>path</code>, the URL path segment for this route; and a <code>component</code>, the component associated with this route.</p><p translation-result="on">当浏览器的 URL 变化时或在代码中告诉路由器导航到一个路径时，路由器就会翻出它用来保存这些路由定义的注册表。</p><p translation-origin="off">The router draws upon its registry of definitions when the browser URL changes or when application code tells the router to navigate along a route path.</p><p translation-result="on">第一个路由执行以下操作：</p><p translation-origin="off">The first route does the following:</p><ul><li><p translation-result="on">当浏览器地址栏的 URL 变化时，如果它匹配上了路径部分 <code>/crisis-center</code>，路由器就会激活一个 <code>CrisisListComponent</code> 的实例，并显示它的视图。</p><p translation-origin="off">When the browser's location URL changes to match the path segment <code>/crisis-center</code>, then the router activates an instance of the <code>CrisisListComponent</code> and displays its view.</p></li><li><p translation-result="on">当应用程序请求导航到路径 <code>/crisis-center</code> 时，路由器激活一个 <code>CrisisListComponent</code> 的实例，显示它的视图，并将该路径更新到浏览器地址栏和历史。</p><p translation-origin="off">When the application requests navigation to the path <code>/crisis-center</code>, the router activates an instance of <code>CrisisListComponent</code>, displays its view, and updates the browser's address location and history with the URL for that path.</p></li></ul><p translation-result="on">第一个配置定义了由两个路由构成的数组，它们用最短路径指向了 <code>CrisisListComponent</code> 和 <code>HeroListComponent</code>。</p><p translation-origin="off">The first configuration defines an array of two routes with minimal paths leading to the <code>CrisisListComponent</code> and <code>HeroListComponent</code>.</p><p translation-result="on">生成 <code>CrisisList</code> 和 <code>HeroList</code> 组件，以便路由器能够渲染它们。</p><p translation-origin="off">Generate the <code>CrisisList</code> and <code>HeroList</code> components so that the router has something to render.</p><code-example language="sh" ng-version="12.0.0-rc.2"><div style="display:none"></div><aio-code><pre class="lang-sh prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pln">ng generate component crisis</span><span class="pun">-</span><span class="pln">list</span></code>
    </pre></aio-code></code-example><code-example language="sh" ng-version="12.0.0-rc.2"><div style="display:none"></div><aio-code><pre class="lang-sh prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pln">ng generate component hero</span><span class="pun">-</span><span class="pln">list</span></code>
    </pre></aio-code></code-example><p translation-result="on">把每个组件的内容都替换成下列范例 HTML。</p><p translation-origin="off">Replace the contents of each component with the sample HTML below.</p><code-tabs ng-version="12.0.0-rc.2"><div style="display:none"></div><mat-card class="mat-card mat-focus-indicator"><mat-tab-group class="mat-tab-group code-tab-group mat-primary"><mat-tab-header class="mat-tab-header"><div aria-hidden="true" mat-ripple="" class="mat-ripple mat-tab-header-pagination mat-tab-header-pagination-before mat-elevation-z4 mat-tab-header-pagination-disabled"><div class="mat-tab-header-pagination-chevron"></div></div><div class="mat-tab-label-container"><div role="tablist" class="mat-tab-list" style="transform:translateX(0)"><div class="mat-tab-labels"><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator mat-tab-label-active ng-star-inserted" id="mat-tab-label-0-0" tabindex="0" aria-posinset="1" aria-setsize="2" aria-controls="mat-tab-content-0-0" aria-selected="true" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">src/app/crisis-list/crisis-list.component.html</span></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-0-1" tabindex="-1" aria-posinset="2" aria-setsize="2" aria-controls="mat-tab-content-0-1" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">src/app/hero-list/hero-list.component.html</span></div></div></div><mat-ink-bar class="mat-ink-bar" style="visibility:visible;left:0;width:336px"></mat-ink-bar></div></div><div aria-hidden="true" mat-ripple="" class="mat-ripple mat-tab-header-pagination mat-tab-header-pagination-after mat-elevation-z4 mat-tab-header-pagination-disabled"><div class="mat-tab-header-pagination-chevron"></div></div></mat-tab-header><div class="mat-tab-body-wrapper"><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c48-2 mat-tab-body-active ng-star-inserted" id="mat-tab-content-0-0" aria-labelledby="mat-tab-label-0-0"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c48-2 ng-trigger ng-trigger-translateTab" style="transform:none"><aio-code class="ng-star-inserted" style=""><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/crisis-list/crisis-list.component.html">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="tag">&lt;h2&gt;</span><span class="pln">CRISIS CENTER</span><span class="tag">&lt;/h2&gt;</span><span class="pln">
</span><span class="tag">&lt;p&gt;</span><span class="pln">Get your crisis here</span><span class="tag">&lt;/p&gt;</span></code>
    </pre></aio-code></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c48-3 ng-star-inserted" id="mat-tab-content-0-1" aria-labelledby="mat-tab-label-0-1"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c48-3 ng-trigger ng-trigger-translateTab" style="transform:translate3d(100%,0,0);min-height:1px"></div></mat-tab-body></div></mat-tab-group></mat-card></code-tabs><h3 id="register-router-and-routes" translation-result="on">注册 <code><a href="api/router/Router" class="code-anchor">Router</a></code> 和 <code><a href="api/router/Routes-0" class="code-anchor">Routes</a></code><a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#register-router-and-routes"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="register-router-and-routes">Register <code><a href="api/router/Router" class="code-anchor">Router</a></code> and <code><a href="api/router/Routes-0" class="code-anchor">Routes</a></code><a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#register-router-and-routes"><i class="material-icons">link</i></a></h3><p translation-result="on">为了使用 <code><a href="api/router/Router" class="code-anchor">Router</a></code>，你必须注册来自 <code>@angular/router</code> 包中的 <code><a href="api/router/RouterModule" class="code-anchor">RouterModule</a></code>。定义一个路由数组 <code>appRoutes</code>，并把它传给 <code><a href="api/router/RouterModule#forRoot" class="code-anchor">RouterModule.forRoot()</a></code> 方法。<code><a href="api/router/RouterModule#forRoot" class="code-anchor">RouterModule.forRoot()</a></code> 方法会返回一个模块，其中包含配置好的 <code><a href="api/router/Router" class="code-anchor">Router</a></code> 服务提供者，以及路由库所需的其它提供者。一旦启动了应用，<code><a href="api/router/Router" class="code-anchor">Router</a></code> 就会根据当前的浏览器 URL 进行首次导航。</p><p translation-origin="off">In order to use the <code><a href="api/router/Router" class="code-anchor">Router</a></code>, you must first register the <code><a href="api/router/RouterModule" class="code-anchor">RouterModule</a></code> from the <code>@angular/router</code> package. Define an array of routes, <code>appRoutes</code>, and pass them to the <code><a href="api/router/RouterModule#forRoot" class="code-anchor">RouterModule.forRoot()</a></code> method. The <code><a href="api/router/RouterModule#forRoot" class="code-anchor">RouterModule.forRoot()</a></code> method returns a module that contains the configured <code><a href="api/router/Router" class="code-anchor">Router</a></code> service provider, plus other providers that the routing library requires. Once the application is bootstrapped, the <code><a href="api/router/Router" class="code-anchor">Router</a></code> performs the initial navigation based on the current browser URL.</p><div class="alert is-important"><p translation-result="on"><strong>注意：</strong> <code><a href="api/router/RouterModule#forRoot" class="code-anchor">RouterModule.forRoot()</a></code> 方法是用于注册全应用级提供者的编码模式。要详细了解全应用级提供者，参见<a href="guide/singleton-services#forRoot-router">单例服务</a> 一章。</p><p translation-origin="off"><strong>Note:</strong> The <code><a href="api/router/RouterModule#forRoot" class="code-anchor">RouterModule.forRoot()</a></code> method is a pattern used to register application-wide providers. Read more about application-wide providers in the <a href="guide/singleton-services#forRoot-router">Singleton services</a> guide.</p></div><code-example path="router/src/app/app.module.1.ts" header="src/app/app.module.ts (first-config)" region="first-config" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/app.module.ts (first-config)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/app.module.ts (first-config)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/core/NgModule" class="code-anchor"><span class="typ">NgModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/platform-browser/BrowserModule" class="code-anchor"><span class="typ">BrowserModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/platform-browser'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/forms/FormsModule" class="code-anchor"><span class="typ">FormsModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/forms'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/router/RouterModule" class="code-anchor"><span class="typ">RouterModule</span></a><span class="pun">,</span><span class="pln"> </span><a href="api/router/Routes-0" class="code-anchor"><span class="typ">Routes</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">AppComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./app.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CrisisListComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./crisis-list/crisis-list.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">HeroListComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./hero-list/hero-list.component'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">const</span><span class="pln"> appRoutes</span><span class="pun">:</span><span class="pln"> </span><a href="api/router/Routes-0" class="code-anchor"><span class="typ">Routes</span></a><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'crisis-center'</span><span class="pun">,</span><span class="pln"> component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">CrisisListComponent</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'heroes'</span><span class="pun">,</span><span class="pln"> component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">HeroListComponent</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
</span><span class="pun">];</span><span class="pln">

</span><span class="lit">@</span><a href="api/core/NgModule" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="api/platform-browser/BrowserModule" class="code-anchor"><span class="typ">BrowserModule</span></a><span class="pun">,</span><span class="pln">
    </span><a href="api/forms/FormsModule" class="code-anchor"><span class="typ">FormsModule</span></a><span class="pun">,</span><span class="pln">
    </span><span class="typ">RouterModule</span><span class="pun">.</span><span class="pln">forRoot</span><span class="pun">(</span><span class="pln">
      appRoutes</span><span class="pun">,</span><span class="pln">
      </span><span class="pun">{</span><span class="pln"> enableTracing</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="com">// &lt;-- debugging purposes only</span><span class="pln">
    </span><span class="pun">)</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  declarations</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">AppComponent</span><span class="pun">,</span><span class="pln">
    </span><span class="typ">HeroListComponent</span><span class="pun">,</span><span class="pln">
    </span><span class="typ">CrisisListComponent</span><span class="pun">,</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  bootstrap</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="typ">AppComponent</span><span class="pln"> </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AppModule</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span></code>
    </pre></aio-code></code-example><div class="alert is-helpful"><p translation-result="on">对于最小化的路由配置，把配置好的 <code><a href="api/router/RouterModule" class="code-anchor">RouterModule</a></code> 添加到 <code>AppModule</code> 中就足够了。但是，随着应用的成长，你将需要<a href="guide/router-tutorial-toh#refactor-the-routing-configuration-into-a-routing-module">将路由配置重构</a>到单独的文件中，并创建<a href="guide/router-tutorial-toh#routing-module">路由模块</a>，路由模块是一种特殊的、专做路由的<strong>服务模块</strong>。</p><p translation-origin="off">Adding the configured <code><a href="api/router/RouterModule" class="code-anchor">RouterModule</a></code> to the <code>AppModule</code> is sufficient for minimal route configurations. However, as the application grows, <a href="guide/router-tutorial-toh#refactor-the-routing-configuration-into-a-routing-module">refactor the routing configuration</a> into a separate file and create a <a href="guide/router-tutorial-toh#routing-module">Routing Module</a>. A routing module is a special type of <code>Service Module</code> dedicated to routing.</p></div><p translation-result="on">把 <code><a href="api/router/RouterModule#forRoot" class="code-anchor">RouterModule.forRoot()</a></code> 注册到 <code>AppModule</code> 的 <code>imports</code> 数组中，能让该 <code><a href="api/router/Router" class="code-anchor">Router</a></code> 服务在应用的任何地方都能使用。</p><p translation-origin="off">Registering the <code><a href="api/router/RouterModule#forRoot" class="code-anchor">RouterModule.forRoot()</a></code> in the <code>AppModule</code> <code>imports</code> array makes the <code><a href="api/router/Router" class="code-anchor">Router</a></code> service available everywhere in the application.</p><a id="shell"></a><h3 id="add-the-router-outlet" translation-result="on">添加路由出口<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#add-the-router-outlet"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="add-the-router-outlet">Add the Router Outlet<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#add-the-router-outlet"><i class="material-icons">link</i></a></h3><p translation-result="on">根组件 <code>AppComponent</code> 是本应用的壳。它在顶部有一个标题、一个带两个链接的导航条，在底部有一个<em>路由器出口</em>，路由器会在它所指定的位置上渲染各个组件。</p><p translation-origin="off">The root <code>AppComponent</code> is the application shell. It has a title, a navigation bar with two links, and a router outlet where the router renders components.</p><div class="lightbox"><img src="generated/images/guide/router/shell-and-outlet.png" alt="Shell" width="300" height="102"></div><p translation-result="on">路由出口扮演一个占位符的角色，表示路由组件将会渲染到哪里。</p><p translation-origin="off">The router outlet serves as a placeholder where the routed components are rendered.</p><a id="shell-template"></a><p translation-result="on">该组件所对应的模板是这样的：</p><p translation-origin="off">The corresponding component template looks like this:</p><code-example path="router/src/app/app.component.1.html" header="src/app/app.component.html" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/app.component.html</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/app.component.html">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="tag">&lt;h1&gt;</span><span class="pln">Angular </span><a href="api/router/Router" class="code-anchor"><span class="pln">Router</span></a><span class="tag">&lt;/h1&gt;</span><span class="pln">
</span><span class="tag">&lt;nav&gt;</span><span class="pln">
  </span><span class="tag">&lt;a</span><span class="pln"> </span><a href="api/router/RouterLink" class="code-anchor"><span class="atn">routerLink</span></a><span class="pun">=</span><span class="atv">"/crisis-center"</span><span class="pln"> </span><a href="api/router/RouterLinkActive" class="code-anchor"><span class="atn">routerLinkActive</span></a><span class="pun">=</span><span class="atv">"active"</span><span class="tag">&gt;</span><span class="pln">Crisis Center</span><span class="tag">&lt;/a&gt;</span><span class="pln">
  </span><span class="tag">&lt;a</span><span class="pln"> </span><a href="api/router/RouterLink" class="code-anchor"><span class="atn">routerLink</span></a><span class="pun">=</span><span class="atv">"/heroes"</span><span class="pln"> </span><a href="api/router/RouterLinkActive" class="code-anchor"><span class="atn">routerLinkActive</span></a><span class="pun">=</span><span class="atv">"active"</span><span class="tag">&gt;</span><span class="pln">Heroes</span><span class="tag">&lt;/a&gt;</span><span class="pln">
</span><span class="tag">&lt;/nav&gt;</span><span class="pln">
</span><span class="tag">&lt;</span><a href="api/router/RouterOutlet" class="code-anchor"><span class="tag">router-outlet</span></a><span class="tag">&gt;&lt;/</span><a href="api/router/RouterOutlet" class="code-anchor"><span class="tag">router-outlet</span></a><span class="tag">&gt;</span></code>
    </pre></aio-code></code-example><a id="wildcard"></a><h3 id="define-a-wildcard-route" translation-result="on">定义通配符路由<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#define-a-wildcard-route"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="define-a-wildcard-route">Define a Wildcard route<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#define-a-wildcard-route"><i class="material-icons">link</i></a></h3><p translation-result="on">你以前在应用中创建过两个路由，一个是 <code>/crisis-center</code>，另一个是 <code>/heroes</code>。 所有其它 URL 都会导致路由器抛出错误，并让应用崩溃。</p><p translation-origin="off">You've created two routes in the app so far, one to <code>/crisis-center</code> and the other to <code>/heroes</code>. Any other URL causes the router to throw an error and crash the app.</p><p translation-result="on">可以添加一个通配符路由来拦截所有无效的 URL，并优雅的处理它们。 通配符路由的 <code>path</code> 是两个星号（<code>**</code>），它会匹配任何 URL。 而当路由器匹配不上以前定义的那些路由时，它就会选择这个通配符路由。 通配符路由可以导航到自定义的“404 Not Found”组件，也可以<a href="guide/router-tutorial-toh#redirect">重定向</a>到一个现有路由。</p><p translation-origin="off">Add a wildcard route to intercept invalid URLs and handle them gracefully. A wildcard route has a path consisting of two asterisks. It matches every URL. Thus, the router selects this wildcard route if it can't match a route earlier in the configuration. A wildcard route can navigate to a custom "404 Not Found" component or <a href="guide/router-tutorial-toh#redirect">redirect</a> to an existing route.</p><div class="alert is-helpful"><p translation-result="on">路由器会使用<a href="/guide/router#example-config">先到先得</a>的策略来选择路由。 由于通配符路由是最不具体的那个，因此务必确保它是路由配置中的<em>最后一个</em>路由。</p><p translation-origin="off">The router selects the route with a <a href="/guide/router#example-config"><em>first match wins</em></a> strategy. Because a wildcard route is the least specific route, place it last in the route configuration.</p></div><p translation-result="on">要测试本特性，请往 <code>HeroListComponent</code> 的模板中添加一个带 <code><a href="api/router/RouterLink" class="code-anchor">RouterLink</a></code> 的按钮，并且把它的链接设置为一个不存在的路由 <code>"/sidekicks"</code>。</p><p translation-origin="off">To test this feature, add a button with a <code><a href="api/router/RouterLink" class="code-anchor">RouterLink</a></code> to the <code>HeroListComponent</code> template and set the link to a non-existant route called <code>"/sidekicks"</code>.</p><code-example path="router/src/app/hero-list/hero-list.component.1.html" header="src/app/hero-list/hero-list.component.html (excerpt)" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/hero-list/hero-list.component.html (excerpt)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/hero-list/hero-list.component.html (excerpt)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="tag">&lt;h2&gt;</span><span class="pln">HEROES</span><span class="tag">&lt;/h2&gt;</span><span class="pln">
</span><span class="tag">&lt;p&gt;</span><span class="pln">Get your heroes here</span><span class="tag">&lt;/p&gt;</span><span class="pln">

</span><span class="tag">&lt;button</span><span class="pln"> </span><a href="api/router/RouterLink" class="code-anchor"><span class="atn">routerLink</span></a><span class="pun">=</span><span class="atv">"/sidekicks"</span><span class="tag">&gt;</span><span class="pln">Go to sidekicks</span><span class="tag">&lt;/button&gt;</span></code>
    </pre></aio-code></code-example><p translation-result="on">当用户点击该按钮时，应用就会失败，因为你尚未定义过 <code>"/sidekicks"</code> 路由。</p><p translation-origin="off">The application fails if the user clicks that button because you haven't defined a <code>"/sidekicks"</code> route yet.</p><p translation-result="on">不要添加 <code>"/sidekicks"</code> 路由，而是定义一个“通配符”路由，让它导航到 <code>PageNotFoundComponent</code> 组件。</p><p translation-origin="off">Instead of adding the <code>"/sidekicks"</code> route, define a <code>wildcard</code> route and have it navigate to a <code>PageNotFoundComponent</code>.</p><code-example path="router/src/app/app.module.1.ts" header="src/app/app.module.ts (wildcard)" region="wildcard" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/app.module.ts (wildcard)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/app.module.ts (wildcard)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'**'</span><span class="pun">,</span><span class="pln"> component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">PageNotFoundComponent</span><span class="pln"> </span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on">创建 <code>PageNotFoundComponent</code>，以便在用户访问无效网址时显示它。</p><p translation-origin="off">Create the <code>PageNotFoundComponent</code> to display when users visit invalid URLs.</p><code-example language="sh" ng-version="12.0.0-rc.2"><div style="display:none"></div><aio-code><pre class="lang-sh prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pln">ng generate component page</span><span class="pun">-</span><span class="pln">not</span><span class="pun">-</span><span class="pln">found</span></code>
    </pre></aio-code></code-example><code-example path="router/src/app/page-not-found/page-not-found.component.html" header="src/app/page-not-found.component.html (404 component)" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/page-not-found.component.html (404 component)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/page-not-found.component.html (404 component)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="tag">&lt;h2&gt;</span><span class="pln">Page not found</span><span class="tag">&lt;/h2&gt;</span></code>
    </pre></aio-code></code-example><p translation-result="on">现在，当用户访问 <code>/sidekicks</code> 或任何无效的 URL 时，浏览器就会显示“Page not found”。 浏览器的地址栏仍指向无效的 URL。</p><p translation-origin="off">Now when the user visits <code>/sidekicks</code>, or any other invalid URL, the browser displays "Page not found". The browser address bar continues to point to the invalid URL.</p><a id="redirect"></a><h3 id="set-up-redirects" translation-result="on">设置跳转<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#set-up-redirects"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="set-up-redirects">Set up redirects<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#set-up-redirects"><i class="material-icons">link</i></a></h3><p translation-result="on">应用启动时，浏览器地址栏中的初始 URL 默认是这样的：</p><p translation-origin="off">When the application launches, the initial URL in the browser bar is by default:</p><code-example ng-version="12.0.0-rc.2"><div style="display:none"></div><aio-code><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pln">localhost</span><span class="pun">:</span><span class="lit">4200</span></code>
    </pre></aio-code></code-example><p translation-result="on">它不能匹配上任何硬编码进来的路由，于是就会走到通配符路由中去，并且显示 <code>PageNotFoundComponent</code>。</p><p translation-origin="off">That doesn't match any of the hard-coded routes which means the router falls through to the wildcard route and displays the <code>PageNotFoundComponent</code>.</p><p translation-result="on">这个应用需要一个有效的默认路由，在这里应该用英雄列表作为默认页。当用户点击"Heroes"链接或把 <code>localhost:4200/heroes</code> 粘贴到地址栏时，它应该导航到列表页。</p><p translation-origin="off">The application needs a default route to a valid page. The default page for this app is the list of heroes. The app should navigate there as if the user clicked the "Heroes" link or pasted <code>localhost:4200/heroes</code> into the address bar.</p><p translation-result="on">添加一个 <code>redirect</code> 路由，把最初的相对 URL（<code>''</code>）转换成所需的默认路径（<code>/heroes</code>）。</p><p translation-origin="off">Add a <code>redirect</code> route that translates the initial relative URL (<code>''</code>) to the desired default path (<code>/heroes</code>).</p><p translation-result="on">在通配符路由<em>上方</em>添加一个默认路由。 在下方的代码片段中，它出现在通配符路由的紧上方，展示了这个里程碑的完整 <code>appRoutes</code>。</p><p translation-origin="off">Add the default route somewhere <em>above</em> the wildcard route. It's just above the wildcard route in the following excerpt showing the complete <code>appRoutes</code> for this milestone.</p><code-example path="router/src/app/app-routing.module.1.ts" header="src/app/app-routing.module.ts (appRoutes)" region="appRoutes" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/app-routing.module.ts (appRoutes)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/app-routing.module.ts (appRoutes)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">const</span><span class="pln"> appRoutes</span><span class="pun">:</span><span class="pln"> </span><a href="api/router/Routes-0" class="code-anchor"><span class="typ">Routes</span></a><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'crisis-center'</span><span class="pun">,</span><span class="pln"> component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">CrisisListComponent</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'heroes'</span><span class="pun">,</span><span class="pln">        component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">HeroListComponent</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln">   redirectTo</span><span class="pun">:</span><span class="pln"> </span><span class="str">'/heroes'</span><span class="pun">,</span><span class="pln"> pathMatch</span><span class="pun">:</span><span class="pln"> </span><span class="str">'full'</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'**'</span><span class="pun">,</span><span class="pln"> component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">PageNotFoundComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
</span><span class="pun">];</span></code>
    </pre></aio-code></code-example><p translation-result="on">浏览器的地址栏会显示 <code>.../heroes</code>，好像你直接在那里导航一样。</p><p translation-origin="off">The browser address bar shows <code>.../heroes</code> as if you'd navigated there directly.</p><p translation-result="on">重定向路由需要一个 <code>pathMatch</code> 属性，来告诉路由器如何用 URL 去匹配路由的路径。 在本应用中，路由器应该只有在*完整的 URL_等于 <code>''</code> 时才选择 <code>HeroListComponent</code> 组件，因此要把 <code>pathMatch</code> 设置为 <code>'full'</code>。</p><p translation-origin="off">A redirect route requires a <code>pathMatch</code> property to tell the router how to match a URL to the path of a route. In this app, the router should select the route to the <code>HeroListComponent</code> only when the <em>entire URL</em> matches <code>''</code>, so set the <code>pathMatch</code> value to <code>'full'</code>.</p><a id="pathmatch"></a><div class="callout is-helpful"><header translation-result="on">聚焦 pathMatch</header><header translation-origin="off">Spotlight on pathMatch</header><p translation-result="on">从技术角度看，<code>pathMatch = 'full'</code> 会导致 URL 中<em>剩下的</em>、未匹配的部分必须等于 <code>''</code>。 在这个例子中，跳转路由在一个顶层路由中，因此<em>剩下的_URL 和</em>完整的_URL 是一样的。</p><p translation-origin="off">Technically, <code>pathMatch = 'full'</code> results in a route hit when the <em>remaining</em>, unmatched segments of the URL match <code>''</code>. In this example, the redirect is in a top level route so the <em>remaining</em> URL and the <em>entire</em> URL are the same thing.</p><p translation-result="on"> <code>pathMatch</code> 的另一个可能的值是 <code>'prefix'</code>，它会告诉路由器：当*剩下的_URL 以这个跳转路由中的 <code>prefix</code> 值开头时，就会匹配上这个跳转路由。 但这不适用于此示例应用，因为如果 <code>pathMatch</code> 值是 <code>'prefix'</code>，那么每个 URL 都会匹配 <code>''</code>。</p><p translation-origin="off">The other possible <code>pathMatch</code> value is <code>'prefix'</code> which tells the router to match the redirect route when the remaining URL begins with the redirect route's prefix path. This doesn't apply to this sample app because if the <code>pathMatch</code> value were <code>'prefix'</code>, every URL would match <code>''</code>.</p><p translation-result="on">尝试把它设置为 <code>'prefix'</code>，并点击 <code>Go to sidekicks</code> 按钮。这是因为它是一个无效 URL，本应显示“Page not found”页。 但是，你仍然在“英雄列表”页中。在地址栏中输入一个无效的 URL，你又被路由到了 <code>/heroes</code>。 <em>每一个</em> URL，无论有效与否，都会匹配上这个路由定义。</p><p translation-origin="off">Try setting it to <code>'prefix'</code> and clicking the <code>Go to sidekicks</code> button. Since that's a bad URL, you should see the "Page not found" page. Instead, you're still on the "Heroes" page. Enter a bad URL in the browser address bar. You're instantly re-routed to <code>/heroes</code>. Every URL, good or bad, that falls through to this route definition is a match.</p><p translation-result="on">默认路由应该只有在整个URL 等于 <code>''</code> 时才重定向到 <code>HeroListComponent</code>，别忘了把重定向路由设置为 <code>pathMatch = 'full'</code>。</p><p translation-origin="off">The default route should redirect to the <code>HeroListComponent</code> only when the entire url is <code>''</code>. Remember to restore the redirect to <code>pathMatch = 'full'</code>.</p><p translation-result="on">要了解更多，参见 Victor Savkin 的帖子<a href="https://victorsavkin.com/post/146722301646/angular-router-empty-paths-componentless-routes">关于重定向</a>。</p><p translation-origin="off">Learn more in Victor Savkin's <a href="https://vsavkin.tumblr.com/post/146722301646/angular-router-empty-paths-componentless-routes">post on redirects</a>.</p></div><h3 id="milestone-1-wrap-up" translation-result="on">里程碑 1 小结<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#milestone-1-wrap-up"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="milestone-1-wrap-up">Milestone 1 wrap up<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#milestone-1-wrap-up"><i class="material-icons">link</i></a></h3><p translation-result="on">当用户单击某个链接时，该示例应用可以在两个视图之间切换。</p><p translation-origin="off">Your sample app can switch between two views when the user clicks a link.</p><p translation-result="on">里程碑 1 涵盖了以下几点的做法：</p><p translation-origin="off">Milestone 1 has covered how to do the following:</p><ul><li><p translation-result="on">加载路由库</p><p translation-origin="off">Load the router library.</p></li><li><p translation-result="on">往壳组件的模板中添加一个导航条，导航条中有一些 A 标签、<code><a href="api/router/RouterLink" class="code-anchor">routerLink</a></code> 指令和 <code><a href="api/router/RouterLinkActive" class="code-anchor">routerLinkActive</a></code> 指令</p><p translation-origin="off">Add a nav bar to the shell template with anchor tags, <code><a href="api/router/RouterLink" class="code-anchor">routerLink</a></code> and <code><a href="api/router/RouterLinkActive" class="code-anchor">routerLinkActive</a></code> directives.</p></li><li><p translation-result="on">往壳组件的模板中添加一个 <code><a href="api/router/RouterOutlet" class="code-anchor">router-outlet</a></code> 指令，视图将会被显示在那里</p><p translation-origin="off">Add a <code><a href="api/router/RouterOutlet" class="code-anchor">router-outlet</a></code> to the shell template where views are displayed.</p></li><li><p translation-result="on">用 <code><a href="api/router/RouterModule#forRoot" class="code-anchor">RouterModule.forRoot()</a></code> 配置路由器模块</p><p translation-origin="off">Configure the router module with <code><a href="api/router/RouterModule#forRoot" class="code-anchor">RouterModule.forRoot()</a></code>.</p></li><li><p translation-result="on">设置路由器，使其合成 HTML5 模式的浏览器 URL</p><p translation-origin="off">Set the router to compose HTML5 browser URLs.</p></li><li><p translation-result="on">使用通配符路由来处理无效路由</p><p translation-origin="off">Handle invalid routes with a <code>wildcard</code> route.</p></li><li><p translation-result="on">当应用在空路径下启动时，导航到默认路由</p><p translation-origin="off">Navigate to the default route when the app launches with an empty path.</p></li></ul><p translation-result="on">这个初学者应用的结构是这样的：</p><p translation-origin="off">The starter app's structure looks like this:</p><div class="filetree"><div class="file">angular-router-sample</div><div class="children"><div class="file">src</div><div class="children"><div class="file">app</div><div class="children"><div class="file">crisis-list</div><div class="children"><div class="file"><p>crisis-list.component.css</p></div><div class="file"><p>crisis-list.component.html</p></div><div class="file"><p>crisis-list.component.ts</p></div></div><div class="file">hero-list</div><div class="children"><div class="file"><p>hero-list.component.css</p></div><div class="file"><p>hero-list.component.html</p></div><div class="file"><p>hero-list.component.ts</p></div></div><div class="file">page-not-found</div><div class="children"><div class="file"><p>page-not-found.component.css</p></div><div class="file"><p>page-not-found.component.html</p></div><div class="file"><p>page-not-found.component.ts</p></div></div><div class="file">app.component.css</div><div class="file">app.component.html</div><div class="file">app.component.ts</div><div class="file"><p>app.module.ts</p></div></div><div class="file"><p>main.ts</p></div><div class="file"><p>index.html</p></div><div class="file"><p>styles.css</p></div><div class="file"><p>tsconfig.json</p></div></div><div class="file"><p>node_modules ...</p></div><div class="file"><p>package.json</p></div></div></div><p translation-result="on">下面是本里程碑中的文件列表：</p><p translation-origin="off">Here are the files in this milestone.</p><code-tabs ng-version="12.0.0-rc.2"><div style="display:none"></div><mat-card class="mat-card mat-focus-indicator"><mat-tab-group class="mat-tab-group code-tab-group mat-primary"><mat-tab-header class="mat-tab-header mat-tab-header-pagination-controls-enabled"><div aria-hidden="true" mat-ripple="" class="mat-ripple mat-tab-header-pagination mat-tab-header-pagination-before mat-elevation-z4 mat-tab-header-pagination-disabled"><div class="mat-tab-header-pagination-chevron"></div></div><div class="mat-tab-label-container"><div role="tablist" class="mat-tab-list" style="transform:translateX(0)"><div class="mat-tab-labels"><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator mat-tab-label-active ng-star-inserted" id="mat-tab-label-1-0" tabindex="0" aria-posinset="1" aria-setsize="6" aria-controls="mat-tab-content-1-0" aria-selected="true" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">app.component.html</span></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-1-1" tabindex="-1" aria-posinset="2" aria-setsize="6" aria-controls="mat-tab-content-1-1" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">app.module.ts</span></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-1-2" tabindex="-1" aria-posinset="3" aria-setsize="6" aria-controls="mat-tab-content-1-2" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">hero-list/hero-list.component.html</span></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-1-3" tabindex="-1" aria-posinset="4" aria-setsize="6" aria-controls="mat-tab-content-1-3" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">crisis-list/crisis-list.component.html</span></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-1-4" tabindex="-1" aria-posinset="5" aria-setsize="6" aria-controls="mat-tab-content-1-4" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">page-not-found/page-not-found.component.html</span></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-1-5" tabindex="-1" aria-posinset="6" aria-setsize="6" aria-controls="mat-tab-content-1-5" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">index.html</span></div></div></div><mat-ink-bar class="mat-ink-bar" style="visibility:visible;left:0;width:181px"></mat-ink-bar></div></div><div aria-hidden="true" mat-ripple="" class="mat-ripple mat-tab-header-pagination mat-tab-header-pagination-after mat-elevation-z4"><div class="mat-tab-header-pagination-chevron"></div></div></mat-tab-header><div class="mat-tab-body-wrapper"><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c48-4 mat-tab-body-active ng-star-inserted" id="mat-tab-content-1-0" aria-labelledby="mat-tab-label-1-0"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c48-4 ng-trigger ng-trigger-translateTab" style="transform:none"><aio-code class="ng-star-inserted" style=""><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app.component.html">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="tag">&lt;h1&gt;</span><span class="pln">Angular </span><a href="api/router/Router" class="code-anchor"><span class="pln">Router</span></a><span class="tag">&lt;/h1&gt;</span><span class="pln">
</span><span class="tag">&lt;nav&gt;</span><span class="pln">
  </span><span class="tag">&lt;a</span><span class="pln"> </span><a href="api/router/RouterLink" class="code-anchor"><span class="atn">routerLink</span></a><span class="pun">=</span><span class="atv">"/crisis-center"</span><span class="pln"> </span><a href="api/router/RouterLinkActive" class="code-anchor"><span class="atn">routerLinkActive</span></a><span class="pun">=</span><span class="atv">"active"</span><span class="tag">&gt;</span><span class="pln">Crisis Center</span><span class="tag">&lt;/a&gt;</span><span class="pln">
  </span><span class="tag">&lt;a</span><span class="pln"> </span><a href="api/router/RouterLink" class="code-anchor"><span class="atn">routerLink</span></a><span class="pun">=</span><span class="atv">"/heroes"</span><span class="pln"> </span><a href="api/router/RouterLinkActive" class="code-anchor"><span class="atn">routerLinkActive</span></a><span class="pun">=</span><span class="atv">"active"</span><span class="tag">&gt;</span><span class="pln">Heroes</span><span class="tag">&lt;/a&gt;</span><span class="pln">
</span><span class="tag">&lt;/nav&gt;</span><span class="pln">
</span><span class="tag">&lt;</span><a href="api/router/RouterOutlet" class="code-anchor"><span class="tag">router-outlet</span></a><span class="tag">&gt;&lt;/</span><a href="api/router/RouterOutlet" class="code-anchor"><span class="tag">router-outlet</span></a><span class="tag">&gt;</span></code>
    </pre></aio-code></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c48-5 ng-star-inserted" id="mat-tab-content-1-1" aria-labelledby="mat-tab-label-1-1"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c48-5 ng-trigger ng-trigger-translateTab" style="transform:translate3d(100%,0,0);min-height:1px"></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c48-6 ng-star-inserted" id="mat-tab-content-1-2" aria-labelledby="mat-tab-label-1-2"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c48-6 ng-trigger ng-trigger-translateTab" style="transform:translate3d(100%,0,0);min-height:1px"></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c48-7 ng-star-inserted" id="mat-tab-content-1-3" aria-labelledby="mat-tab-label-1-3"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c48-7 ng-trigger ng-trigger-translateTab" style="transform:translate3d(100%,0,0);min-height:1px"></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c48-8 ng-star-inserted" id="mat-tab-content-1-4" aria-labelledby="mat-tab-label-1-4"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c48-8 ng-trigger ng-trigger-translateTab" style="transform:translate3d(100%,0,0);min-height:1px"></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c48-9 ng-star-inserted" id="mat-tab-content-1-5" aria-labelledby="mat-tab-label-1-5"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c48-9 ng-trigger ng-trigger-translateTab" style="transform:translate3d(100%,0,0);min-height:1px"></div></mat-tab-body></div></mat-tab-group></mat-card></code-tabs><a id="routing-module"></a><h2 id="milestone-2-routing-module" translation-result="on">里程碑 2：<strong>路由模块</strong><a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#milestone-2-routing-module"><i class="material-icons">link</i></a></h2><h2 translation-origin="off" id="milestone-2-routing-module">Milestone 2: <em>Routing module</em><a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#milestone-2-routing-module"><i class="material-icons">link</i></a></h2><p translation-result="on">这个里程碑会向你展示如何配置一个名叫<em>路由模块</em>的专用<em>模块</em>，它会保存你应用的路由配置。</p><p translation-origin="off">This milestone shows you how to configure a special-purpose module called a <em>Routing Module</em>, which holds your app's routing configuration.</p><p translation-result="on">路由模块有以下几个特点：</p><p translation-origin="off">The Routing Module has several characteristics:</p><ul><li><p translation-result="on">把路由这个关注点从其它应用类关注点中分离出去。</p><p translation-origin="off">Separates routing concerns from other application concerns.</p></li><li><p translation-result="on">测试特性模块时，可以替换或移除路由模块。</p><p translation-origin="off">Provides a module to replace or remove when testing the application.</p></li><li><p translation-result="on">为路由服务提供者（如守卫和解析器等）提供一个众所周知的位置。</p><p translation-origin="off">Provides a well-known location for routing service providers such as guards and resolvers.</p></li><li><p translation-result="on">不要声明组件。</p><p translation-origin="off">Does not declare components.</p></li></ul><a id="integrate-routing"></a><h3 id="integrate-routing-with-your-app" translation-result="on">把路由集成到应用中<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#integrate-routing-with-your-app"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="integrate-routing-with-your-app">Integrate routing with your app<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#integrate-routing-with-your-app"><i class="material-icons">link</i></a></h3><p translation-result="on">路由应用范例中默认不包含路由。 要想在使用 <a href="cli">Angular CLI</a> 创建项目时支持路由，请为项目或应用的每个 NgModule 设置 <code>--routing</code> 选项。 当你用 CLI 命令 <a href="cli/new"><code>ng new</code></a>创建新项目或用 <a href="cli/generate"><code>ng generate app</code></a>命令创建新应用，请指定 <code>--routing</code> 选项。这会告诉 CLI 包含上 <code>@angular/router</code> 包，并创建一个名叫 <code>app-routing.module.ts</code> 的文件。 然后你就可以在添加到项目或应用中的任何 NgModule 中使用路由功能了。</p><p translation-origin="off">The sample routing application does not include routing by default. When you use the <a href="cli">Angular CLI</a> to create a project that does use routing, set the <code>--routing</code> option for the project or app, and for each NgModule. When you create or initialize a new project (using the CLI <a href="cli/new"><code>ng new</code></a>command) or a new app (using the <a href="cli/generate"><code>ng generate app</code></a>command), specify the <code>--routing</code> option. This tells the CLI to include the <code>@angular/router</code> npm package and create a file named <code>app-routing.module.ts</code>. You can then use routing in any NgModule that you add to the project or app.</p><p translation-result="on">比如，可以用下列命令生成带路由的 NgModule。</p><p translation-origin="off">For example, the following command generates an NgModule that can use routing.</p><code-example language="sh" ng-version="12.0.0-rc.2"><div style="display:none"></div><aio-code><pre class="lang-sh prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pln">ng generate module my</span><span class="pun">-</span><span class="pln">module </span><span class="pun">--</span><span class="pln">routing</span></code>
    </pre></aio-code></code-example><p translation-result="on">这将创建一个名叫 <code>my-module-routing.module.ts</code> 的独立文件，来保存这个 NgModule 的路由信息。 该文件包含一个空的 <code><a href="api/router/Routes-0" class="code-anchor">Routes</a></code> 对象，你可以使用一些指向各个组件和 NgModule 的路由来填充该对象。</p><p translation-origin="off">This creates a separate file named <code>my-module-routing.module.ts</code> to store the NgModule's routes. The file includes an empty <code><a href="api/router/Routes-0" class="code-anchor">Routes</a></code> object that you can fill with routes to different components and NgModules.</p><a id="routing-refactor"></a><h3 id="refactor-the-routing-configuration-into-a-routing-module" translation-result="on">将路由配置重构为路由模块<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#refactor-the-routing-configuration-into-a-routing-module"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="refactor-the-routing-configuration-into-a-routing-module">Refactor the routing configuration into a routing module<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#refactor-the-routing-configuration-into-a-routing-module"><i class="material-icons">link</i></a></h3><p translation-result="on">在 <code>/app</code> 目录下创建一个 <code>AppRouting</code> 模块，以包含路由配置。</p><p translation-origin="off">Create an <code>AppRouting</code> module in the <code>/app</code> folder to contain the routing configuration.</p><code-example language="sh" ng-version="12.0.0-rc.2"><div style="display:none"></div><aio-code><pre class="lang-sh prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pln">ng generate module app</span><span class="pun">-</span><span class="pln">routing </span><span class="pun">--</span><span class="pln">module app </span><span class="pun">--</span><span class="pln">flat</span></code>
    </pre></aio-code></code-example><p translation-result="on">导入 <code>CrisisListComponent</code>、<code>HeroListComponent</code> 和 <code>PageNotFoundCompponent</code> 组件，就像 <code>app.module.ts</code> 中那样。然后把 <code><a href="api/router/Router" class="code-anchor">Router</a></code> 的导入语句和路由配置以及 <code><a href="api/router/RouterModule#forRoot" class="code-anchor">RouterModule.forRoot()</a></code> 移入这个路由模块中。</p><p translation-origin="off">Import the <code>CrisisListComponent</code>, <code>HeroListComponent</code>, and <code>PageNotFoundComponent</code> symbols just like you did in the <code>app.module.ts</code>. Then move the <code><a href="api/router/Router" class="code-anchor">Router</a></code> imports and routing configuration, including <code><a href="api/router/RouterModule#forRoot" class="code-anchor">RouterModule.forRoot()</a></code>, into this routing module.</p><p translation-result="on">把 Angular 的 <code><a href="api/router/RouterModule" class="code-anchor">RouterModule</a></code> 添加到该模块的 <code>exports</code> 数组中，以便再次导出它。 通过再次导出 <code><a href="api/router/RouterModule" class="code-anchor">RouterModule</a></code>，当在 <code>AppModule</code> 中导入了 <code>AppRoutingModule</code> 之后，那些声明在 <code>AppModule</code> 中的组件就可以访问路由指令了，比如 <code><a href="api/router/RouterLink" class="code-anchor">RouterLink</a></code> 和 <code><a href="api/router/RouterOutlet" class="code-anchor">RouterOutlet</a></code>。</p><p translation-origin="off">Re-export the Angular <code><a href="api/router/RouterModule" class="code-anchor">RouterModule</a></code> by adding it to the module <code>exports</code> array. By re-exporting the <code><a href="api/router/RouterModule" class="code-anchor">RouterModule</a></code> here, the components declared in <code>AppModule</code> have access to router directives such as <code><a href="api/router/RouterLink" class="code-anchor">RouterLink</a></code> and <code><a href="api/router/RouterOutlet" class="code-anchor">RouterOutlet</a></code>.</p><p translation-result="on">做完这些之后，该文件变成了这样：</p><p translation-origin="off">After these steps, the file should look like this.</p><code-example path="router/src/app/app-routing.module.1.ts" header="src/app/app-routing.module.ts" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/app-routing.module.ts</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/app-routing.module.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/core/NgModule" class="code-anchor"><span class="typ">NgModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/router/RouterModule" class="code-anchor"><span class="typ">RouterModule</span></a><span class="pun">,</span><span class="pln"> </span><a href="api/router/Routes-0" class="code-anchor"><span class="typ">Routes</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CrisisListComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./crisis-list/crisis-list.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">HeroListComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./hero-list/hero-list.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">PageNotFoundComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./page-not-found/page-not-found.component'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">const</span><span class="pln"> appRoutes</span><span class="pun">:</span><span class="pln"> </span><a href="api/router/Routes-0" class="code-anchor"><span class="typ">Routes</span></a><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'crisis-center'</span><span class="pun">,</span><span class="pln"> component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">CrisisListComponent</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'heroes'</span><span class="pun">,</span><span class="pln">        component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">HeroListComponent</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln">   redirectTo</span><span class="pun">:</span><span class="pln"> </span><span class="str">'/heroes'</span><span class="pun">,</span><span class="pln"> pathMatch</span><span class="pun">:</span><span class="pln"> </span><span class="str">'full'</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'**'</span><span class="pun">,</span><span class="pln"> component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">PageNotFoundComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
</span><span class="pun">];</span><span class="pln">

</span><span class="lit">@</span><a href="api/core/NgModule" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">RouterModule</span><span class="pun">.</span><span class="pln">forRoot</span><span class="pun">(</span><span class="pln">
      appRoutes</span><span class="pun">,</span><span class="pln">
      </span><span class="pun">{</span><span class="pln"> enableTracing</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="com">// &lt;-- debugging purposes only</span><span class="pln">
    </span><span class="pun">)</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  exports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="api/router/RouterModule" class="code-anchor"><span class="typ">RouterModule</span></a><span class="pln">
  </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AppRoutingModule</span><span class="pln"> </span><span class="pun">{}</span></code>
    </pre></aio-code></code-example><p translation-result="on">接下来，修改 <code>app.module.ts</code> 文件，从 <code>imports</code> 数组中移除 <code>RouterModule.forRoot</code>。</p><p translation-origin="off">Next, update the <code>app.module.ts</code> file by removing <code>RouterModule.forRoot</code> in the <code>imports</code> array.</p><code-example path="router/src/app/app.module.2.ts" header="src/app/app.module.ts" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/app.module.ts</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/app.module.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/core/NgModule" class="code-anchor"><span class="typ">NgModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/platform-browser/BrowserModule" class="code-anchor"><span class="typ">BrowserModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/platform-browser'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/forms/FormsModule" class="code-anchor"><span class="typ">FormsModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/forms'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">AppComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./app.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">AppRoutingModule</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./app-routing.module'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CrisisListComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./crisis-list/crisis-list.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">HeroListComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./hero-list/hero-list.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">PageNotFoundComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./page-not-found/page-not-found.component'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="api/core/NgModule" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="api/platform-browser/BrowserModule" class="code-anchor"><span class="typ">BrowserModule</span></a><span class="pun">,</span><span class="pln">
    </span><a href="api/forms/FormsModule" class="code-anchor"><span class="typ">FormsModule</span></a><span class="pun">,</span><span class="pln">
    </span><span class="typ">AppRoutingModule</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  declarations</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">AppComponent</span><span class="pun">,</span><span class="pln">
    </span><span class="typ">HeroListComponent</span><span class="pun">,</span><span class="pln">
    </span><span class="typ">CrisisListComponent</span><span class="pun">,</span><span class="pln">
    </span><span class="typ">PageNotFoundComponent</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  bootstrap</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="typ">AppComponent</span><span class="pln"> </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AppModule</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span></code>
    </pre></aio-code></code-example><div class="alert is-helpful"><p translation-result="on">稍后，本指南将向你展示如何创建<a href="guide/router-tutorial-toh#heroes-functionality">多个路由模块</a>，并<a href="guide/router-tutorial-toh#routing-module-order">以正确的顺序</a>导入这些路由模块。</p><p translation-origin="off">Later, this guide shows you how to create <a href="guide/router-tutorial-toh#heroes-functionality">multiple routing modules</a> and import those routing modules <a href="guide/router-tutorial-toh#routing-module-order">in the correct order</a>.</p></div><p translation-result="on">应用继续照常运行，你可以把路由模块作为将来每个模块维护路由配置的中心位置。</p><p translation-origin="off">The application continues to work just the same, and you can use <code>AppRoutingModule</code> as the central place to maintain future routing configuration.</p><a id="why-routing-module"></a><h3 id="benefits-of-a-routing-module" translation-result="on">路由模块的优点<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#benefits-of-a-routing-module"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="benefits-of-a-routing-module">Benefits of a routing module<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#benefits-of-a-routing-module"><i class="material-icons">link</i></a></h3><p translation-result="on">路由模块（通常称为 <code>AppRoutingModule</code> ）代替了根模板或特性模块中的路由模块。</p><p translation-origin="off">The routing module, often called the <code>AppRoutingModule</code>, replaces the routing configuration in the root or feature module.</p><p translation-result="on">这种路由模块在你的应用不断增长，以及配置中包括了专门的守卫和解析器服务时会非常有用。</p><p translation-origin="off">The routing module is helpful as your app grows and when the configuration includes specialized guard and resolver services.</p><p translation-result="on">在配置很简单时，一些开发者会跳过路由模块，并将路由配置直接混合在关联模块中（比如 <code>AppModule</code>&nbsp;）。</p><p translation-origin="off">Some developers skip the routing module when the configuration is minimal and merge the routing configuration directly into the companion module (for example, <code>AppModule</code>).</p><p translation-result="on">大多数应用都应该采用路由模块，以保持一致性。 它在配置复杂时，能确保代码干净。 它让测试特性模块更加容易。 它的存在让人一眼就能看出这个模块是带路由的。 开发者可以很自然的从路由模块中查找和扩展路由配置。</p><p translation-origin="off">Most apps should implement a routing module for consistency. It keeps the code clean when configuration becomes complex. It makes testing the feature module easier. Its existence calls attention to the fact that a module is routed. It is where developers expect to find and expand routing configuration.</p><a id="heroes-feature"></a><h2 id="milestone-3-heroes-feature" translation-result="on">里程碑 3: 英雄特征区<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#milestone-3-heroes-feature"><i class="material-icons">link</i></a></h2><h2 translation-origin="off" id="milestone-3-heroes-feature">Milestone 3: Heroes feature<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#milestone-3-heroes-feature"><i class="material-icons">link</i></a></h2><p translation-result="on">本里程碑涵盖了以下内容：</p><p translation-origin="off">This milestone covers the following:</p><ul><li><p translation-result="on">用模块把应用和路由组织为一些特性区。</p><p translation-origin="off">Organizing the app and routes into feature areas using modules.</p></li><li><p translation-result="on">命令式的从一个组件导航到另一个</p><p translation-origin="off">Navigating imperatively from one component to another.</p></li><li><p translation-result="on">通过路由传递必要信息和可选信息</p><p translation-origin="off">Passing required and optional information in route parameters.</p></li></ul><p translation-result="on">这个示例应用在<a href="tutorial/toh-pt4" title="英雄指南：服务">“英雄指南”教程</a>的“服务”部分重新创建了英雄特性区，并复用了<live-example name="toh-pt4" title="Tour of Heroes: Services example code" ng-version="12.0.0-rc.2"><span style="display:none"></span><span><span class="ng-star-inserted"><a target="_blank" title="Tour of Heroes: Services example code" href="generated/live-examples/toh-pt4/stackblitz.html">Tour of Heroes: Services example code</a><span class="ng-star-inserted"> / <a download="" title="下载范例" href="generated/zips/toh-pt4/toh-pt4.zip">下载范例</a></span></span></span></live-example>中的大部分代码。</p><p translation-origin="off">This sample app recreates the heroes feature in the "Services" section of the <a href="tutorial/toh-pt4" title="Tour of Heroes: Services">Tour of Heroes tutorial</a>, and reuses much of the code from the<live-example name="toh-pt4" title="Tour of Heroes: Services example code" ng-version="12.0.0-rc.2"><span style="display:none"></span><span><span class="ng-star-inserted"><a target="_blank" title="Tour of Heroes: Services example code" href="generated/live-examples/toh-pt4/stackblitz.html">Tour of Heroes: Services example code</a><span class="ng-star-inserted"> / <a download="" title="下载范例" href="generated/zips/toh-pt4/toh-pt4.zip">下载范例</a></span></span></span></live-example>.</p><p translation-result="on">典型的应用具有多个<em>特性区</em>，每个特性区都专注于特定的业务用途并拥有自己的文件夹。</p><p translation-origin="off">A typical application has multiple feature areas, each dedicated to a particular business purpose with its own folder.</p><p translation-result="on">该部分将向你展示如何将应用重构为不同的特性模块、将它们导入到主模块中，并在它们之间导航。</p><p translation-origin="off">This section shows you how refactor the app into different feature modules, import them into the main module and navigate among them.</p><a id="heroes-functionality"></a><h3 id="add-heroes-functionality" translation-result="on">添加英雄管理功能<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#add-heroes-functionality"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="add-heroes-functionality">Add heroes functionality<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#add-heroes-functionality"><i class="material-icons">link</i></a></h3><p translation-result="on">遵循下列步骤：</p><p translation-origin="off">Follow these steps:</p><ul><li><p translation-result="on">为了管理这些英雄，在 <code>heroes</code> 目录下创建一个带路由的 <code>HeroesModule</code>，并把它注册到根模块 <code>AppModule</code> 中。</p><p translation-origin="off">To manage the heroes, create a <code>HeroesModule</code> with routing in the heroes folder and register it with the root <code>AppModule</code>.</p></li></ul><code-example language="sh" ng-version="12.0.0-rc.2"><div style="display:none"></div><aio-code><pre class="lang-sh prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pln">ng generate module heroes</span><span class="pun">/</span><span class="pln">heroes </span><span class="pun">--</span><span class="pln">module app </span><span class="pun">--</span><span class="pln">flat </span><span class="pun">--</span><span class="pln">routing</span></code>
    </pre></aio-code></code-example><ul><li><p translation-result="on">把 <code>app</code> 下占位用的 <code>hero-list</code> 目录移到 <code>heroes</code> 目录中。</p><p translation-origin="off">Move the placeholder <code>hero-list</code> folder that's in the <code>app</code> folder into the <code>heroes</code> folder.</p></li><li><p translation-result="on">从<live-example name="toh-pt4" title="Tour of Heroes: Services example code" ng-version="12.0.0-rc.2"><span style="display:none">教程的 "服务" 部分</span><span><span class="ng-star-inserted"><a target="_blank" title="教程的 &quot;服务&quot; 部分" href="generated/live-examples/toh-pt4/stackblitz.html">教程的 "服务" 部分</a><span class="ng-star-inserted"> / <a download="" title="下载范例" href="generated/zips/toh-pt4/toh-pt4.zip">下载范例</a></span></span></span></live-example>把 <code>heroes/heroes.component.html</code> 的内容复制到 <code>hero-list.component.html</code> 模板中。</p><p translation-origin="off">Copy the contents of the <code>heroes/heroes.component.html</code> from the<live-example name="toh-pt4" title="Tour of Heroes: Services example code" ng-version="12.0.0-rc.2"><span style="display:none">"Services" tutorial</span><span><span class="ng-star-inserted"><a target="_blank" title="&quot;Services&quot; tutorial" href="generated/live-examples/toh-pt4/stackblitz.html">"Services" tutorial</a><span class="ng-star-inserted"> / <a download="" title="下载范例" href="generated/zips/toh-pt4/toh-pt4.zip">下载范例</a></span></span></span></live-example>into the <code>hero-list.component.html</code> template.</p><ul><li><p translation-result="on">给 <code>&lt;h2&gt;</code> 加文字，改成 <code>&lt;h2&gt;HEROES&lt;/h2&gt;</code>。</p><p translation-origin="off">Re-label the <code>&lt;h2&gt;</code> to <code>&lt;h2&gt;HEROES&lt;/h2&gt;</code>.</p></li><li><p translation-result="on">删除模板底部的 <code>&lt;app-hero-detail&gt;</code> 组件。</p><p translation-origin="off">Delete the <code>&lt;app-hero-detail&gt;</code> component at the bottom of the template.</p></li></ul></li><li><p translation-result="on">把现场演练中 <code>heroes/heroes.component.css</code> 文件的内容复制到 <code>hero-list.component.css</code> 文件中。</p><p translation-origin="off">Copy the contents of the <code>heroes/heroes.component.css</code> from the live example into the <code>hero-list.component.css</code> file.</p></li><li><p translation-result="on">把现场演练中 <code>heroes/heroes.component.ts</code> 文件的内容复制到 <code>hero-list.component.ts</code> 文件中。</p><p translation-origin="off">Copy the contents of the <code>heroes/heroes.component.ts</code> from the live example into the <code>hero-list.component.ts</code> file.</p><ul><li><p translation-result="on">把组件类名改为 <code>HeroListComponent</code>。</p><p translation-origin="off">Change the component class name to <code>HeroListComponent</code>.</p></li><li><p translation-result="on">把 <code>selector</code> 改为 <code>app-hero-list</code>。</p><p translation-origin="off">Change the <code>selector</code> to <code>app-hero-list</code>.</p></li></ul></li></ul><div class="alert is-helpful"><p translation-result="on">对于路由组件来说，这些选择器不是必须的，因为这些组件是在渲染页面时动态插入的，不过选择器对于在 HTML 元素树中标记和选中它们是很有用的。</p><p translation-origin="off">Selectors are not required for routed components because components are dynamically inserted when the page is rendered. However, they are useful for identifying and targeting them in your HTML element tree.</p></div><ul><li><p translation-result="on">把 <code>hero-detail</code> 目录中的 <code>hero.ts</code>、<code>hero.service.ts</code> 和 <code>mock-heroes.ts</code> 文件复制到 <code>heroes</code> 子目录下。</p><p translation-origin="off">Copy the <code>hero-detail</code> folder, the <code>hero.ts</code>, <code>hero.service.ts</code>, and <code>mock-heroes.ts</code> files into the <code>heroes</code> subfolder.</p></li><li><p translation-result="on">把 <code>message.service.ts</code> 文件复制到 <code>src/app</code> 目录下。</p><p translation-origin="off">Copy the <code>message.service.ts</code> into the <code>src/app</code> folder.</p></li><li><p translation-result="on">在 <code>hero.service.ts</code> 文件中修改导入 <code>message.service</code> 的相对路径。</p><p translation-origin="off">Update the relative path import to the <code>message.service</code> in the <code>hero.service.ts</code> file.</p></li></ul><p translation-result="on">接下来，更新 <code>HeroesModule</code> 的元数据。</p><p translation-origin="off">Next, update the <code>HeroesModule</code> metadata.</p><ul><li><p translation-result="on">导入 <code>HeroDetailComponent</code> 和 <code>HeroListComponent</code>，并添加到 <code>HeroesModule</code> 模块的 <code>declarations</code> 数组中。</p><p translation-origin="off">Import and add the <code>HeroDetailComponent</code> and <code>HeroListComponent</code> to the <code>declarations</code> array in the <code>HeroesModule</code>.</p></li></ul><code-example path="router/src/app/heroes/heroes.module.ts" header="src/app/heroes/heroes.module.ts" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/heroes/heroes.module.ts</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/heroes/heroes.module.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/core/NgModule" class="code-anchor"><span class="typ">NgModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/common/CommonModule" class="code-anchor"><span class="typ">CommonModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/common'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/forms/FormsModule" class="code-anchor"><span class="typ">FormsModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/forms'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">HeroListComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./hero-list/hero-list.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">HeroDetailComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./hero-detail/hero-detail.component'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">HeroesRoutingModule</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./heroes-routing.module'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="api/core/NgModule" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="api/common/CommonModule" class="code-anchor"><span class="typ">CommonModule</span></a><span class="pun">,</span><span class="pln">
    </span><a href="api/forms/FormsModule" class="code-anchor"><span class="typ">FormsModule</span></a><span class="pun">,</span><span class="pln">
    </span><span class="typ">HeroesRoutingModule</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  declarations</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">HeroListComponent</span><span class="pun">,</span><span class="pln">
    </span><span class="typ">HeroDetailComponent</span><span class="pln">
  </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">HeroesModule</span><span class="pln"> </span><span class="pun">{}</span></code>
    </pre></aio-code></code-example><p translation-result="on">英雄管理部分的文件结构如下：</p><p translation-origin="off">The hero management file structure is as follows:</p><div class="filetree"><div class="file"><p>src/app/heroes</p></div><div class="children"><div class="file">hero-detail</div><div class="children"><div class="file">hero-detail.component.css</div><div class="file">hero-detail.component.html</div><div class="file">hero-detail.component.ts</div></div><div class="file">hero-list</div><div class="children"><div class="file">hero-list.component.css</div><div class="file">hero-list.component.html</div><div class="file">hero-list.component.ts</div></div><div class="file"><p>hero.service.ts</p></div><div class="file">hero.ts</div><div class="file">heroes-routing.module.ts</div><div class="file"><p>heroes.module.ts</p></div><div class="file">mock-heroes.ts</div></div></div><a id="hero-routing-requirements"></a><h4 id="hero-feature-routing-requirements" translation-result="on">英雄特性区的路由需求<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#hero-feature-routing-requirements"><i class="material-icons">link</i></a></h4><h4 translation-origin="off" id="hero-feature-routing-requirements">Hero feature routing requirements<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#hero-feature-routing-requirements"><i class="material-icons">link</i></a></h4><p translation-result="on">英雄特性区中有两个相互协作的组件：英雄列表和英雄详情。当你导航到列表视图时，它会获取英雄列表并显示出来。当你点击一个英雄时，详细视图就会显示那个特定的英雄。</p><p translation-origin="off">The heroes feature has two interacting components, the hero list and the hero detail. When you navigate to list view, it gets a list of heroes and displays them. When you click on a hero, the detail view has to display that particular hero.</p><p translation-result="on">通过把所选英雄的 id 编码进路由的 URL 中，就能告诉详情视图该显示哪个英雄。</p><p translation-origin="off">You tell the detail view which hero to display by including the selected hero's id in the route URL.</p><p translation-result="on">从新位置 <code>src/app/heroes/</code> 目录中导入英雄相关的组件，并定义两个“英雄管理”路由。</p><p translation-origin="off">Import the hero components from their new locations in the <code>src/app/heroes/</code> folder and define the two hero routes.</p><p translation-result="on">现在，你有了 <code>Heroes</code> 模块的路由，还得在 <code><a href="api/router/RouterModule" class="code-anchor">RouterModule</a></code> 中把它们注册给<em>路由器</em>，和 <code>AppRoutingModule</code> 中的做法几乎完全一样，只有一项重要的差别。</p><p translation-origin="off">Now that you have routes for the <code>Heroes</code> module, register them with the <code><a href="api/router/Router" class="code-anchor">Router</a></code> via the <code><a href="api/router/RouterModule" class="code-anchor">RouterModule</a></code> as you did in the <code>AppRoutingModule</code>, with an important difference.</p><p translation-result="on">在 <code>AppRoutingModule</code> 中，你使用了静态的 <code><a href="api/router/RouterModule#forRoot" class="code-anchor">RouterModule.forRoot()</a></code> 方法来注册路由和全应用级服务提供者。在特性模块中你要改用 <code>forChild()</code> 静态方法。</p><p translation-origin="off">In the <code>AppRoutingModule</code>, you used the static <code><a href="api/router/RouterModule#forRoot" class="code-anchor">RouterModule.forRoot()</a></code> method to register the routes and application level service providers. In a feature module you use the static <code>forChild()</code> method.</p><div class="alert is-helpful"><p translation-result="on">只在根模块 <code>AppRoutingModule</code> 中调用 <code><a href="api/router/RouterModule#forRoot" class="code-anchor">RouterModule.forRoot()</a></code>（如果在 <code>AppModule</code> 中注册应用的顶层路由，那就在 <code>AppModule</code> 中调用）。 在其它模块中，你就必须调用 <code>RouterModule.forChild</code> 方法来注册附属路由。</p><p translation-origin="off">Only call <code><a href="api/router/RouterModule#forRoot" class="code-anchor">RouterModule.forRoot()</a></code> in the root <code>AppRoutingModule</code> (or the <code>AppModule</code> if that's where you register top level application routes). In any other module, you must call the <code><a href="api/router/RouterModule#forChild" class="code-anchor">RouterModule.forChild()</a></code> method to register additional routes.</p></div><p translation-result="on">修改后的 <code>HeroesRoutingModule</code> 是这样的：</p><p translation-origin="off">The updated <code>HeroesRoutingModule</code> looks like this:</p><code-example path="router/src/app/heroes/heroes-routing.module.1.ts" header="src/app/heroes/heroes-routing.module.ts" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/heroes/heroes-routing.module.ts</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/heroes/heroes-routing.module.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/core/NgModule" class="code-anchor"><span class="typ">NgModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/router/RouterModule" class="code-anchor"><span class="typ">RouterModule</span></a><span class="pun">,</span><span class="pln"> </span><a href="api/router/Routes-0" class="code-anchor"><span class="typ">Routes</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">HeroListComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./hero-list/hero-list.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">HeroDetailComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./hero-detail/hero-detail.component'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">const</span><span class="pln"> heroesRoutes</span><span class="pun">:</span><span class="pln"> </span><a href="api/router/Routes-0" class="code-anchor"><span class="typ">Routes</span></a><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'heroes'</span><span class="pun">,</span><span class="pln">  component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">HeroListComponent</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'hero/:id'</span><span class="pun">,</span><span class="pln"> component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">HeroDetailComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
</span><span class="pun">];</span><span class="pln">

</span><span class="lit">@</span><a href="api/core/NgModule" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">RouterModule</span><span class="pun">.</span><span class="pln">forChild</span><span class="pun">(</span><span class="pln">heroesRoutes</span><span class="pun">)</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  exports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="api/router/RouterModule" class="code-anchor"><span class="typ">RouterModule</span></a><span class="pln">
  </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">HeroesRoutingModule</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span></code>
    </pre></aio-code></code-example><div class="alert is-helpful"><p translation-result="on">考虑为每个特性模块提供自己的路由配置文件。虽然特性路由目前还很少，但即使在小型应用中，路由也会变得越来越复杂。</p><p translation-origin="off">Consider giving each feature module its own route configuration file. Though the feature routes are currently minimal, routes have a tendency to grow more complex even in small apps.</p></div><a id="remove-duplicate-hero-routes"></a><h4 id="remove-duplicate-hero-routes" translation-result="on">移除重复的“英雄管理”路由<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#remove-duplicate-hero-routes"><i class="material-icons">link</i></a></h4><h4 translation-origin="off" id="remove-duplicate-hero-routes">Remove duplicate hero routes<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#remove-duplicate-hero-routes"><i class="material-icons">link</i></a></h4><p translation-result="on">英雄类的路由目前定义在两个地方：<code>HeroesRoutingModule</code> 中（并最终给 <code>HeroesModule</code>）和 <code>AppRoutingModule</code> 中。</p><p translation-origin="off">The hero routes are currently defined in two places: in the <code>HeroesRoutingModule</code>, by way of the <code>HeroesModule</code>, and in the <code>AppRoutingModule</code>.</p><p translation-result="on">由特性模块提供的路由会被路由器再组合上它们所导入的模块的路由。 这让你可以继续定义特性路由模块中的路由，而不用修改主路由配置。</p><p translation-origin="off">Routes provided by feature modules are combined together into their imported module's routes by the router. This allows you to continue defining the feature module routes without modifying the main route configuration.</p><p translation-result="on">移除 <code>HeroListComponent</code> 的导入和来自 <code>app-routing.module.ts</code> 中的 <code>/heroes</code> 路由。</p><p translation-origin="off">Remove the <code>HeroListComponent</code> import and the <code>/heroes</code> route from the <code>app-routing.module.ts</code>.</p><p translation-result="on">保留默认路由和通配符路由，因为这些路由仍然要在应用的顶层使用。</p><p translation-origin="off">Leave the default and the wildcard routes as these are still in use at the top level of the application.</p><code-example path="router/src/app/app-routing.module.2.ts" header="src/app/app-routing.module.ts (v2)" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/app-routing.module.ts (v2)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/app-routing.module.ts (v2)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/core/NgModule" class="code-anchor"><span class="typ">NgModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/router/RouterModule" class="code-anchor"><span class="typ">RouterModule</span></a><span class="pun">,</span><span class="pln"> </span><a href="api/router/Routes-0" class="code-anchor"><span class="typ">Routes</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CrisisListComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./crisis-list/crisis-list.component'</span><span class="pun">;</span><span class="pln">
</span><span class="com">// import { HeroListComponent } from './hero-list/hero-list.component';  // &lt;-- delete this line</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">PageNotFoundComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./page-not-found/page-not-found.component'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">const</span><span class="pln"> appRoutes</span><span class="pun">:</span><span class="pln"> </span><a href="api/router/Routes-0" class="code-anchor"><span class="typ">Routes</span></a><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'crisis-center'</span><span class="pun">,</span><span class="pln"> component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">CrisisListComponent</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
  </span><span class="com">// { path: 'heroes',     component: HeroListComponent }, // &lt;-- delete this line</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln">   redirectTo</span><span class="pun">:</span><span class="pln"> </span><span class="str">'/heroes'</span><span class="pun">,</span><span class="pln"> pathMatch</span><span class="pun">:</span><span class="pln"> </span><span class="str">'full'</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'**'</span><span class="pun">,</span><span class="pln"> component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">PageNotFoundComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
</span><span class="pun">];</span><span class="pln">

</span><span class="lit">@</span><a href="api/core/NgModule" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">RouterModule</span><span class="pun">.</span><span class="pln">forRoot</span><span class="pun">(</span><span class="pln">
      appRoutes</span><span class="pun">,</span><span class="pln">
      </span><span class="pun">{</span><span class="pln"> enableTracing</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="com">// &lt;-- debugging purposes only</span><span class="pln">
    </span><span class="pun">)</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  exports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="api/router/RouterModule" class="code-anchor"><span class="typ">RouterModule</span></a><span class="pln">
  </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AppRoutingModule</span><span class="pln"> </span><span class="pun">{}</span></code>
    </pre></aio-code></code-example><a id="merge-hero-routes"></a><h4 id="remove-heroes-declarations" translation-result="on">移除英雄列表的声明<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#remove-heroes-declarations"><i class="material-icons">link</i></a></h4><h4 translation-origin="off" id="remove-heroes-declarations">Remove heroes declarations<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#remove-heroes-declarations"><i class="material-icons">link</i></a></h4><p translation-result="on">因为 <code>HeroesModule</code> 现在提供了 <code>HeroListComponent</code>，所以把它从 <code>AppModule</code> 的 <code>declarations</code> 数组中移除。现在你已经有了一个单独的 <code>HeroesModule</code>，你可以用更多的组件和不同的路由来演进英雄特性区。</p><p translation-origin="off">Because the <code>HeroesModule</code> now provides the <code>HeroListComponent</code>, remove it from the <code>AppModule</code>'s <code>declarations</code> array. Now that you have a separate <code>HeroesModule</code>, you can evolve the hero feature with more components and different routes.</p><p translation-result="on">经过这些步骤，<code>AppModule</code> 变成了这样：</p><p translation-origin="off">After these steps, the <code>AppModule</code> should look like this:</p><code-example path="router/src/app/app.module.3.ts" header="src/app/app.module.ts" region="remove-heroes" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/app.module.ts</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/app.module.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/core/NgModule" class="code-anchor"><span class="typ">NgModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/platform-browser/BrowserModule" class="code-anchor"><span class="typ">BrowserModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/platform-browser'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/forms/FormsModule" class="code-anchor"><span class="typ">FormsModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/forms'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">AppComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./app.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">AppRoutingModule</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./app-routing.module'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">HeroesModule</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./heroes/heroes.module'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CrisisListComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./crisis-list/crisis-list.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">PageNotFoundComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./page-not-found/page-not-found.component'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="api/core/NgModule" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="api/platform-browser/BrowserModule" class="code-anchor"><span class="typ">BrowserModule</span></a><span class="pun">,</span><span class="pln">
    </span><a href="api/forms/FormsModule" class="code-anchor"><span class="typ">FormsModule</span></a><span class="pun">,</span><span class="pln">
    </span><span class="typ">HeroesModule</span><span class="pun">,</span><span class="pln">
    </span><span class="typ">AppRoutingModule</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  declarations</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">AppComponent</span><span class="pun">,</span><span class="pln">
    </span><span class="typ">CrisisListComponent</span><span class="pun">,</span><span class="pln">
    </span><span class="typ">PageNotFoundComponent</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  bootstrap</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="typ">AppComponent</span><span class="pln"> </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AppModule</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span></code>
    </pre></aio-code></code-example><a id="routing-module-order"></a><h3 id="module-import-order" translation-result="on">模块导入顺序<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#module-import-order"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="module-import-order">Module import order<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#module-import-order"><i class="material-icons">link</i></a></h3><p translation-result="on">请注意该模块的 <code>imports</code> 数组，<code>AppRoutingModule</code> 是最后一个，并且位于 <code>HeroesModule</code> 之后。</p><p translation-origin="off">Notice that in the module <code>imports</code> array, the <code>AppRoutingModule</code> is last and comes <em>after</em> the <code>HeroesModule</code>.</p><code-example path="router/src/app/app.module.3.ts" region="module-imports" header="src/app/app.module.ts (module-imports)" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/app.module.ts (module-imports)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/app.module.ts (module-imports)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pln">imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
  </span><a href="api/platform-browser/BrowserModule" class="code-anchor"><span class="typ">BrowserModule</span></a><span class="pun">,</span><span class="pln">
  </span><a href="api/forms/FormsModule" class="code-anchor"><span class="typ">FormsModule</span></a><span class="pun">,</span><span class="pln">
  </span><span class="typ">HeroesModule</span><span class="pun">,</span><span class="pln">
  </span><span class="typ">AppRoutingModule</span><span class="pln">
</span><span class="pun">],</span></code>
    </pre></aio-code></code-example><p translation-result="on">路由配置的顺序很重要，因为路由器会接受第一个匹配上导航所要求的路径的那个路由。</p><p translation-origin="off">The order of route configuration is important because the router accepts the first route that matches a navigation request path.</p><p translation-result="on">当所有路由都在同一个 <code>AppRoutingModule</code> 时，你要把默认路由和<a href="guide/router-tutorial-toh#wildcard">通配符路由</a>放在最后（这里是在 <code>/heroes</code> 路由后面）， 这样路由器才有机会匹配到 <code>/heroes</code> 路由，否则它就会先遇到并匹配上该通配符路由，并导航到“页面未找到”路由。</p><p translation-origin="off">When all routes were in one <code>AppRoutingModule</code>, you put the default and <a href="guide/router-tutorial-toh#wildcard">wildcard</a> routes last, after the <code>/heroes</code> route, so that the router had a chance to match a URL to the <code>/heroes</code> route <em>before</em> hitting the wildcard route and navigating to "Page not found".</p><p translation-result="on">每个路由模块都会根据导入的顺序把自己的路由配置追加进去。 如果你先列出了 <code>AppRoutingModule</code>，那么通配符路由就会被注册在“英雄管理”路由<em>之前</em>。 通配符路由（它匹配<em>任意</em>URL）将会拦截住每一个到“英雄管理”路由的导航，因此事实上屏蔽了所有“英雄管理”路由。</p><p translation-origin="off">Each routing module augments the route configuration in the order of import. If you listed <code>AppRoutingModule</code> first, the wildcard route would be registered <em>before</em> the hero routes. The wildcard route—which matches <em>every</em> URL—would intercept the attempt to navigate to a hero route.</p><div class="alert is-helpful"><p translation-result="on">反转路由模块的导入顺序，就会看到当点击英雄相关的链接时被导向了“页面未找到”路由。 要学习如何在运行时查看路由器配置，参见<a href="guide/router-tutorial-toh#inspect-config" title="Inspect the router config">稍后的内容</a>。</p><p translation-origin="off">Reverse the routing modules to see a click of the heroes link resulting in "Page not found". Learn about inspecting the runtime router configuration <a href="guide/router-tutorial-toh#inspect-config" title="Inspect the router config">below</a>.</p></div><h3 id="route-parameters" translation-result="on">路由参数<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#route-parameters"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="route-parameters">Route Parameters<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#route-parameters"><i class="material-icons">link</i></a></h3><a id="route-def-with-parameter"></a><h4 id="route-definition-with-a-parameter" translation-result="on">带参数的路由定义<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#route-definition-with-a-parameter"><i class="material-icons">link</i></a></h4><h4 translation-origin="off" id="route-definition-with-a-parameter">Route definition with a parameter<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#route-definition-with-a-parameter"><i class="material-icons">link</i></a></h4><p translation-result="on">回到 <code>HeroesRoutingModule</code> 并再次检查这些路由定义。 <code>HeroDetailComponent</code> 路由的路径中带有 <code>:id</code> 令牌。</p><p translation-origin="off">Return to the <code>HeroesRoutingModule</code> and look at the route definitions again. The route to <code>HeroDetailComponent</code> has an <code>:id</code> token in the path.</p><code-example path="router/src/app/heroes/heroes-routing.module.1.ts" header="src/app/heroes/heroes-routing.module.ts (excerpt)" region="hero-detail-route" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/heroes/heroes-routing.module.ts (excerpt)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/heroes/heroes-routing.module.ts (excerpt)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'hero/:id'</span><span class="pun">,</span><span class="pln"> component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">HeroDetailComponent</span><span class="pln"> </span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on"><code>:id</code> 令牌会为路由参数在路径中创建一个“空位”。在这里，这种配置会让路由器把英雄的 <code>id</code> 插入到那个“空位”中。</p><p translation-origin="off">The <code>:id</code> token creates a slot in the path for a Route Parameter. In this case, this configuration causes the router to insert the <code>id</code> of a hero into that slot.</p><p translation-result="on">如果要告诉路由器导航到详情组件，并让它显示“Magneta”，你会期望这个英雄的 <code>id</code> 像这样显示在浏览器的 URL 中：</p><p translation-origin="off">If you tell the router to navigate to the detail component and display "Magneta", you expect a hero id to appear in the browser URL like this:</p><code-example format="nocode" ng-version="12.0.0-rc.2"><div style="display:none"></div><aio-code><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pln">localhost</span><span class="pun">:</span><span class="lit">4200</span><span class="pun">/</span><span class="pln">hero</span><span class="pun">/</span><span class="lit">15</span></code>
    </pre></aio-code></code-example><p translation-result="on">如果用户把此 URL 输入到浏览器的地址栏中，路由器就会识别出这种模式，同样进入“Magneta”的详情视图。</p><p translation-origin="off">If a user enters that URL into the browser address bar, the router should recognize the pattern and go to the same "Magneta" detail view.</p><div class="callout is-helpful"><header translation-result="on">路由参数：必须的还是可选的？</header><header translation-origin="off">Route parameter: Required or optional?</header><p translation-result="on">在这个场景下，把路由参数的令牌 <code>:id</code> 嵌入到路由定义的 <code>path</code> 中是一个好主意，因为对于 <code>HeroDetailComponent</code> 来说 <code>id</code> 是<em>必须的</em>， 而且路径中的值 <code>15</code> 已经足够把到“Magneta”的路由和到其它英雄的路由明确区分开。</p><p translation-origin="off">Embedding the route parameter token, <code>:id</code>, in the route definition path is a good choice for this scenario because the <code>id</code> is <em>required</em> by the <code>HeroDetailComponent</code> and because the value <code>15</code> in the path clearly distinguishes the route to "Magneta" from a route for some other hero.</p></div><a id="route-parameters"></a><h4 id="setting-the-route-parameters-in-the-list-view" translation-result="on">在列表视图中设置路由参数<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#setting-the-route-parameters-in-the-list-view"><i class="material-icons">link</i></a></h4><h4 translation-origin="off" id="setting-the-route-parameters-in-the-list-view">Setting the route parameters in the list view<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#setting-the-route-parameters-in-the-list-view"><i class="material-icons">link</i></a></h4><p translation-result="on">然后导航到 <code>HeroDetailComponent</code> 组件。在那里，你期望看到所选英雄的详情，这需要两部分信息：导航目标和该英雄的 <code>id</code>。</p><p translation-origin="off">After navigating to the <code>HeroDetailComponent</code>, you expect to see the details of the selected hero. You need two pieces of information: the routing path to the component and the hero's <code>id</code>.</p><p translation-result="on">因此，这个<em>链接参数数组</em>中有两个条目：路由的<em>路径</em>和一个用来指定所选英雄 <code>id</code> 的<em>路由参数</em>。</p><p translation-origin="off">Accordingly, the <em>link parameters array</em> has two items: the routing <em>path</em> and a <em>route parameter</em> that specifies the <code>id</code> of the selected hero.</p><code-example path="router/src/app/heroes/hero-list/hero-list.component.1.html" header="src/app/heroes/hero-list/hero-list.component.html (link-parameters-array)" region="link-parameters-array" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/heroes/hero-list/hero-list.component.html (link-parameters-array)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/heroes/hero-list/hero-list.component.html (link-parameters-array)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="tag">&lt;a</span><span class="pln"> [</span><a href="api/router/RouterLink" class="code-anchor"><span class="atn">routerLink</span></a><span class="pln">]</span><span class="pun">=</span><span class="atv">"['/hero', hero.id]"</span><span class="tag">&gt;</span></code>
    </pre></aio-code></code-example><p translation-result="on">路由器从该数组中组合出了目标 URL： <code>localhost:3000/hero/15</code>。</p><p translation-origin="off">The router composes the destination URL from the array like this: <code>localhost:4200/hero/15</code>.</p><p translation-result="on">路由器从 URL 中解析出路由参数（<code>id:15</code>），并通过 <strong>ActivatedRoute</strong> 服务来把它提供给 <code>HeroDetailComponent</code> 组件。</p><p translation-origin="off">The router extracts the route parameter (<code>id:15</code>) from the URL and supplies it to the <code>HeroDetailComponent</code> via the <code><a href="api/router/ActivatedRoute" class="code-anchor">ActivatedRoute</a></code> service.</p><a id="activated-route-in-action"></a><h3 id="activated-route-in-action" translation-result="on"><code><a href="api/router/ActivatedRoute" class="code-anchor">ActivatedRoute</a></code> 实战<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#activated-route-in-action"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="activated-route-in-action"><code>Activated <a href="api/router/Route" class="code-anchor">Route</a></code> in action<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#activated-route-in-action"><i class="material-icons">link</i></a></h3><p translation-result="on">从路由器（<code>router</code>）包中导入 <code><a href="api/router/Router" class="code-anchor">Router</a></code>、<code><a href="api/router/ActivatedRoute" class="code-anchor">ActivatedRoute</a></code> 和 <code><a href="api/router/Params" class="code-anchor">Params</a></code> 类。</p><p translation-origin="off">Import the <code><a href="api/router/Router" class="code-anchor">Router</a></code>, <code><a href="api/router/ActivatedRoute" class="code-anchor">ActivatedRoute</a></code>, and <code><a href="api/router/ParamMap" class="code-anchor">ParamMap</a></code> tokens from the router package.</p><code-example path="router/src/app/heroes/hero-detail/hero-detail.component.1.ts" header="src/app/heroes/hero-detail/hero-detail.component.ts (activated route)" region="imports" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/heroes/hero-detail/hero-detail.component.ts (activated route)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/heroes/hero-detail/hero-detail.component.ts (activated route)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/router/Router" class="code-anchor"><span class="typ">Router</span></a><span class="pun">,</span><span class="pln"> </span><a href="api/router/ActivatedRoute" class="code-anchor"><span class="typ">ActivatedRoute</span></a><span class="pun">,</span><span class="pln"> </span><a href="api/router/ParamMap" class="code-anchor"><span class="typ">ParamMap</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span></code>
    </pre></aio-code></code-example><p translation-result="on">这里导入 <code>switchMap</code> 操作符是因为你稍后将会处理路由参数的可观察对象 <code>Observable</code>。</p><p translation-origin="off">Import the <code>switchMap</code> operator because you need it later to process the <code>Observable</code> route parameters.</p><code-example path="router/src/app/heroes/hero-detail/hero-detail.component.3.ts" header="src/app/heroes/hero-detail/hero-detail.component.ts (switchMap operator import)" region="rxjs-operator-import" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/heroes/hero-detail/hero-detail.component.ts (switchMap operator import)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/heroes/hero-detail/hero-detail.component.ts (switchMap operator import)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> switchMap </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'rxjs/operators'</span><span class="pun">;</span></code>
    </pre></aio-code></code-example><a id="hero-detail-ctor"></a><p translation-result="on">把这些服务作为私有变量添加到构造函数中，以便 Angular 注入它们（让它们对组件可见）。</p><p translation-origin="off">Add the services as private variables to the constructor so that Angular injects them (makes them visible to the component).</p><code-example path="router/src/app/heroes/hero-detail/hero-detail.component.3.ts" header="src/app/heroes/hero-detail/hero-detail.component.ts (constructor)" region="ctor" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/heroes/hero-detail/hero-detail.component.ts (constructor)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/heroes/hero-detail/hero-detail.component.ts (constructor)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">constructor</span><span class="pun">(</span><span class="pln">
  </span><span class="kwd">private</span><span class="pln"> route</span><span class="pun">:</span><span class="pln"> </span><a href="api/router/ActivatedRoute" class="code-anchor"><span class="typ">ActivatedRoute</span></a><span class="pun">,</span><span class="pln">
  </span><span class="kwd">private</span><span class="pln"> router</span><span class="pun">:</span><span class="pln"> </span><a href="api/router/Router" class="code-anchor"><span class="typ">Router</span></a><span class="pun">,</span><span class="pln">
  </span><span class="kwd">private</span><span class="pln"> service</span><span class="pun">:</span><span class="pln"> </span><span class="typ">HeroService</span><span class="pln">
</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{}</span></code>
    </pre></aio-code></code-example><p translation-result="on">在 <code>ngOnInit()</code> 方法中，使用 <code><a href="api/router/ActivatedRoute" class="code-anchor">ActivatedRoute</a></code> 服务来检索路由的参数，从参数中提取出英雄的 <code>id</code>，并检索要显示的英雄。</p><p translation-origin="off">In the <code>ngOnInit()</code> method, use the <code><a href="api/router/ActivatedRoute" class="code-anchor">ActivatedRoute</a></code> service to retrieve the parameters for the route, pull the hero <code>id</code> from the parameters, and retrieve the hero to display.</p><code-example path="router/src/app/heroes/hero-detail/hero-detail.component.3.ts" header="src/app/heroes/hero-detail/hero-detail.component.ts (ngOnInit)" region="ngOnInit" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/heroes/hero-detail/hero-detail.component.ts (ngOnInit)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/heroes/hero-detail/hero-detail.component.ts (ngOnInit)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pln">ngOnInit</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">hero$ </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">route</span><span class="pun">.</span><span class="pln">paramMap</span><span class="pun">.</span><span class="pln">pipe</span><span class="pun">(</span><span class="pln">
    switchMap</span><span class="pun">((</span><span class="kwd">params</span><span class="pun">:</span><span class="pln"> </span><a href="api/router/ParamMap" class="code-anchor"><span class="typ">ParamMap</span></a><span class="pun">)</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln">
      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">service</span><span class="pun">.</span><span class="pln">getHero</span><span class="pun">(</span><span class="kwd">params</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="str">'id'</span><span class="pun">)))</span><span class="pln">
  </span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on">当这个 map 发生变化时，<code>paramMap</code> 会从更改后的参数中获取 <code>id</code> 参数。</p><p translation-origin="off">When the map changes, <code>paramMap</code> gets the <code>id</code> parameter from the changed parameters.</p><p translation-result="on">然后，让 <code>HeroService</code> 去获取具有该 <code>id</code> 的英雄，并返回 <code>HeroService</code> 请求的结果。</p><p translation-origin="off">Then you tell the <code>HeroService</code> to fetch the hero with that <code>id</code> and return the result of the <code>HeroService</code> request.</p><p translation-result="on"><code>switchMap</code> 操作符做了两件事。它把 <code>HeroService</code> 返回的 <code>Observable&lt;Hero&gt;</code> 拍平，并取消以前的未完成请求。当 <code>HeroService</code> 仍在检索旧的 <code>id</code> 时，如果用户使用新的 <code>id</code> 重新导航到这个路由，<code>switchMap</code> 会放弃那个旧请求，并返回新 <code>id</code> 的英雄。</p><p translation-origin="off">The <code>switchMap</code> operator does two things. It flattens the <code>Observable&lt;Hero&gt;</code> that <code>HeroService</code> returns and cancels previous pending requests. If the user re-navigates to this route with a new <code>id</code> while the <code>HeroService</code> is still retrieving the old <code>id</code>, <code>switchMap</code> discards that old request and returns the hero for the new <code>id</code>.</p><p translation-result="on"><code><a href="api/common/AsyncPipe" class="code-anchor">AsyncPipe</a></code> 处理这个可观察的订阅，而且该组件的 <code>hero</code> 属性也会用检索到的英雄（重新）进行设置。</p><p translation-origin="off"><code><a href="api/common/AsyncPipe" class="code-anchor">AsyncPipe</a></code> handles the observable subscription and the component's <code>hero</code> property will be (re)set with the retrieved hero.</p><h4 id="parammap-api"><em>ParamMap</em> API<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#parammap-api"><i class="material-icons">link</i></a></h4><p translation-result="on"><code><a href="api/router/ParamMap" class="code-anchor">ParamMap</a></code> API 的灵感来自于 <a href="https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams">URLSearchParams 接口</a>。它提供了处理路由参数（ <code>paramMap</code> ）和查询参数（ <code>queryParamMap</code> ）访问的方法。</p><p translation-origin="off">The <code><a href="api/router/ParamMap" class="code-anchor">ParamMap</a></code> API is inspired by the <a href="https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams">URLSearchParams interface</a>. It provides methods to handle parameter access for both route parameters (<code>paramMap</code>) and query parameters (<code>queryParamMap</code>).</p><table><tbody><tr><th><p translation-result="on">成员</p><p translation-origin="off">Member</p></th><th><p translation-result="on">说明</p><p translation-origin="off">Description</p></th></tr><tr><td><p> <code>has(name)</code></p></td><td><p translation-result="on">如果参数名位于参数列表中，就返回 <code>true</code>。</p><p translation-origin="off">Returns <code>true</code> if the parameter name is in the map of parameters.</p></td></tr><tr><td><p> <code>get(name)</code></p></td><td><p translation-result="on">如果这个 map 中有参数名对应的参数值（字符串），就返回它，否则返回 <code>null</code>。如果参数值实际上是一个数组，就返回它的<em>第一个</em>元素。</p><p translation-origin="off">Returns the parameter name value (a <code>string</code>) if present, or <code>null</code> if the parameter name is not in the map. Returns the <em>first</em> element if the parameter value is actually an array of values.</p></td></tr><tr><td><p> <code>getAll(name)</code></p></td><td><p translation-result="on">如果这个 map 中有参数名对应的值，就返回一个字符串数组，否则返回空数组。当一个参数名可能对应多个值的时候，请使用 <code>getAll</code>。</p><p translation-origin="off">Returns a <code>string array</code> of the parameter name value if found, or an empty <code>array</code> if the parameter name value is not in the map. Use <code>getAll</code> when a single parameter could have multiple values.</p></td></tr><tr><td><p> <code>keys</code></p></td><td><p translation-result="on">返回这个 map 中的所有参数名组成的字符串数组。</p><p translation-origin="off">Returns a <code>string array</code> of all parameter names in the map.</p></td></tr></tbody></table><a id="reuse"></a><h4 id="observable-parammap-and-component-reuse" translation-result="on"><i>参数</i>的可观察对象（Observable）与组件复用<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#observable-parammap-and-component-reuse"><i class="material-icons">link</i></a></h4><h4 translation-origin="off" id="observable-parammap-and-component-reuse">Observable <i>paramMap</i> and component reuse<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#observable-parammap-and-component-reuse"><i class="material-icons">link</i></a></h4><p translation-result="on">在这个例子中，你接收了路由参数的 <code>Observable</code> 对象。 这种写法暗示着这些路由参数在该组件的生存期内可能会变化。</p><p translation-origin="off">In this example, you retrieve the route parameter map from an <code>Observable</code>. That implies that the route parameter map can change during the lifetime of this component.</p><p translation-result="on">默认情况下，如果它没有访问过其它组件就导航到了同一个组件实例，那么路由器倾向于复用组件实例。如果复用，这些参数可以变化。</p><p translation-origin="off">By default, the router re-uses a component instance when it re-navigates to the same component type without visiting a different component first. The route parameters could change each time.</p><p translation-result="on">假设父组件的导航栏有“前进”和“后退”按钮，用来轮流显示英雄列表中中英雄的详情。 每次点击都会强制导航到带前一个或后一个 <code>id</code> 的 <code>HeroDetailComponent</code> 组件。</p><p translation-origin="off">Suppose a parent component navigation bar had "forward" and "back" buttons that scrolled through the list of heroes. Each click navigated imperatively to the <code>HeroDetailComponent</code> with the next or previous <code>id</code>.</p><p translation-result="on">你肯定不希望路由器先从 DOM 中移除当前的 <code>HeroDetailComponent</code> 实例，只是为了用下一个 <code>id</code> 重新创建它，因为它将重新渲染视图。为了更好的用户体验，路由器会复用同一个组件实例，而只是更新参数。</p><p translation-origin="off">You wouldn't want the router to remove the current <code>HeroDetailComponent</code> instance from the DOM only to re-create it for the next <code>id</code> as this would re-render the view. For better UX, the router re-uses the same component instance and updates the parameter.</p><p translation-result="on">由于 <code>ngOnInit()</code> 在每个组件实例化时只会被调用一次，所以你可以使用 <code>paramMap</code> 可观察对象来检测路由参数<em>在同一个实例中</em>何时发生了变化。</p><p translation-origin="off">Since <code>ngOnInit()</code> is only called once per component instantiation, you can detect when the route parameters change from <em>within the same instance</em> using the observable <code>paramMap</code> property.</p><div class="alert is-helpful"><p translation-result="on">当在组件中订阅一个可观察对象时，你通常总是要在组件销毁时取消这个订阅。</p><p translation-origin="off">When subscribing to an observable in a component, you almost always unsubscribe when the component is destroyed.</p><p translation-result="on">不过，<code><a href="api/router/ActivatedRoute" class="code-anchor">ActivatedRoute</a></code> 中的可观察对象是一个例外，因为 <code><a href="api/router/ActivatedRoute" class="code-anchor">ActivatedRoute</a></code> 及其可观察对象与 <code><a href="api/router/Router" class="code-anchor">Router</a></code> 本身是隔离的。 <code><a href="api/router/Router" class="code-anchor">Router</a></code> 会在不再需要时销毁这个路由组件，而注入进去的 <code>ActivateRoute</code> 也随之销毁了。</p><p translation-origin="off">However, <code><a href="api/router/ActivatedRoute" class="code-anchor">ActivatedRoute</a></code> observables are among the exceptions because <code><a href="api/router/ActivatedRoute" class="code-anchor">ActivatedRoute</a></code> and its observables are insulated from the <code><a href="api/router/Router" class="code-anchor">Router</a></code> itself. The <code><a href="api/router/Router" class="code-anchor">Router</a></code> destroys a routed component when it is no longer needed along with the injected <code><a href="api/router/ActivatedRoute" class="code-anchor">ActivatedRoute</a></code>.</p></div><a id="snapshot"></a><h4 id="snapshot-the-no-observable-alternative" translation-result="on"><code>snapshot</code>：当不需要 Observable 时的替代品<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#snapshot-the-no-observable-alternative"><i class="material-icons">link</i></a></h4><h4 translation-origin="off" id="snapshot-the-no-observable-alternative"><code>snapshot</code>: the no-observable alternative<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#snapshot-the-no-observable-alternative"><i class="material-icons">link</i></a></h4><p translation-result="on">本应用不需要复用 <code>HeroDetailComponent</code>。 用户总是会先返回英雄列表，再选择另一位英雄。 所以，不存在从一个英雄详情导航到另一个而不用经过英雄列表的情况。 这意味着路由器每次都会创建一个全新的 <code>HeroDetailComponent</code> 实例。</p><p translation-origin="off">This application won't re-use the <code>HeroDetailComponent</code>. The user always returns to the hero list to select another hero to view. There's no way to navigate from one hero detail to another hero detail without visiting the list component in between. Therefore, the router creates a new <code>HeroDetailComponent</code> instance every time.</p><p translation-result="on">假如你很确定这个 <code>HeroDetailComponent</code> 实例永远不会被重用，你可以使用 <code>snapshot</code>。</p><p translation-origin="off">When you know for certain that a <code>HeroDetailComponent</code> instance will never be re-used, you can use <code>snapshot</code>.</p><p translation-result="on"><code>route.snapshot</code> 提供了路由参数的初始值。 你可以通过它来直接访问参数，而不用订阅或者添加 Observable 的操作符，代码如下：</p><p translation-origin="off"><code>route.snapshot</code> provides the initial value of the route parameter map. You can access the parameters directly without subscribing or adding observable operators as in the following:</p><code-example path="router/src/app/heroes/hero-detail/hero-detail.component.2.ts" header="src/app/heroes/hero-detail/hero-detail.component.ts (ngOnInit snapshot)" region="snapshot" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/heroes/hero-detail/hero-detail.component.ts (ngOnInit snapshot)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/heroes/hero-detail/hero-detail.component.ts (ngOnInit snapshot)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pln">ngOnInit</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">const</span><span class="pln"> id </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">route</span><span class="pun">.</span><span class="pln">snapshot</span><span class="pun">.</span><span class="pln">paramMap</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="str">'id'</span><span class="pun">);</span><span class="pln">

  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">hero$ </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">service</span><span class="pun">.</span><span class="pln">getHero</span><span class="pun">(</span><span class="pln">id</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><div class="alert is-helpful"><p translation-result="on">用这种技术，<code>snapshot</code> 只会得到这些参数的初始值。如果路由器可能复用该组件，那么就该用 <code>paramMap</code> 可观察对象的方式。本教程的示例应用中就用了 <code>paramMap</code> 可观察对象。</p><p translation-origin="off"><code>snapshot</code> only gets the initial value of the parameter map with this technique. Use the observable <code>paramMap</code> approach if there's a possibility that the router could re-use the component. This tutorial sample app uses with the observable <code>paramMap</code>.</p></div><a id="nav-to-list"></a><h3 id="navigating-back-to-the-list-component" translation-result="on">导航回列表组件<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#navigating-back-to-the-list-component"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="navigating-back-to-the-list-component">Navigating back to the list component<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#navigating-back-to-the-list-component"><i class="material-icons">link</i></a></h3><p translation-result="on"><code>HeroDetailComponent</code> 的 “Back” 按钮使用了 <code>gotoHeroes()</code> 方法，该方法会强制导航回 <code>HeroListComponent</code>。</p><p translation-origin="off">The <code>HeroDetailComponent</code> "Back" button uses the <code>gotoHeroes()</code> method that navigates imperatively back to the <code>HeroListComponent</code>.</p><p translation-result="on">路由的 <code>navigate()</code> 方法同样接受一个单条目的<em>链接参数数组</em>，你也可以把它绑定到 <code>[<a href="api/router/RouterLink" class="code-anchor">routerLink</a>]</code> 指令上。 它保存着到 <code>HeroListComponent</code> 组件的路径：</p><p translation-origin="off">The router <code>navigate()</code> method takes the same one-item <em>link parameters array</em> that you can bind to a <code>[<a href="api/router/RouterLink" class="code-anchor">routerLink</a>]</code> directive. It holds the path to the <code>HeroListComponent</code>:</p><code-example path="router/src/app/heroes/hero-detail/hero-detail.component.1.ts" header="src/app/heroes/hero-detail/hero-detail.component.ts (excerpt)" region="gotoHeroes" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/heroes/hero-detail/hero-detail.component.ts (excerpt)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/heroes/hero-detail/hero-detail.component.ts (excerpt)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pln">gotoHeroes</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">router</span><span class="pun">.</span><span class="pln">navigate</span><span class="pun">([</span><span class="str">'/heroes'</span><span class="pun">]);</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><a id="optional-route-parameters"></a><h4 id="route-parameters-required-or-optional" translation-result="on">路由参数：必须还是可选？<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#route-parameters-required-or-optional"><i class="material-icons">link</i></a></h4><h4 translation-origin="off" id="route-parameters-required-or-optional">Route Parameters: Required or optional?<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#route-parameters-required-or-optional"><i class="material-icons">link</i></a></h4><p translation-result="on">如果想导航到 <code>HeroDetailComponent</code> 以对 id 为 <code>15</code> 的英雄进行查看并编辑，就要在路由的 URL 中使用<a href="guide/router-tutorial-toh#route-parameters">路由参数</a>来指定必要参数值。</p><p translation-origin="off">Use <a href="guide/router-tutorial-toh#route-parameters">route parameters</a> to specify a required parameter value within the route URL as you do when navigating to the <code>HeroDetailComponent</code> in order to view the hero with <code>id</code> 15:</p><code-example format="nocode" ng-version="12.0.0-rc.2"><div style="display:none"></div><aio-code><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pln">localhost</span><span class="pun">:</span><span class="lit">4200</span><span class="pun">/</span><span class="pln">hero</span><span class="pun">/</span><span class="lit">15</span></code>
    </pre></aio-code></code-example><p translation-result="on">你也能在路由请求中添加<em>可选</em>信息。 比如，当从 <code>hero-detail.component.ts</code> 返回到列表时，如果能自动选中刚刚查看过的英雄就好了。</p><p translation-origin="off">You can also add optional information to a route request. For example, when returning to the <code>hero-detail.component.ts</code> list from the hero detail view, it would be nice if the viewed hero were preselected in the list.</p><div class="lightbox"><img src="generated/images/guide/router/selected-hero.png" alt="Selected hero" width="336" height="110"></div><p translation-result="on">当从 <code>HeroDetailComponent</code> 返回时，你可以会通过把正在查看的英雄的 <code>id</code> 作为可选参数包含在 URL 中来实现这个特性。</p><p translation-origin="off">You implement this feature by including the viewed hero's <code>id</code> in the URL as an optional parameter when returning from the <code>HeroDetailComponent</code>.</p><p translation-result="on">可选信息还可以包含其它形式，例如：</p><p translation-origin="off">Optional information can also include other forms such as:</p><ul><li><p translation-result="on">结构松散的搜索条件。比如 <code>name='wind_'</code>。</p><p translation-origin="off">Loosely structured search criteria; for example, <code>name='wind*'</code>.</p></li><li><p translation-result="on">多个值。比如 <code>after='12/31/2015' &amp; before='1/1/2017'</code> - 没有特定的顺序 - <code>before='1/1/2017' &amp; after='12/31/2015'</code> - 具有各种格式 - <code>during='currentYear'</code>。</p><p translation-origin="off">Multiple values; for example, <code>after='12/31/2015' &amp; before='1/1/2017'</code>—in no particular order—<code>before='1/1/2017' &amp; after='12/31/2015'</code>— in a variety of formats—<code>during='currentYear'</code>.</p></li></ul><p translation-result="on">由于这些参数不适合用作 URL 路径，因此可以使用可选参数在导航过程中传递任意复杂的信息。可选参数不参与模式匹配，因此在表达上提供了巨大的灵活性。</p><p translation-origin="off">As these kinds of parameters don't fit easily in a URL path, you can use optional parameters for conveying arbitrarily complex information during navigation. Optional parameters aren't involved in pattern matching and afford flexibility of expression.</p><p translation-result="on">和必要参数一样，路由器也支持通过可选参数导航。 在你定义完必要参数之后，再通过一个<em>独立的对象</em>来定义可选参数。</p><p translation-origin="off">The router supports navigation with optional parameters as well as required route parameters. Define optional parameters in a separate object <em>after</em> you define the required route parameters.</p><p translation-result="on">通常，对于必传的值（比如用于区分两个路由路径的）使用<em>必备参数</em>；当这个值是可选的、复杂的或多值的时，使用可选参数。</p><p translation-origin="off">In general, use a required route parameter when the value is mandatory (for example, if necessary to distinguish one route path from another); and an optional parameter when the value is optional, complex, and/or multivariate.</p><a id="optionally-selecting"></a> <a id="optional-selecting"></a><h4 id="heroes-list-optionally-selecting-a-hero" translation-result="on">英雄列表：选定一个英雄（也可不选）<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#heroes-list-optionally-selecting-a-hero"><i class="material-icons">link</i></a></h4><h4 translation-origin="off" id="heroes-list-optionally-selecting-a-hero">Heroes list: optionally selecting a hero<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#heroes-list-optionally-selecting-a-hero"><i class="material-icons">link</i></a></h4><p translation-result="on">当导航到 <code>HeroDetailComponent</code> 时，你可以在<em>路由参数</em>中指定一个所要编辑的英雄 <code>id</code>，只要把它作为<a href="guide/router-tutorial-toh#link-parameters-array">链接参数数组</a>中的第二个条目就可以了。</p><p translation-origin="off">When navigating to the <code>HeroDetailComponent</code> you specified the required <code>id</code> of the hero-to-edit in the route parameter and made it the second item of the <a href="guide/router-tutorial-toh#link-parameters-array"><em>link parameters array</em></a>.</p><code-example path="router/src/app/heroes/hero-list/hero-list.component.1.html" header="src/app/heroes/hero-list/hero-list.component.html (link-parameters-array)" region="link-parameters-array" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/heroes/hero-list/hero-list.component.html (link-parameters-array)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/heroes/hero-list/hero-list.component.html (link-parameters-array)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="tag">&lt;a</span><span class="pln"> [</span><a href="api/router/RouterLink" class="code-anchor"><span class="atn">routerLink</span></a><span class="pln">]</span><span class="pun">=</span><span class="atv">"['/hero', hero.id]"</span><span class="tag">&gt;</span></code>
    </pre></aio-code></code-example><p translation-result="on">路由器在导航 URL 中内嵌了 <code>id</code> 的值，这是因为你把它用一个 <code>:id</code> 占位符当做路由参数定义在了路由的 <code>path</code> 中：</p><p translation-origin="off">The router embedded the <code>id</code> value in the navigation URL because you had defined it as a route parameter with an <code>:id</code> placeholder token in the route <code>path</code>:</p><code-example path="router/src/app/heroes/heroes-routing.module.1.ts" header="src/app/heroes/heroes-routing.module.ts (hero-detail-route)" region="hero-detail-route" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/heroes/heroes-routing.module.ts (hero-detail-route)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/heroes/heroes-routing.module.ts (hero-detail-route)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'hero/:id'</span><span class="pun">,</span><span class="pln"> component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">HeroDetailComponent</span><span class="pln"> </span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on">当用户点击后退按钮时，<code>HeroDetailComponent</code> 构造了另一个<em>链接参数数组</em>，可以用它导航回 <code>HeroListComponent</code>。</p><p translation-origin="off">When the user clicks the back button, the <code>HeroDetailComponent</code> constructs another <em>link parameters array</em> which it uses to navigate back to the <code>HeroListComponent</code>.</p><code-example path="router/src/app/heroes/hero-detail/hero-detail.component.1.ts" header="src/app/heroes/hero-detail/hero-detail.component.ts (gotoHeroes)" region="gotoHeroes" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/heroes/hero-detail/hero-detail.component.ts (gotoHeroes)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/heroes/hero-detail/hero-detail.component.ts (gotoHeroes)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pln">gotoHeroes</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">router</span><span class="pun">.</span><span class="pln">navigate</span><span class="pun">([</span><span class="str">'/heroes'</span><span class="pun">]);</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on">该数组缺少一个路由参数，这是因为以前你不需要往 <code>HeroListComponent</code> 发送信息。</p><p translation-origin="off">This array lacks a route parameter because previously you didn't need to send information to the <code>HeroListComponent</code>.</p><p translation-result="on">现在，使用导航请求发送当前英雄的 <code>id</code>，以便 <code>HeroListComponent</code> 在其列表中突出显示该英雄。</p><p translation-origin="off">Now, send the <code>id</code> of the current hero with the navigation request so that the <code>HeroListComponent</code> can highlight that hero in its list.</p><p translation-result="on">传送一个包含可选 <code>id</code> 参数的对象。 为了演示，这里还在对象中定义了一个没用的额外参数（<code>foo</code>），<code>HeroListComponent</code> 应该忽略它。 下面是修改过的导航语句：</p><p translation-origin="off">Send the <code>id</code> with an object that contains an optional <code>id</code> parameter. For demonstration purposes, there's an extra junk parameter (<code>foo</code>) in the object that the <code>HeroListComponent</code> should ignore. Here's the revised navigation statement:</p><code-example path="router/src/app/heroes/hero-detail/hero-detail.component.3.ts" header="src/app/heroes/hero-detail/hero-detail.component.ts (go to heroes)" region="gotoHeroes" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/heroes/hero-detail/hero-detail.component.ts (go to heroes)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/heroes/hero-detail/hero-detail.component.ts (go to heroes)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pln">gotoHeroes</span><span class="pun">(</span><span class="pln">hero</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Hero</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">const</span><span class="pln"> heroId </span><span class="pun">=</span><span class="pln"> hero </span><span class="pun">?</span><span class="pln"> hero</span><span class="pun">.</span><span class="pln">id </span><span class="pun">:</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln">
  </span><span class="com">// Pass along the hero id if available</span><span class="pln">
  </span><span class="com">// so that the HeroList component can select that hero.</span><span class="pln">
  </span><span class="com">// Include a junk 'foo' property for fun.</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">router</span><span class="pun">.</span><span class="pln">navigate</span><span class="pun">([</span><span class="str">'/heroes'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> id</span><span class="pun">:</span><span class="pln"> heroId</span><span class="pun">,</span><span class="pln"> foo</span><span class="pun">:</span><span class="pln"> </span><span class="str">'foo'</span><span class="pln"> </span><span class="pun">}]);</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on">该应用仍然能工作。点击“back”按钮返回英雄列表视图。</p><p translation-origin="off">The application still works. Clicking "back" returns to the hero list view.</p><p translation-result="on">注意浏览器的地址栏。</p><p translation-origin="off">Look at the browser address bar.</p><p translation-result="on">它应该是这样的，不过也取决于你在哪里运行它：</p><p translation-origin="off">It should look something like this, depending on where you run it:</p><code-example language="bash" ng-version="12.0.0-rc.2"><div style="display:none"></div><aio-code><pre class="lang-bash prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pln">localhost</span><span class="pun">:</span><span class="lit">4200</span><span class="pun">/</span><span class="pln">heroes</span><span class="pun">;</span><span class="pln">id</span><span class="pun">=</span><span class="lit">15</span><span class="pun">;</span><span class="pln">foo</span><span class="pun">=</span><span class="pln">foo</span></code>
    </pre></aio-code></code-example><p translation-result="on"><code>id</code> 的值像这样出现在 URL 中（<code>;id=15;foo=foo</code>），但不在 URL 的路径部分。 “Heroes”路由的路径部分并没有定义 <code>:id</code>。</p><p translation-origin="off">The <code>id</code> value appears in the URL as (<code>;id=15;foo=foo</code>), not in the URL path. The path for the "Heroes" route doesn't have an <code>:id</code> token.</p><p translation-result="on">可选的路由参数没有使用“？”和“&amp;”符号分隔，因为它们将用在 URL 查询字符串中。 它们是用“;”分隔的。 这是<em>矩阵 URL</em>标记法。</p><p translation-origin="off">The optional route parameters are not separated by "?" and "&amp;" as they would be in the URL query string. They are separated by semicolons ";". This is matrix URL notation.</p><div class="alert is-helpful"><p translation-result="on">Matrix URL 写法首次提出是在<a href="https://www.w3.org/DesignIssues/MatrixURIs.html">1996 提案</a>中，提出者是 Web 的奠基人：Tim Berners-Lee。</p><p translation-origin="off">Matrix URL notation is an idea first introduced in a <a href="https://www.w3.org/DesignIssues/MatrixURIs.html">1996 proposal</a> by the founder of the web, Tim Berners-Lee.</p><p translation-result="on">虽然 Matrix 写法未曾进入过 HTML 标准，但它是合法的。而且在浏览器的路由系统中，它作为从父路由和子路由中单独隔离出参数的方式而广受欢迎。Angular 的路由器正是这样一个路由系统，并支持跨浏览器的 Matrix 写法。</p><p translation-origin="off">Although matrix notation never made it into the HTML standard, it is legal and it became popular among browser routing systems as a way to isolate parameters belonging to parent and child routes. As such, the Router provides support for the matrix notation across browsers.</p></div><a id="route-parameters-activated-route"></a><h3 id="route-parameters-in-the-activatedroute-service" translation-result="on"><code><a href="api/router/ActivatedRoute" class="code-anchor">ActivatedRoute</a></code> 服务中的路由参数<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#route-parameters-in-the-activatedroute-service"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="route-parameters-in-the-activatedroute-service">Route parameters in the <code><a href="api/router/ActivatedRoute" class="code-anchor">ActivatedRoute</a></code> service<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#route-parameters-in-the-activatedroute-service"><i class="material-icons">link</i></a></h3><p translation-result="on">开发到现在，英雄列表还没有变化。没有突出显示的英雄行。</p><p translation-origin="off">In its current state of development, the list of heroes is unchanged. No hero row is highlighted.</p><p translation-result="on"><code>HeroListComponent</code> 需要添加使用这些参数的代码。</p><p translation-origin="off">The <code>HeroListComponent</code> needs code that expects parameters.</p><p translation-result="on">以前，当从 <code>HeroListComponent</code> 导航到 <code>HeroDetailComponent</code> 时，你通过 <code><a href="api/router/ActivatedRoute" class="code-anchor">ActivatedRoute</a></code> 服务订阅了路由参数这个 <code>Observable</code>，并让它能用在 <code>HeroDetailComponent</code> 中。 你把该服务注入到了 <code>HeroDetailComponent</code> 的构造函数中。</p><p translation-origin="off">Previously, when navigating from the <code>HeroListComponent</code> to the <code>HeroDetailComponent</code>, you subscribed to the route parameter map <code>Observable</code> and made it available to the <code>HeroDetailComponent</code> in the <code><a href="api/router/ActivatedRoute" class="code-anchor">ActivatedRoute</a></code> service. You injected that service in the constructor of the <code>HeroDetailComponent</code>.</p><p translation-result="on">这次，你要进行反向导航，从 <code>HeroDetailComponent</code> 到 <code>HeroListComponent</code>。</p><p translation-origin="off">This time you'll be navigating in the opposite direction, from the <code>HeroDetailComponent</code> to the <code>HeroListComponent</code>.</p><p translation-result="on">首先，扩展该路由的导入语句，以包含进 <code><a href="api/router/ActivatedRoute" class="code-anchor">ActivatedRoute</a></code> 服务的类；</p><p translation-origin="off">First, extend the router import statement to include the <code><a href="api/router/ActivatedRoute" class="code-anchor">ActivatedRoute</a></code> service symbol:</p><code-example path="router/src/app/heroes/hero-list/hero-list.component.ts" header="src/app/heroes/hero-list/hero-list.component.ts (import)" region="import-router" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/heroes/hero-list/hero-list.component.ts (import)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/heroes/hero-list/hero-list.component.ts (import)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/router/ActivatedRoute" class="code-anchor"><span class="typ">ActivatedRoute</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span></code>
    </pre></aio-code></code-example><p translation-result="on">导入 <code>switchMap</code> 操作符，在路由参数的 <code>Observable</code> 对象上执行操作。</p><p translation-origin="off">Import the <code>switchMap</code> operator to perform an operation on the <code>Observable</code> of route parameter map.</p><code-example path="router/src/app/heroes/hero-list/hero-list.component.ts" header="src/app/heroes/hero-list/hero-list.component.ts (rxjs imports)" region="rxjs-imports" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/heroes/hero-list/hero-list.component.ts (rxjs imports)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/heroes/hero-list/hero-list.component.ts (rxjs imports)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Observable</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'rxjs'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> switchMap </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'rxjs/operators'</span><span class="pun">;</span></code>
    </pre></aio-code></code-example><p translation-result="on">在 <code>HeroListComponent</code> 构造函数中注入 <code><a href="api/router/ActivatedRoute" class="code-anchor">ActivatedRoute</a></code>。</p><p translation-origin="off">Inject the <code><a href="api/router/ActivatedRoute" class="code-anchor">ActivatedRoute</a></code> in the <code>HeroListComponent</code> constructor.</p><code-example path="router/src/app/heroes/hero-list/hero-list.component.ts" header="src/app/heroes/hero-list/hero-list.component.ts (constructor and ngOnInit)" region="ctor" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/heroes/hero-list/hero-list.component.ts (constructor and ngOnInit)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/heroes/hero-list/hero-list.component.ts (constructor and ngOnInit)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">HeroListComponent</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><a href="api/core/OnInit" class="code-anchor"><span class="typ">OnInit</span></a><span class="pln"> </span><span class="pun">{</span><span class="pln">
  heroes$</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">&lt;</span><span class="typ">Hero</span><span class="pun">[]&gt;;</span><span class="pln">
  selectedId</span><span class="pun">:</span><span class="pln"> number</span><span class="pun">;</span><span class="pln">

  </span><span class="kwd">constructor</span><span class="pun">(</span><span class="pln">
    </span><span class="kwd">private</span><span class="pln"> service</span><span class="pun">:</span><span class="pln"> </span><span class="typ">HeroService</span><span class="pun">,</span><span class="pln">
    </span><span class="kwd">private</span><span class="pln"> route</span><span class="pun">:</span><span class="pln"> </span><a href="api/router/ActivatedRoute" class="code-anchor"><span class="typ">ActivatedRoute</span></a><span class="pln">
  </span><span class="pun">)</span><span class="pln"> </span><span class="pun">{}</span><span class="pln">

  ngOnInit</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">heroes$ </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">route</span><span class="pun">.</span><span class="pln">paramMap</span><span class="pun">.</span><span class="pln">pipe</span><span class="pun">(</span><span class="pln">
      switchMap</span><span class="pun">(</span><span class="kwd">params</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="com">// (+) before `params.get()` turns the string into a number</span><span class="pln">
        </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">selectedId </span><span class="pun">=</span><span class="pln"> </span><span class="pun">+</span><span class="kwd">params</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="str">'id'</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">service</span><span class="pun">.</span><span class="pln">getHeroes</span><span class="pun">();</span><span class="pln">
      </span><span class="pun">})</span><span class="pln">
    </span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on"><code><a href="api/router/ActivatedRoute#paramMap" class="code-anchor">ActivatedRoute.paramMap</a></code> 属性是一个路由参数的 <code>Observable</code>。当用户导航到这个组件时，paramMap 会发射一个新值，其中包含 <code>id</code>。 在 <code>ngOnInit()</code> 中，你订阅了这些值，设置到 <code>selectedId</code>，并获取英雄数据。</p><p translation-origin="off">The <code><a href="api/router/ActivatedRoute#paramMap" class="code-anchor">ActivatedRoute.paramMap</a></code> property is an <code>Observable</code> map of route parameters. The <code>paramMap</code> emits a new map of values that includes <code>id</code> when the user navigates to the component. In <code>ngOnInit()</code> you subscribe to those values, set the <code>selectedId</code>, and get the heroes.</p><p translation-result="on">用 <a href="guide/attribute-binding#class-binding">CSS 类绑定</a>更新模板，把它绑定到 <code>isSelected</code> 方法上。 如果该方法返回 <code>true</code>，此绑定就会添加 CSS 类 <code>selected</code>，否则就移除它。 在 <code>&lt;li&gt;</code> 标记中找到它，就像这样：</p><p translation-origin="off">Update the template with a <a href="guide/attribute-binding#class-binding">class binding</a>. The binding adds the <code>selected</code> CSS class when the comparison returns <code>true</code> and removes it when <code>false</code>. Look for it within the repeated <code>&lt;li&gt;</code> tag as shown here:</p><code-example path="router/src/app/heroes/hero-list/hero-list.component.html" header="src/app/heroes/hero-list/hero-list.component.html" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/heroes/hero-list/hero-list.component.html</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/heroes/hero-list/hero-list.component.html">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="tag">&lt;h2&gt;</span><span class="pln">HEROES</span><span class="tag">&lt;/h2&gt;</span><span class="pln">
</span><span class="tag">&lt;ul</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"heroes"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;li</span><span class="pln"> *</span><a href="api/common/NgForOf" class="code-anchor"><span class="atn">ngFor</span></a><span class="pun">=</span><span class="atv">"let hero of heroes$ | async"</span><span class="pln">
    [</span><span class="atn">class</span><span class="pln">.</span><span class="atn">selected</span><span class="pln">]</span><span class="pun">=</span><span class="atv">"hero.id === selectedId"</span><span class="tag">&gt;</span><span class="pln">
    </span><span class="tag">&lt;a</span><span class="pln"> [</span><a href="api/router/RouterLink" class="code-anchor"><span class="atn">routerLink</span></a><span class="pln">]</span><span class="pun">=</span><span class="atv">"['/hero', hero.id]"</span><span class="tag">&gt;</span><span class="pln">
      </span><span class="tag">&lt;span</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"badge"</span><span class="tag">&gt;</span><span class="pln">{{ hero.id }}</span><span class="tag">&lt;/span&gt;</span><span class="pln">{{ hero.name }}
    </span><span class="tag">&lt;/a&gt;</span><span class="pln">
  </span><span class="tag">&lt;/li&gt;</span><span class="pln">
</span><span class="tag">&lt;/ul&gt;</span><span class="pln">

</span><span class="tag">&lt;button</span><span class="pln"> </span><a href="api/router/RouterLink" class="code-anchor"><span class="atn">routerLink</span></a><span class="pun">=</span><span class="atv">"/sidekicks"</span><span class="tag">&gt;</span><span class="pln">Go to sidekicks</span><span class="tag">&lt;/button&gt;</span></code>
    </pre></aio-code></code-example><p translation-result="on">当选中列表条目时，要添加一些样式。</p><p translation-origin="off">Add some styles to apply when the list item is selected.</p><code-example path="router/src/app/heroes/hero-list/hero-list.component.css" region="selected" header="src/app/heroes/hero-list/hero-list.component.css" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/heroes/hero-list/hero-list.component.css</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/heroes/hero-list/hero-list.component.css">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pun">.</span><span class="pln">heroes li</span><span class="pun">.</span><span class="pln">selected </span><span class="pun">{</span><span class="pln">
  background</span><span class="pun">-</span><span class="pln">color</span><span class="pun">:</span><span class="pln"> </span><span class="com">#CFD8DC;</span><span class="pln">
  color</span><span class="pun">:</span><span class="pln"> white</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">
</span><span class="pun">.</span><span class="pln">heroes li</span><span class="pun">.</span><span class="pln">selected</span><span class="pun">:</span><span class="pln">hover </span><span class="pun">{</span><span class="pln">
  background</span><span class="pun">-</span><span class="pln">color</span><span class="pun">:</span><span class="pln"> </span><span class="com">#BBD8DC;</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on">当用户从英雄列表导航到英雄“Magneta”并返回时，“Magneta”看起来是选中的：</p><p translation-origin="off">When the user navigates from the heroes list to the "Magneta" hero and back, "Magneta" appears selected:</p><div class="lightbox"><img src="generated/images/guide/router/selected-hero.png" alt="Selected List" width="336" height="110"></div><p translation-result="on">这个可选的 <code>foo</code> 路由参数人畜无害，路由器会继续忽略它。</p><p translation-origin="off">The optional <code>foo</code> route parameter is harmless and the router continues to ignore it.</p><a id="route-animation"></a><h3 id="adding-routable-animations" translation-result="on">添加路由动画<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#adding-routable-animations"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="adding-routable-animations">Adding routable animations<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#adding-routable-animations"><i class="material-icons">link</i></a></h3><p translation-result="on">在这一节，你将为<em>英雄详情</em>组件添加一些<a href="guide/animations">动画</a>。</p><p translation-origin="off">This section shows you how to add some <a href="guide/animations">animations</a> to the <code>HeroDetailComponent</code>.</p><p translation-result="on">首先导入 <code><a href="api/platform-browser/animations/BrowserAnimationsModule" class="code-anchor">BrowserAnimationsModule</a></code>，并添加到 <code>imports</code> 数组中：</p><p translation-origin="off">First, import the <code><a href="api/platform-browser/animations/BrowserAnimationsModule" class="code-anchor">BrowserAnimationsModule</a></code> and add it to the <code>imports</code> array:</p><code-example path="router/src/app/app.module.ts" header="src/app/app.module.ts (animations-module)" region="animations-module" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/app.module.ts (animations-module)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/app.module.ts (animations-module)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/platform-browser/animations/BrowserAnimationsModule" class="code-anchor"><span class="typ">BrowserAnimationsModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/platform-browser/animations'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="api/core/NgModule" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="api/platform-browser/animations/BrowserAnimationsModule" class="code-anchor"><span class="typ">BrowserAnimationsModule</span></a><span class="pun">,</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
</span><span class="pun">})</span></code>
    </pre></aio-code></code-example><p translation-result="on">接下来，为指向 <code>HeroListComponent</code> 和 <code>HeroDetailComponent</code> 的路由定义添加一个 <code>data</code> 对象。 转场是基于 <code>states</code> 的，你将使用来自路由的 <code><a href="api/animations/animation" class="code-anchor">animation</a></code> 数据为转场提供一个有名字的动画 <code>state</code>。</p><p translation-origin="off">Next, add a <code>data</code> object to the routes for <code>HeroListComponent</code> and <code>HeroDetailComponent</code>. Transitions are based on <code>states</code> and you use the <code><a href="api/animations/animation" class="code-anchor">animation</a></code> data from the route to provide a named animation <code>state</code> for the transitions.</p><code-example path="router/src/app/heroes/heroes-routing.module.2.ts" header="src/app/heroes/heroes-routing.module.ts (animation data)" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/heroes/heroes-routing.module.ts (animation data)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/heroes/heroes-routing.module.ts (animation data)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/core/NgModule" class="code-anchor"><span class="typ">NgModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/router/RouterModule" class="code-anchor"><span class="typ">RouterModule</span></a><span class="pun">,</span><span class="pln"> </span><a href="api/router/Routes-0" class="code-anchor"><span class="typ">Routes</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">HeroListComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./hero-list/hero-list.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">HeroDetailComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./hero-detail/hero-detail.component'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">const</span><span class="pln"> heroesRoutes</span><span class="pun">:</span><span class="pln"> </span><a href="api/router/Routes-0" class="code-anchor"><span class="typ">Routes</span></a><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'heroes'</span><span class="pun">,</span><span class="pln">  component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">HeroListComponent</span><span class="pun">,</span><span class="pln"> data</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/animations/animation" class="code-anchor"><span class="pln">animation</span></a><span class="pun">:</span><span class="pln"> </span><span class="str">'heroes'</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'hero/:id'</span><span class="pun">,</span><span class="pln"> component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">HeroDetailComponent</span><span class="pun">,</span><span class="pln"> data</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/animations/animation" class="code-anchor"><span class="pln">animation</span></a><span class="pun">:</span><span class="pln"> </span><span class="str">'hero'</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
</span><span class="pun">];</span><span class="pln">

</span><span class="lit">@</span><a href="api/core/NgModule" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">RouterModule</span><span class="pun">.</span><span class="pln">forChild</span><span class="pun">(</span><span class="pln">heroesRoutes</span><span class="pun">)</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  exports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="api/router/RouterModule" class="code-anchor"><span class="typ">RouterModule</span></a><span class="pln">
  </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">HeroesRoutingModule</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on">在根目录 <code>src/app/</code> 下创建一个 <code>animations.ts</code>。内容如下：</p><p translation-origin="off">Create an <code>animations.ts</code> file in the root <code>src/app/</code> folder. The contents look like this:</p><code-example path="router/src/app/animations.ts" header="src/app/animations.ts (excerpt)" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/animations.ts (excerpt)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/animations.ts (excerpt)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><a href="api/animations/trigger" class="code-anchor"><span class="pln">trigger</span></a><span class="pun">,</span><span class="pln"> </span><a href="api/animations/animateChild" class="code-anchor"><span class="pln">animateChild</span></a><span class="pun">,</span><span class="pln"> </span><span class="kwd">group</span><span class="pun">,</span><span class="pln">
  </span><a href="api/animations/transition" class="code-anchor"><span class="pln">transition</span></a><span class="pun">,</span><span class="pln"> </span><a href="api/animations/animate" class="code-anchor"><span class="pln">animate</span></a><span class="pun">,</span><span class="pln"> </span><a href="api/animations/style" class="code-anchor"><span class="pln">style</span></a><span class="pun">,</span><span class="pln"> </span><a href="api/animations/query" class="code-anchor"><span class="pln">query</span></a><span class="pln">
</span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/animations'</span><span class="pun">;</span><span class="pln">


</span><span class="com">// Routable animations</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> slideInAnimation </span><span class="pun">=</span><span class="pln">
  </span><a href="api/animations/trigger" class="code-anchor"><span class="pln">trigger</span></a><span class="pun">(</span><span class="str">'routeAnimation'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="api/animations/transition" class="code-anchor"><span class="pln">transition</span></a><span class="pun">(</span><span class="str">'heroes &lt;=&gt; hero'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
      </span><a href="api/animations/style" class="code-anchor"><span class="pln">style</span></a><span class="pun">({</span><span class="pln"> position</span><span class="pun">:</span><span class="pln"> </span><span class="str">'relative'</span><span class="pln"> </span><span class="pun">}),</span><span class="pln">
      </span><a href="api/animations/query" class="code-anchor"><span class="pln">query</span></a><span class="pun">(</span><span class="str">':enter, :leave'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
        </span><a href="api/animations/style" class="code-anchor"><span class="pln">style</span></a><span class="pun">({</span><span class="pln">
          position</span><span class="pun">:</span><span class="pln"> </span><span class="str">'absolute'</span><span class="pun">,</span><span class="pln">
          top</span><span class="pun">:</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln">
          left</span><span class="pun">:</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln">
          width</span><span class="pun">:</span><span class="pln"> </span><span class="str">'100%'</span><span class="pln">
        </span><span class="pun">})</span><span class="pln">
      </span><span class="pun">]),</span><span class="pln">
      </span><a href="api/animations/query" class="code-anchor"><span class="pln">query</span></a><span class="pun">(</span><span class="str">':enter'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
        </span><a href="api/animations/style" class="code-anchor"><span class="pln">style</span></a><span class="pun">({</span><span class="pln"> left</span><span class="pun">:</span><span class="pln"> </span><span class="str">'-100%'</span><span class="pun">})</span><span class="pln">
      </span><span class="pun">]),</span><span class="pln">
      </span><a href="api/animations/query" class="code-anchor"><span class="pln">query</span></a><span class="pun">(</span><span class="str">':leave'</span><span class="pun">,</span><span class="pln"> </span><a href="api/animations/animateChild" class="code-anchor"><span class="pln">animateChild</span></a><span class="pun">()),</span><span class="pln">
      </span><span class="kwd">group</span><span class="pun">([</span><span class="pln">
        </span><a href="api/animations/query" class="code-anchor"><span class="pln">query</span></a><span class="pun">(</span><span class="str">':leave'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
          </span><a href="api/animations/animate" class="code-anchor"><span class="pln">animate</span></a><span class="pun">(</span><span class="str">'300ms ease-out'</span><span class="pun">,</span><span class="pln"> </span><a href="api/animations/style" class="code-anchor"><span class="pln">style</span></a><span class="pun">({</span><span class="pln"> left</span><span class="pun">:</span><span class="pln"> </span><span class="str">'100%'</span><span class="pun">}))</span><span class="pln">
        </span><span class="pun">]),</span><span class="pln">
        </span><a href="api/animations/query" class="code-anchor"><span class="pln">query</span></a><span class="pun">(</span><span class="str">':enter'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
          </span><a href="api/animations/animate" class="code-anchor"><span class="pln">animate</span></a><span class="pun">(</span><span class="str">'300ms ease-out'</span><span class="pun">,</span><span class="pln"> </span><a href="api/animations/style" class="code-anchor"><span class="pln">style</span></a><span class="pun">({</span><span class="pln"> left</span><span class="pun">:</span><span class="pln"> </span><span class="str">'0%'</span><span class="pun">}))</span><span class="pln">
        </span><span class="pun">])</span><span class="pln">
      </span><span class="pun">]),</span><span class="pln">
      </span><a href="api/animations/query" class="code-anchor"><span class="pln">query</span></a><span class="pun">(</span><span class="str">':enter'</span><span class="pun">,</span><span class="pln"> </span><a href="api/animations/animateChild" class="code-anchor"><span class="pln">animateChild</span></a><span class="pun">()),</span><span class="pln">
    </span><span class="pun">])</span><span class="pln">
  </span><span class="pun">]);</span></code>
    </pre></aio-code></code-example><p translation-result="on">该文件做了如下工作：</p><p translation-origin="off">This file does the following:</p><ul><li><p translation-result="on">导入动画符号以构建动画触发器、控制状态并管理状态之间的过渡。</p><p translation-origin="off">Imports the animation symbols that build the animation triggers, control state, and manage transitions between states.</p></li><li><p translation-result="on">导出了一个名叫 <code>slideInAnimation</code> 的常量，并把它设置为一个名叫 <code>routeAnimation</code> 的动画触发器。</p><p translation-origin="off">Exports a constant named <code>slideInAnimation</code> set to an animation trigger named <code>routeAnimation</code>.</p></li><li><p translation-result="on">定义一个转场动画，当在 <code>heroes</code> 和 <code>hero</code> 路由之间来回切换时，如果进入（<code>:enter</code>）应用视图则让组件从屏幕的左侧滑入，如果离开（<code>:leave</code>）应用视图则让组件从右侧划出。</p><p translation-origin="off">Defines one transition when switching back and forth from the <code>heroes</code> and <code>hero</code> routes to ease the component in from the left of the screen as it enters the application view (<code>:enter</code>), the other to animate the component to the right as it leaves the application view (<code>:leave</code>).</p></li></ul><p translation-result="on">回到 <code>AppComponent</code>，从 <code>@angular/router</code> 包导入 <code><a href="api/router/RouterOutlet" class="code-anchor">RouterOutlet</a></code>，并从 <code>'./animations.ts</code> 导入 <code>slideInAnimation</code>。</p><p translation-origin="off">Back in the <code>AppComponent</code>, import the <code><a href="api/router/RouterOutlet" class="code-anchor">RouterOutlet</a></code> token from the <code>@angular/router</code> package and the <code>slideInAnimation</code> from <code>'./animations.ts</code>.</p><p translation-result="on">为包含 <code>slideInAnimation</code> 的 <code>@<a href="api/core/Component" class="code-anchor">Component</a></code> 元数据添加一个 <code>animations</code> 数组。</p><p translation-origin="off">Add an <code>animations</code> array to the <code>@<a href="api/core/Component" class="code-anchor">Component</a></code> metadata that contains the <code>slideInAnimation</code>.</p><code-example path="router/src/app/app.component.2.ts" header="src/app/app.component.ts (animations)" region="animation-imports" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/app.component.ts (animations)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/app.component.ts (animations)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/router/RouterOutlet" class="code-anchor"><span class="typ">RouterOutlet</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> slideInAnimation </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./animations'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="api/core/Component" class="code-anchor"><span class="lit">Component</span></a><span class="pun">({</span><span class="pln">
  selector</span><span class="pun">:</span><span class="pln"> </span><span class="str">'app-root'</span><span class="pun">,</span><span class="pln">
  templateUrl</span><span class="pun">:</span><span class="pln"> </span><span class="str">'app.component.html'</span><span class="pun">,</span><span class="pln">
  styleUrls</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="str">'app.component.css'</span><span class="pun">],</span><span class="pln">
  animations</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> slideInAnimation </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span></code>
    </pre></aio-code></code-example><p translation-result="on">要想使用路由动画，就要把 <code><a href="api/router/RouterOutlet" class="code-anchor">RouterOutlet</a></code> 包装到一个元素中。再把 <code>@routeAnimation</code> 触发器绑定到该元素上。</p><p translation-origin="off">In order to use the routable animations, wrap the <code><a href="api/router/RouterOutlet" class="code-anchor">RouterOutlet</a></code> inside an element, use the <code>@routeAnimation</code> trigger, and bind it to the element.</p><p translation-result="on">为了把 <code>@routeAnimation</code> 转场转场到指定的状态，你需要从 <code><a href="api/router/ActivatedRoute" class="code-anchor">ActivatedRoute</a></code> 的 <code>data</code> 中提供它。 <code><a href="api/router/RouterOutlet" class="code-anchor">RouterOutlet</a></code> 导出成了一个模板变量 <code>outlet</code>，这样你就可以绑定一个到路由出口的引用了。这个例子中使用了一个 <code>routerOutlet</code> 变量。</p><p translation-origin="off">For the <code>@routeAnimation</code> transitions to key off states, provide it with the <code>data</code> from the <code><a href="api/router/ActivatedRoute" class="code-anchor">ActivatedRoute</a></code>. The <code><a href="api/router/RouterOutlet" class="code-anchor">RouterOutlet</a></code> is exposed as an <code>outlet</code> template variable, so you bind a reference to the router outlet. This example uses a variable of <code>routerOutlet</code>.</p><code-example path="router/src/app/app.component.2.html" header="src/app/app.component.html (router outlet)" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/app.component.html (router outlet)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/app.component.html (router outlet)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="tag">&lt;h1&gt;</span><span class="pln">Angular </span><a href="api/router/Router" class="code-anchor"><span class="pln">Router</span></a><span class="tag">&lt;/h1&gt;</span><span class="pln">
</span><span class="tag">&lt;nav&gt;</span><span class="pln">
  </span><span class="tag">&lt;a</span><span class="pln"> </span><a href="api/router/RouterLink" class="code-anchor"><span class="atn">routerLink</span></a><span class="pun">=</span><span class="atv">"/crisis-center"</span><span class="pln"> </span><a href="api/router/RouterLinkActive" class="code-anchor"><span class="atn">routerLinkActive</span></a><span class="pun">=</span><span class="atv">"active"</span><span class="tag">&gt;</span><span class="pln">Crisis Center</span><span class="tag">&lt;/a&gt;</span><span class="pln">
  </span><span class="tag">&lt;a</span><span class="pln"> </span><a href="api/router/RouterLink" class="code-anchor"><span class="atn">routerLink</span></a><span class="pun">=</span><span class="atv">"/heroes"</span><span class="pln"> </span><a href="api/router/RouterLinkActive" class="code-anchor"><span class="atn">routerLinkActive</span></a><span class="pun">=</span><span class="atv">"active"</span><span class="tag">&gt;</span><span class="pln">Heroes</span><span class="tag">&lt;/a&gt;</span><span class="pln">
</span><span class="tag">&lt;/nav&gt;</span><span class="pln">
</span><span class="tag">&lt;div</span><span class="pln"> [@</span><span class="atn">routeAnimation</span><span class="pln">]</span><span class="pun">=</span><span class="atv">"getAnimationData(routerOutlet)"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;</span><a href="api/router/RouterOutlet" class="code-anchor"><span class="tag">router-outlet</span></a><span class="pln"> #</span><span class="atn">routerOutlet</span><span class="pun">=</span><span class="atv">"outlet"</span><span class="tag">&gt;&lt;/</span><a href="api/router/RouterOutlet" class="code-anchor"><span class="tag">router-outlet</span></a><span class="tag">&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code>
    </pre></aio-code></code-example><p translation-result="on"><code>@routeAnimation</code> 属性使用所提供的 <code>routerOutlet</code> 引用来绑定到 <code>getAnimationData()</code>，因此下一步就要在 <code>AppComponent</code> 中定义那个函数。<code>getAnimationData</code> 函数会根据 <code><a href="api/router/ActivatedRoute" class="code-anchor">ActivatedRoute</a></code> 所提供的 <code>data</code> 对象返回动画的属性。<code><a href="api/animations/animation" class="code-anchor">animation</a></code> 属性会根据你在 <code>animations.ts</code> 中定义 <code>slideInAnimation()</code> 时使用的 <code><a href="api/animations/transition" class="code-anchor">transition</a></code> 名称进行匹配。</p><p translation-origin="off">The <code>@routeAnimation</code> property is bound to the <code>getAnimationData()</code> with the provided <code>routerOutlet</code> reference, so the next step is to define that function in the <code>AppComponent</code>. The <code>getAnimationData()</code> function returns the animation property from the <code>data</code> provided through the <code><a href="api/router/ActivatedRoute" class="code-anchor">ActivatedRoute</a></code>. The <code><a href="api/animations/animation" class="code-anchor">animation</a></code> property matches the <code><a href="api/animations/transition" class="code-anchor">transition</a></code> names you used in the <code>slideInAnimation</code> defined in <code>animations.ts</code>.</p><code-example path="router/src/app/app.component.2.ts" header="src/app/app.component.ts (router outlet)" region="function-binding" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/app.component.ts (router outlet)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/app.component.ts (router outlet)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AppComponent</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  getAnimationData</span><span class="pun">(</span><span class="pln">outlet</span><span class="pun">:</span><span class="pln"> </span><a href="api/router/RouterOutlet" class="code-anchor"><span class="typ">RouterOutlet</span></a><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> outlet </span><span class="pun">&amp;&amp;</span><span class="pln"> outlet</span><span class="pun">.</span><span class="pln">activatedRouteData </span><span class="pun">&amp;&amp;</span><span class="pln"> outlet</span><span class="pun">.</span><span class="pln">activatedRouteData</span><span class="pun">.</span><span class="pln">animation</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on">如果在两个路由之间切换，导航进来时，<code>HeroDetailComponent</code> 和 <code>HeroListComponent</code> 会从左侧滑入；导航离开时将会从右侧划出。</p><p translation-origin="off">When switching between the two routes, the <code>HeroDetailComponent</code> and <code>HeroListComponent</code> now ease in from the left when routed to and will slide to the right when navigating away.</p><a id="milestone-3-wrap-up"></a><h3 id="milestone-3-wrap-up" translation-result="on">里程碑 3 的小结<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#milestone-3-wrap-up"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="milestone-3-wrap-up">Milestone 3 wrap up<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#milestone-3-wrap-up"><i class="material-icons">link</i></a></h3><p translation-result="on">本节包括以下内容：</p><p translation-origin="off">This section has covered the following:</p><ul><li><p translation-result="on">把应用组织成特性区</p><p translation-origin="off">Organizing the app into feature areas.</p></li><li><p translation-result="on">命令式的从一个组件导航到另一个</p><p translation-origin="off">Navigating imperatively from one component to another.</p></li><li><p translation-result="on">通过路由参数传递信息，并在组件中订阅它们</p><p translation-origin="off">Passing information along in route parameters and subscribe to them in the component.</p></li><li><p translation-result="on">把这个特性分区模块导入根模块 <code>AppModule</code></p><p translation-origin="off">Importing the feature area NgModule into the <code>AppModule</code>.</p></li><li><p translation-result="on">把动画应用到路由组件上</p><p translation-origin="off">Applying routable animations based on the page.</p></li></ul><p translation-result="on">做完这些修改之后，目录结构如下：</p><p translation-origin="off">After these changes, the folder structure is as follows:</p><div class="filetree"><div class="file"><p>angular-router-sample</p></div><div class="children"><div class="file">src</div><div class="children"><div class="file">app</div><div class="children"><div class="file">crisis-list</div><div class="children"><div class="file">crisis-list.component.css</div><div class="file">crisis-list.component.html</div><div class="file">crisis-list.component.ts</div></div><div class="file"><p>heroes</p></div><div class="children"><div class="file">hero-detail</div><div class="children"><div class="file">hero-detail.component.css</div><div class="file">hero-detail.component.html</div><div class="file">hero-detail.component.ts</div></div><div class="file">hero-list</div><div class="children"><div class="file">hero-list.component.css</div><div class="file">hero-list.component.html</div><div class="file">hero-list.component.ts</div></div><div class="file">hero.service.ts</div><div class="file">hero.ts</div><div class="file">heroes-routing.module.ts</div><div class="file">heroes.module.ts</div><div class="file">mock-heroes.ts</div></div><div class="file">page-not-found</div><div class="children"><div class="file"><p>page-not-found.component.css</p></div><div class="file"><p>page-not-found.component.html</p></div><div class="file"><p>page-not-found.component.ts</p></div></div></div><div class="file">animations.ts</div><div class="file">app.component.css</div><div class="file">app.component.html</div><div class="file">app.component.ts</div><div class="file">app.module.ts</div><div class="file">app-routing.module.ts</div><div class="file">main.ts</div><div class="file"><p>message.service.ts</p></div><div class="file"><p>index.html</p></div><div class="file"><p>styles.css</p></div><div class="file"><p>tsconfig.json</p></div></div><div class="file"><p>node_modules ...</p></div><div class="file"><p>package.json</p></div></div></div><p translation-result="on">这里是当前版本的范例程序相关文件。</p><p translation-origin="off">Here are the relevant files for this version of the sample application.</p><code-tabs ng-version="12.0.0-rc.2"><div style="display:none"></div><mat-card class="mat-card mat-focus-indicator"><mat-tab-group class="mat-tab-group code-tab-group mat-primary"><mat-tab-header class="mat-tab-header mat-tab-header-pagination-controls-enabled"><div aria-hidden="true" mat-ripple="" class="mat-ripple mat-tab-header-pagination mat-tab-header-pagination-before mat-elevation-z4 mat-tab-header-pagination-disabled"><div class="mat-tab-header-pagination-chevron"></div></div><div class="mat-tab-label-container"><div role="tablist" class="mat-tab-list" style="transform:translateX(0)"><div class="mat-tab-labels"><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator mat-tab-label-active ng-star-inserted" id="mat-tab-label-2-0" tabindex="0" aria-posinset="1" aria-setsize="14" aria-controls="mat-tab-content-2-0" aria-selected="true" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">animations.ts</span></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-2-1" tabindex="-1" aria-posinset="2" aria-setsize="14" aria-controls="mat-tab-content-2-1" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">app.component.html</span></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-2-2" tabindex="-1" aria-posinset="3" aria-setsize="14" aria-controls="mat-tab-content-2-2" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">app.component.ts</span></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-2-3" tabindex="-1" aria-posinset="4" aria-setsize="14" aria-controls="mat-tab-content-2-3" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">app.module.ts</span></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-2-4" tabindex="-1" aria-posinset="5" aria-setsize="14" aria-controls="mat-tab-content-2-4" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">app-routing.module.ts</span></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-2-5" tabindex="-1" aria-posinset="6" aria-setsize="14" aria-controls="mat-tab-content-2-5" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">hero-list.component.css</span></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-2-6" tabindex="-1" aria-posinset="7" aria-setsize="14" aria-controls="mat-tab-content-2-6" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">hero-list.component.html</span></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-2-7" tabindex="-1" aria-posinset="8" aria-setsize="14" aria-controls="mat-tab-content-2-7" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">hero-list.component.ts</span></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-2-8" tabindex="-1" aria-posinset="9" aria-setsize="14" aria-controls="mat-tab-content-2-8" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">hero-detail.component.html</span></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-2-9" tabindex="-1" aria-posinset="10" aria-setsize="14" aria-controls="mat-tab-content-2-9" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">hero-detail.component.ts</span></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-2-10" tabindex="-1" aria-posinset="11" aria-setsize="14" aria-controls="mat-tab-content-2-10" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">hero.service.ts</span></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-2-11" tabindex="-1" aria-posinset="12" aria-setsize="14" aria-controls="mat-tab-content-2-11" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">heroes.module.ts</span></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-2-12" tabindex="-1" aria-posinset="13" aria-setsize="14" aria-controls="mat-tab-content-2-12" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">heroes-routing.module.ts</span></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-2-13" tabindex="-1" aria-posinset="14" aria-setsize="14" aria-controls="mat-tab-content-2-13" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">message.service.ts</span></div></div></div><mat-ink-bar class="mat-ink-bar" style="visibility:visible;left:0;width:160px"></mat-ink-bar></div></div><div aria-hidden="true" mat-ripple="" class="mat-ripple mat-tab-header-pagination mat-tab-header-pagination-after mat-elevation-z4"><div class="mat-tab-header-pagination-chevron"></div></div></mat-tab-header><div class="mat-tab-body-wrapper"><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c48-10 mat-tab-body-active ng-star-inserted" id="mat-tab-content-2-0" aria-labelledby="mat-tab-label-2-0"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c48-10 ng-trigger ng-trigger-translateTab" style="transform:none"><aio-code class="ng-star-inserted" style=""><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from animations.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><a href="api/animations/trigger" class="code-anchor"><span class="pln">trigger</span></a><span class="pun">,</span><span class="pln"> </span><a href="api/animations/animateChild" class="code-anchor"><span class="pln">animateChild</span></a><span class="pun">,</span><span class="pln"> </span><span class="kwd">group</span><span class="pun">,</span><span class="pln">
  </span><a href="api/animations/transition" class="code-anchor"><span class="pln">transition</span></a><span class="pun">,</span><span class="pln"> </span><a href="api/animations/animate" class="code-anchor"><span class="pln">animate</span></a><span class="pun">,</span><span class="pln"> </span><a href="api/animations/style" class="code-anchor"><span class="pln">style</span></a><span class="pun">,</span><span class="pln"> </span><a href="api/animations/query" class="code-anchor"><span class="pln">query</span></a><span class="pln">
</span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/animations'</span><span class="pun">;</span><span class="pln">


</span><span class="com">// Routable animations</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> slideInAnimation </span><span class="pun">=</span><span class="pln">
  </span><a href="api/animations/trigger" class="code-anchor"><span class="pln">trigger</span></a><span class="pun">(</span><span class="str">'routeAnimation'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="api/animations/transition" class="code-anchor"><span class="pln">transition</span></a><span class="pun">(</span><span class="str">'heroes &lt;=&gt; hero'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
      </span><a href="api/animations/style" class="code-anchor"><span class="pln">style</span></a><span class="pun">({</span><span class="pln"> position</span><span class="pun">:</span><span class="pln"> </span><span class="str">'relative'</span><span class="pln"> </span><span class="pun">}),</span><span class="pln">
      </span><a href="api/animations/query" class="code-anchor"><span class="pln">query</span></a><span class="pun">(</span><span class="str">':enter, :leave'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
        </span><a href="api/animations/style" class="code-anchor"><span class="pln">style</span></a><span class="pun">({</span><span class="pln">
          position</span><span class="pun">:</span><span class="pln"> </span><span class="str">'absolute'</span><span class="pun">,</span><span class="pln">
          top</span><span class="pun">:</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln">
          left</span><span class="pun">:</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln">
          width</span><span class="pun">:</span><span class="pln"> </span><span class="str">'100%'</span><span class="pln">
        </span><span class="pun">})</span><span class="pln">
      </span><span class="pun">]),</span><span class="pln">
      </span><a href="api/animations/query" class="code-anchor"><span class="pln">query</span></a><span class="pun">(</span><span class="str">':enter'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
        </span><a href="api/animations/style" class="code-anchor"><span class="pln">style</span></a><span class="pun">({</span><span class="pln"> left</span><span class="pun">:</span><span class="pln"> </span><span class="str">'-100%'</span><span class="pun">})</span><span class="pln">
      </span><span class="pun">]),</span><span class="pln">
      </span><a href="api/animations/query" class="code-anchor"><span class="pln">query</span></a><span class="pun">(</span><span class="str">':leave'</span><span class="pun">,</span><span class="pln"> </span><a href="api/animations/animateChild" class="code-anchor"><span class="pln">animateChild</span></a><span class="pun">()),</span><span class="pln">
      </span><span class="kwd">group</span><span class="pun">([</span><span class="pln">
        </span><a href="api/animations/query" class="code-anchor"><span class="pln">query</span></a><span class="pun">(</span><span class="str">':leave'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
          </span><a href="api/animations/animate" class="code-anchor"><span class="pln">animate</span></a><span class="pun">(</span><span class="str">'300ms ease-out'</span><span class="pun">,</span><span class="pln"> </span><a href="api/animations/style" class="code-anchor"><span class="pln">style</span></a><span class="pun">({</span><span class="pln"> left</span><span class="pun">:</span><span class="pln"> </span><span class="str">'100%'</span><span class="pun">}))</span><span class="pln">
        </span><span class="pun">]),</span><span class="pln">
        </span><a href="api/animations/query" class="code-anchor"><span class="pln">query</span></a><span class="pun">(</span><span class="str">':enter'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
          </span><a href="api/animations/animate" class="code-anchor"><span class="pln">animate</span></a><span class="pun">(</span><span class="str">'300ms ease-out'</span><span class="pun">,</span><span class="pln"> </span><a href="api/animations/style" class="code-anchor"><span class="pln">style</span></a><span class="pun">({</span><span class="pln"> left</span><span class="pun">:</span><span class="pln"> </span><span class="str">'0%'</span><span class="pun">}))</span><span class="pln">
        </span><span class="pun">])</span><span class="pln">
      </span><span class="pun">]),</span><span class="pln">
      </span><a href="api/animations/query" class="code-anchor"><span class="pln">query</span></a><span class="pun">(</span><span class="str">':enter'</span><span class="pun">,</span><span class="pln"> </span><a href="api/animations/animateChild" class="code-anchor"><span class="pln">animateChild</span></a><span class="pun">()),</span><span class="pln">
    </span><span class="pun">])</span><span class="pln">
  </span><span class="pun">]);</span></code>
    </pre></aio-code></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c48-11 ng-star-inserted" id="mat-tab-content-2-1" aria-labelledby="mat-tab-label-2-1"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c48-11 ng-trigger ng-trigger-translateTab" style="transform:translate3d(100%,0,0);min-height:1px"></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c48-12 ng-star-inserted" id="mat-tab-content-2-2" aria-labelledby="mat-tab-label-2-2"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c48-12 ng-trigger ng-trigger-translateTab" style="transform:translate3d(100%,0,0);min-height:1px"></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c48-13 ng-star-inserted" id="mat-tab-content-2-3" aria-labelledby="mat-tab-label-2-3"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c48-13 ng-trigger ng-trigger-translateTab" style="transform:translate3d(100%,0,0);min-height:1px"></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c48-14 ng-star-inserted" id="mat-tab-content-2-4" aria-labelledby="mat-tab-label-2-4"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c48-14 ng-trigger ng-trigger-translateTab" style="transform:translate3d(100%,0,0);min-height:1px"></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c48-15 ng-star-inserted" id="mat-tab-content-2-5" aria-labelledby="mat-tab-label-2-5"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c48-15 ng-trigger ng-trigger-translateTab" style="transform:translate3d(100%,0,0);min-height:1px"></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c48-16 ng-star-inserted" id="mat-tab-content-2-6" aria-labelledby="mat-tab-label-2-6"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c48-16 ng-trigger ng-trigger-translateTab" style="transform:translate3d(100%,0,0);min-height:1px"></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c48-17 ng-star-inserted" id="mat-tab-content-2-7" aria-labelledby="mat-tab-label-2-7"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c48-17 ng-trigger ng-trigger-translateTab" style="transform:translate3d(100%,0,0);min-height:1px"></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c48-18 ng-star-inserted" id="mat-tab-content-2-8" aria-labelledby="mat-tab-label-2-8"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c48-18 ng-trigger ng-trigger-translateTab" style="transform:translate3d(100%,0,0);min-height:1px"></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c48-19 ng-star-inserted" id="mat-tab-content-2-9" aria-labelledby="mat-tab-label-2-9"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c48-19 ng-trigger ng-trigger-translateTab" style="transform:translate3d(100%,0,0);min-height:1px"></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c48-20 ng-star-inserted" id="mat-tab-content-2-10" aria-labelledby="mat-tab-label-2-10"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c48-20 ng-trigger ng-trigger-translateTab" style="transform:translate3d(100%,0,0);min-height:1px"></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c48-21 ng-star-inserted" id="mat-tab-content-2-11" aria-labelledby="mat-tab-label-2-11"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c48-21 ng-trigger ng-trigger-translateTab" style="transform:translate3d(100%,0,0);min-height:1px"></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c48-22 ng-star-inserted" id="mat-tab-content-2-12" aria-labelledby="mat-tab-label-2-12"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c48-22 ng-trigger ng-trigger-translateTab" style="transform:translate3d(100%,0,0);min-height:1px"></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c48-23 ng-star-inserted" id="mat-tab-content-2-13" aria-labelledby="mat-tab-label-2-13"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c48-23 ng-trigger ng-trigger-translateTab" style="transform:translate3d(100%,0,0);min-height:1px"></div></mat-tab-body></div></mat-tab-group></mat-card></code-tabs><a id="milestone-4"></a><h2 id="milestone-4-crisis-center-feature" translation-result="on">里程碑 4：危机中心<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#milestone-4-crisis-center-feature"><i class="material-icons">link</i></a></h2><h2 translation-origin="off" id="milestone-4-crisis-center-feature">Milestone 4: Crisis center feature<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#milestone-4-crisis-center-feature"><i class="material-icons">link</i></a></h2><p translation-result="on">本节将向你展示如何在应用中添加子路由并使用相对路由。</p><p translation-origin="off">This section shows you how to add child routes and use relative routing in your app.</p><p translation-result="on">要为应用当前的危机中心添加更多特性，请执行类似于 heroes 特性的步骤：</p><p translation-origin="off">To add more features to the app's current crisis center, take similar steps as for the heroes feature:</p><ul><li><p translation-result="on">在 <code>src/app</code> 目录下创建一个 <code>crisis-center</code> 子目录。</p><p translation-origin="off">Create a <code>crisis-center</code> subfolder in the <code>src/app</code> folder.</p></li><li><p translation-result="on">把 <code>app/heroes</code> 中的文件和目录复制到新的 <code>crisis-center</code> 文件夹中。</p><p translation-origin="off">Copy the files and folders from <code>app/heroes</code> into the new <code>crisis-center</code> folder.</p></li><li><p translation-result="on">在这些新建的文件中，把每个 "hero" 都改成 "crisis"，每个 "heroes" 都改成 "crises"。</p><p translation-origin="off">In the new files, change every mention of "hero" to "crisis", and "heroes" to "crises".</p></li><li><p translation-result="on">把这些 NgModule 文件改名为 <code>crisis-center.module.ts</code> 和 <code>crisis-center-routing.module.ts</code>。</p><p translation-origin="off">Rename the NgModule files to <code>crisis-center.module.ts</code> and <code>crisis-center-routing.module.ts</code>.</p></li></ul><p translation-result="on">使用 mock 的 crises 来代替 mock 的 heroes：</p><p translation-origin="off">Use mock crises instead of mock heroes:</p><code-example path="router/src/app/crisis-center/mock-crises.ts" header="src/app/crisis-center/mock-crises.ts" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/crisis-center/mock-crises.ts</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/crisis-center/mock-crises.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Crisis</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./crisis'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> CRISES</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Crisis</span><span class="pun">[]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> id</span><span class="pun">:</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> name</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Dragon Burning Cities'</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> id</span><span class="pun">:</span><span class="pln"> </span><span class="lit">2</span><span class="pun">,</span><span class="pln"> name</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Sky Rains Great White Sharks'</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> id</span><span class="pun">:</span><span class="pln"> </span><span class="lit">3</span><span class="pun">,</span><span class="pln"> name</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Giant Asteroid Heading For Earth'</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> id</span><span class="pun">:</span><span class="pln"> </span><span class="lit">4</span><span class="pun">,</span><span class="pln"> name</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Procrastinators Meeting Delayed Again'</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
</span><span class="pun">];</span></code>
    </pre></aio-code></code-example><p translation-result="on">最终的危机中心可以作为引入子路由这个新概念的基础。 你可以把英雄管理保持在当前状态，以便和<em>危机中心</em>进行对比。</p><p translation-origin="off">The resulting crisis center is a foundation for introducing a new concept—child routing. You can leave Heroes in its current state as a contrast with the Crisis Center.</p><div class="alert is-helpful"><p translation-result="on">遵循<a href="https://blog.8thlight.com/uncle-bob/2014/05/08/SingleReponsibilityPrinciple.html" target="_blank" title="Separation of Concerns"><em>关注点分离（Separation of Concerns）</em>原则</a>， 对<em>危机中心</em>的修改不会影响 <code>AppModule</code> 或其它特性模块中的组件。</p><p translation-origin="off">In keeping with the <a href="https://blog.8thlight.com/uncle-bob/2014/05/08/SingleReponsibilityPrinciple.html" title="Separation of Concerns">Separation of Concerns principle</a>, changes to the Crisis Center don't affect the <code>AppModule</code> or any other feature's component.</p></div><a id="crisis-child-routes"></a><h3 id="a-crisis-center-with-child-routes" translation-result="on">带有子路由的危机中心<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#a-crisis-center-with-child-routes"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="a-crisis-center-with-child-routes">A crisis center with child routes<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#a-crisis-center-with-child-routes"><i class="material-icons">link</i></a></h3><p translation-result="on">本节会展示如何组织危机中心，来满足 Angular 应用所推荐的模式：</p><p translation-origin="off">This section shows you how to organize the crisis center to conform to the following recommended pattern for Angular applications:</p><ul><li><p translation-result="on">把每个特性放在自己的目录中。</p><p translation-origin="off">Each feature area resides in its own folder.</p></li><li><p translation-result="on">每个特性都有自己的 Angular 特性模块。</p><p translation-origin="off">Each feature has its own Angular feature module.</p></li><li><p translation-result="on">每个特性区都有自己的根组件。</p><p translation-origin="off">Each area has its own area root component.</p></li><li><p translation-result="on">每个特性区的根组件中都有自己的路由出口及其子路由。</p><p translation-origin="off">Each area root component has its own router outlet and child routes.</p></li><li><p translation-result="on">特性区的路由很少（或完全不）与其它特性区的路由交叉。</p><p translation-origin="off">Feature area routes rarely (if ever) cross with routes of other features.</p></li></ul><p translation-result="on">如果你还有更多特性区，它们的组件树是这样的：</p><p translation-origin="off">If your app had many feature areas, the app component trees might look like this:</p><div class="lightbox"><img src="generated/images/guide/router/component-tree.png" alt="Component Tree" width="473" height="258"></div><a id="child-routing-component"></a><h3 id="child-routing-component" translation-result="on">子路由组件<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#child-routing-component"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="child-routing-component">Child routing component<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#child-routing-component"><i class="material-icons">link</i></a></h3><p translation-result="on">在 <code>crisis-center</code> 目录下生成一个 <code>CrisisCenter</code> 组件：</p><p translation-origin="off">Generate a <code>CrisisCenter</code> component in the <code>crisis-center</code> folder:</p><code-example language="sh" ng-version="12.0.0-rc.2"><div style="display:none"></div><aio-code><pre class="lang-sh prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pln">ng generate component crisis</span><span class="pun">-</span><span class="pln">center</span><span class="pun">/</span><span class="pln">crisis</span><span class="pun">-</span><span class="pln">center</span></code>
    </pre></aio-code></code-example><p translation-result="on">使用如下代码更新组件模板：</p><p translation-origin="off">Update the component template with the following markup:</p><code-example path="router/src/app/crisis-center/crisis-center/crisis-center.component.html" header="src/app/crisis-center/crisis-center/crisis-center.component.html" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/crisis-center/crisis-center/crisis-center.component.html</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/crisis-center/crisis-center/crisis-center.component.html">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="tag">&lt;h2&gt;</span><span class="pln">CRISIS CENTER</span><span class="tag">&lt;/h2&gt;</span><span class="pln">
</span><span class="tag">&lt;</span><a href="api/router/RouterOutlet" class="code-anchor"><span class="tag">router-outlet</span></a><span class="tag">&gt;&lt;/</span><a href="api/router/RouterOutlet" class="code-anchor"><span class="tag">router-outlet</span></a><span class="tag">&gt;</span></code>
    </pre></aio-code></code-example><p translation-result="on"><code>CrisisCenterComponent</code> 和 <code>AppComponent</code> 有下列共同点：</p><p translation-origin="off">The <code>CrisisCenterComponent</code> has the following in common with the <code>AppComponent</code>:</p><ul><li><p translation-result="on">它是危机中心特性区的<em>根</em>，正如 <code>AppComponent</code> 是整个应用的根。</p><p translation-origin="off">It is the root of the crisis center area, just as <code>AppComponent</code> is the root of the entire application.</p></li><li><p translation-result="on">它是危机管理特性区的壳，正如 <code>AppComponent</code> 是管理高层工作流的壳。</p><p translation-origin="off">It is a shell for the crisis management feature area, just as the <code>AppComponent</code> is a shell to manage the high-level workflow.</p></li></ul><p translation-result="on">就像大多数的壳一样，<code>CrisisCenterComponent</code> 类是最小化的，因为它没有业务逻辑，它的模板中没有链接，只有一个标题和用于放置危机中心的子组件的 <code>&lt;<a href="api/router/RouterOutlet" class="code-anchor">router-outlet</a>&gt;</code>。</p><p translation-origin="off">Like most shells, the <code>CrisisCenterComponent</code> class is minimal because it has no business logic, and its template has no links, just a title and <code>&lt;<a href="api/router/RouterOutlet" class="code-anchor">router-outlet</a>&gt;</code> for the crisis center child component.</p><a id="child-route-config"></a><h3 id="child-route-configuration" translation-result="on">子路由配置<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#child-route-configuration"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="child-route-configuration">Child route configuration<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#child-route-configuration"><i class="material-icons">link</i></a></h3><p translation-result="on">在 <code>crisis-center</code> 目录下生成一个 <code>CrisisCenterHome</code> 组件，作为 "危机中心" 特性的宿主页面。</p><p translation-origin="off">As a host page for the "Crisis Center" feature, generate a <code>CrisisCenterHome</code> component in the <code>crisis-center</code> folder.</p><code-example language="sh" ng-version="12.0.0-rc.2"><div style="display:none"></div><aio-code><pre class="lang-sh prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pln">ng generate component crisis</span><span class="pun">-</span><span class="pln">center</span><span class="pun">/</span><span class="pln">crisis</span><span class="pun">-</span><span class="pln">center</span><span class="pun">-</span><span class="pln">home</span></code>
    </pre></aio-code></code-example><p translation-result="on">用一条欢迎信息修改 <code>Crisis Center</code> 中的模板。</p><p translation-origin="off">Update the template with a welcome message to the <code>Crisis Center</code>.</p><code-example path="router/src/app/crisis-center/crisis-center-home/crisis-center-home.component.html" header="src/app/crisis-center/crisis-center-home/crisis-center-home.component.html" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/crisis-center/crisis-center-home/crisis-center-home.component.html</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/crisis-center/crisis-center-home/crisis-center-home.component.html">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="tag">&lt;p&gt;</span><span class="pln">Welcome to the Crisis Center</span><span class="tag">&lt;/p&gt;</span></code>
    </pre></aio-code></code-example><p translation-result="on">把 <code>heroes-routing.module.ts</code> 文件复制过来，改名为 <code>crisis-center-routing.module.ts</code>，并修改它。 这次你要把子路由定义在父路由 <code>crisis-center</code> 中。</p><p translation-origin="off">Update the <code>crisis-center-routing.module.ts</code> you renamed after copying it from <code>heroes-routing.module.ts</code> file. This time, you define child routes within the parent <code>crisis-center</code> route.</p><code-example path="router/src/app/crisis-center/crisis-center-routing.module.1.ts" header="src/app/crisis-center/crisis-center-routing.module.ts (Routes)" region="routes" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/crisis-center/crisis-center-routing.module.ts (Routes)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/crisis-center/crisis-center-routing.module.ts (Routes)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">const</span><span class="pln"> crisisCenterRoutes</span><span class="pun">:</span><span class="pln"> </span><a href="api/router/Routes-0" class="code-anchor"><span class="typ">Routes</span></a><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
  </span><span class="pun">{</span><span class="pln">
    path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'crisis-center'</span><span class="pun">,</span><span class="pln">
    component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">CrisisCenterComponent</span><span class="pun">,</span><span class="pln">
    children</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
      </span><span class="pun">{</span><span class="pln">
        path</span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln">
        component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">CrisisListComponent</span><span class="pun">,</span><span class="pln">
        children</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
          </span><span class="pun">{</span><span class="pln">
            path</span><span class="pun">:</span><span class="pln"> </span><span class="str">':id'</span><span class="pun">,</span><span class="pln">
            component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">CrisisDetailComponent</span><span class="pln">
          </span><span class="pun">},</span><span class="pln">
          </span><span class="pun">{</span><span class="pln">
            path</span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln">
            component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">CrisisCenterHomeComponent</span><span class="pln">
          </span><span class="pun">}</span><span class="pln">
        </span><span class="pun">]</span><span class="pln">
      </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">]</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">];</span></code>
    </pre></aio-code></code-example><p translation-result="on">注意，父路由 <code>crisis-center</code> 有一个 <code>children</code> 属性，它有一个包含 <code>CrisisListComponent</code> 的路由。 <code>CrisisListModule</code> 路由还有一个带两个路由的 <code>children</code> 数组。</p><p translation-origin="off">Notice that the parent <code>crisis-center</code> route has a <code>children</code> property with a single route containing the <code>CrisisListComponent</code>. The <code>CrisisListComponent</code> route also has a <code>children</code> array with two routes.</p><p translation-result="on">这两个路由分别导航到了<em>危机中心</em>的两个子组件：<code>CrisisCenterHomeComponent</code> 和 <code>CrisisDetailComponent</code>。</p><p translation-origin="off">These two routes navigate to the crisis center child components, <code>CrisisCenterHomeComponent</code> and <code>CrisisDetailComponent</code>, respectively.</p><p translation-result="on">对这些子路由的处理中有一些重要的差异。</p><p translation-origin="off">There are important differences in the way the router treats child routes.</p><p translation-result="on">路由器会把这些路由对应的组件放在 <code>CrisisCenterComponent</code> 的 <code><a href="api/router/RouterOutlet" class="code-anchor">RouterOutlet</a></code> 中，而不是 <code>AppComponent</code> 壳组件中的。</p><p translation-origin="off">The router displays the components of these routes in the <code><a href="api/router/RouterOutlet" class="code-anchor">RouterOutlet</a></code> of the <code>CrisisCenterComponent</code>, not in the <code><a href="api/router/RouterOutlet" class="code-anchor">RouterOutlet</a></code> of the <code>AppComponent</code> shell.</p><p translation-result="on"><code>CrisisListComponent</code> 包含危机列表和一个 <code><a href="api/router/RouterOutlet" class="code-anchor">RouterOutlet</a></code>，用以显示 <code>Crisis Center Home</code> 和 <code>Crisis Detail</code> 这两个路由组件。</p><p translation-origin="off">The <code>CrisisListComponent</code> contains the crisis list and a <code><a href="api/router/RouterOutlet" class="code-anchor">RouterOutlet</a></code> to display the <code>Crisis Center Home</code> and <code>Crisis Detail</code> route components.</p><p translation-result="on"><code>Crisis Detail</code> 路由是 <code>Crisis List</code> 的子路由。由于路由器默认会<a href="guide/router-tutorial-toh#reuse">复用组件</a>，因此当你选择了另一个危机时，<code>CrisisDetailComponent</code> 会被复用。 作为对比，回头看看 <code>Hero Detail</code> 路由，每当你从列表中选择了不同的英雄时，<a href="guide/router-tutorial-toh#snapshot-the-no-observable-alternative">都会重新创建该组件</a>。</p><p translation-origin="off">The <code>Crisis Detail</code> route is a child of the <code>Crisis List</code>. The router <a href="guide/router-tutorial-toh#reuse">reuses components</a> by default, so the <code>Crisis Detail</code> component will be re-used as you select different crises. In contrast, back in the <code>Hero Detail</code> route, <a href="guide/router-tutorial-toh#snapshot-the-no-observable-alternative">the component was recreated</a> each time you selected a different hero from the list of heroes.</p><p translation-result="on">在顶层，以 <code>/</code> 开头的路径指向的总是应用的根。 但这里是子路由。 它们是在父路由路径的基础上做出的扩展。 在路由树中每深入一步，你就会在该路由的路径上添加一个斜线 <code>/</code>（除非该路由的路径是空的）。</p><p translation-origin="off">At the top level, paths that begin with <code>/</code> refer to the root of the application. But child routes extend the path of the parent route. With each step down the route tree, you add a slash followed by the route path, unless the path is empty.</p><p translation-result="on">如果把该逻辑应用到危机中心中的导航，那么父路径就是 <code>/crisis-center</code>。</p><p translation-origin="off">Apply that logic to navigation within the crisis center for which the parent path is <code>/crisis-center</code>.</p><ul><li><p translation-result="on">要导航到 <code>CrisisCenterHomeComponent</code>，完整的 URL 是 <code>/crisis-center</code> (<code>/crisis-center</code> + <code>''</code> + <code>''</code>)。</p><p translation-origin="off">To navigate to the <code>CrisisCenterHomeComponent</code>, the full URL is <code>/crisis-center</code> (<code>/crisis-center</code> + <code>''</code> + <code>''</code>).</p></li><li><p translation-result="on">要导航到 <code>CrisisDetailComponent</code> 以展示 <code>id=2</code> 的危机，完整的 URL 是 <code>/crisis-center/2</code> (<code>/crisis-center</code> + <code>''</code> + <code>'/2'</code>)。</p><p translation-origin="off">To navigate to the <code>CrisisDetailComponent</code> for a crisis with <code>id=2</code>, the full URL is <code>/crisis-center/2</code> (<code>/crisis-center</code> + <code>''</code> + <code>'/2'</code>).</p></li></ul><p translation-result="on">本例子中包含站点部分的绝对 URL，就是：</p><p translation-origin="off">The absolute URL for the latter example, including the <code>localhost</code> origin, is as follows:</p><code-example ng-version="12.0.0-rc.2"><div style="display:none"></div><aio-code><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pln">localhost</span><span class="pun">:</span><span class="lit">4200</span><span class="pun">/</span><span class="pln">crisis</span><span class="pun">-</span><span class="pln">center</span><span class="pun">/</span><span class="lit">2</span></code>
    </pre></aio-code></code-example><p translation-result="on">这里是完整的 <code>crisis-center.routing.ts</code> 及其导入语句。</p><p translation-origin="off">Here's the complete <code>crisis-center-routing.module.ts</code> file with its imports.</p><code-example path="router/src/app/crisis-center/crisis-center-routing.module.1.ts" header="src/app/crisis-center/crisis-center-routing.module.ts (excerpt)" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/crisis-center/crisis-center-routing.module.ts (excerpt)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/crisis-center/crisis-center-routing.module.ts (excerpt)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/core/NgModule" class="code-anchor"><span class="typ">NgModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/router/RouterModule" class="code-anchor"><span class="typ">RouterModule</span></a><span class="pun">,</span><span class="pln"> </span><a href="api/router/Routes-0" class="code-anchor"><span class="typ">Routes</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CrisisCenterHomeComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./crisis-center-home/crisis-center-home.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CrisisListComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./crisis-list/crisis-list.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CrisisCenterComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./crisis-center/crisis-center.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CrisisDetailComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./crisis-detail/crisis-detail.component'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">const</span><span class="pln"> crisisCenterRoutes</span><span class="pun">:</span><span class="pln"> </span><a href="api/router/Routes-0" class="code-anchor"><span class="typ">Routes</span></a><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
  </span><span class="pun">{</span><span class="pln">
    path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'crisis-center'</span><span class="pun">,</span><span class="pln">
    component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">CrisisCenterComponent</span><span class="pun">,</span><span class="pln">
    children</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
      </span><span class="pun">{</span><span class="pln">
        path</span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln">
        component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">CrisisListComponent</span><span class="pun">,</span><span class="pln">
        children</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
          </span><span class="pun">{</span><span class="pln">
            path</span><span class="pun">:</span><span class="pln"> </span><span class="str">':id'</span><span class="pun">,</span><span class="pln">
            component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">CrisisDetailComponent</span><span class="pln">
          </span><span class="pun">},</span><span class="pln">
          </span><span class="pun">{</span><span class="pln">
            path</span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln">
            component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">CrisisCenterHomeComponent</span><span class="pln">
          </span><span class="pun">}</span><span class="pln">
        </span><span class="pun">]</span><span class="pln">
      </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">]</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">];</span><span class="pln">

</span><span class="lit">@</span><a href="api/core/NgModule" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">RouterModule</span><span class="pun">.</span><span class="pln">forChild</span><span class="pun">(</span><span class="pln">crisisCenterRoutes</span><span class="pun">)</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  exports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="api/router/RouterModule" class="code-anchor"><span class="typ">RouterModule</span></a><span class="pln">
  </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">CrisisCenterRoutingModule</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span></code>
    </pre></aio-code></code-example><a id="import-crisis-module"></a><h3 id="import-crisis-center-module-into-the-appmodule-routes" translation-result="on">把危机中心模块导入到 <code>AppModule</code> 的路由中<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#import-crisis-center-module-into-the-appmodule-routes"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="import-crisis-center-module-into-the-appmodule-routes">Import crisis center module into the <code>AppModule</code> routes<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#import-crisis-center-module-into-the-appmodule-routes"><i class="material-icons">link</i></a></h3><p translation-result="on">就像 <code>HeroesModule</code> 模块中一样，你必须把 <code>CrisisCenterModule</code> 添加到 <code>AppModule</code> 的 <code>imports</code> 数组中，就在 <code>AppRoutingModule</code> <em>前面</em>：</p><p translation-origin="off">As with the <code>HeroesModule</code>, you must add the <code>CrisisCenterModule</code> to the <code>imports</code> array of the <code>AppModule</code> <em>before</em> the <code>AppRoutingModule</code>:</p><code-tabs ng-version="12.0.0-rc.2"><div style="display:none"></div><mat-card class="mat-card mat-focus-indicator"><mat-tab-group class="mat-tab-group code-tab-group mat-primary"><mat-tab-header class="mat-tab-header"><div aria-hidden="true" mat-ripple="" class="mat-ripple mat-tab-header-pagination mat-tab-header-pagination-before mat-elevation-z4 mat-tab-header-pagination-disabled"><div class="mat-tab-header-pagination-chevron"></div></div><div class="mat-tab-label-container"><div role="tablist" class="mat-tab-list" style="transform:translateX(0)"><div class="mat-tab-labels"><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator mat-tab-label-active ng-star-inserted" id="mat-tab-label-3-0" tabindex="0" aria-posinset="1" aria-setsize="2" aria-controls="mat-tab-content-3-0" aria-selected="true" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">src/app/crisis-center/crisis-center.module.ts</span></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-3-1" tabindex="-1" aria-posinset="2" aria-setsize="2" aria-controls="mat-tab-content-3-1" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">src/app/app.module.ts (import CrisisCenterModule)</span></div></div></div><mat-ink-bar class="mat-ink-bar" style="visibility:visible;left:0;width:336px"></mat-ink-bar></div></div><div aria-hidden="true" mat-ripple="" class="mat-ripple mat-tab-header-pagination mat-tab-header-pagination-after mat-elevation-z4 mat-tab-header-pagination-disabled"><div class="mat-tab-header-pagination-chevron"></div></div></mat-tab-header><div class="mat-tab-body-wrapper"><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c48-24 mat-tab-body-active ng-star-inserted" id="mat-tab-content-3-0" aria-labelledby="mat-tab-label-3-0"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c48-24 ng-trigger ng-trigger-translateTab" style="transform:none"><aio-code class="ng-star-inserted" style=""><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/crisis-center/crisis-center.module.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/core/NgModule" class="code-anchor"><span class="typ">NgModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/forms/FormsModule" class="code-anchor"><span class="typ">FormsModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/forms'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/common/CommonModule" class="code-anchor"><span class="typ">CommonModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/common'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CrisisCenterHomeComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./crisis-center-home/crisis-center-home.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CrisisListComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./crisis-list/crisis-list.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CrisisCenterComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./crisis-center/crisis-center.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CrisisDetailComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./crisis-detail/crisis-detail.component'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CrisisCenterRoutingModule</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./crisis-center-routing.module'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="api/core/NgModule" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="api/common/CommonModule" class="code-anchor"><span class="typ">CommonModule</span></a><span class="pun">,</span><span class="pln">
    </span><a href="api/forms/FormsModule" class="code-anchor"><span class="typ">FormsModule</span></a><span class="pun">,</span><span class="pln">
    </span><span class="typ">CrisisCenterRoutingModule</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  declarations</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">CrisisCenterComponent</span><span class="pun">,</span><span class="pln">
    </span><span class="typ">CrisisListComponent</span><span class="pun">,</span><span class="pln">
    </span><span class="typ">CrisisCenterHomeComponent</span><span class="pun">,</span><span class="pln">
    </span><span class="typ">CrisisDetailComponent</span><span class="pln">
  </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">CrisisCenterModule</span><span class="pln"> </span><span class="pun">{}</span></code>
    </pre></aio-code></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c48-25 ng-star-inserted" id="mat-tab-content-3-1" aria-labelledby="mat-tab-label-3-1"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c48-25 ng-trigger ng-trigger-translateTab" style="transform:translate3d(100%,0,0);min-height:1px"></div></mat-tab-body></div></mat-tab-group></mat-card></code-tabs><p translation-result="on">从 <code>app.routing.ts</code> 中移除危机中心的初始路由。 因为现在是 <code>HeroesModule</code> 和 <code>CrisisCenter</code> 模块提供了这些特性路由。</p><p translation-origin="off">Remove the initial crisis center route from the <code>app-routing.module.ts</code> because now the <code>HeroesModule</code> and the <code>CrisisCenter</code> modules provide the feature routes.</p><p translation-result="on"><code>app-routing.module.ts</code> 文件中只有应用的顶层路由，比如默认路由和通配符路由。</p><p translation-origin="off">The <code>app-routing.module.ts</code> file retains the top-level application routes such as the default and wildcard routes.</p><code-example path="router/src/app/app-routing.module.3.ts" header="src/app/app-routing.module.ts (v3)" region="v3" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/app-routing.module.ts (v3)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/app-routing.module.ts (v3)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/core/NgModule" class="code-anchor"><span class="typ">NgModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/router/RouterModule" class="code-anchor"><span class="typ">RouterModule</span></a><span class="pun">,</span><span class="pln"> </span><a href="api/router/Routes-0" class="code-anchor"><span class="typ">Routes</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">PageNotFoundComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./page-not-found/page-not-found.component'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">const</span><span class="pln"> appRoutes</span><span class="pun">:</span><span class="pln"> </span><a href="api/router/Routes-0" class="code-anchor"><span class="typ">Routes</span></a><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln">   redirectTo</span><span class="pun">:</span><span class="pln"> </span><span class="str">'/heroes'</span><span class="pun">,</span><span class="pln"> pathMatch</span><span class="pun">:</span><span class="pln"> </span><span class="str">'full'</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'**'</span><span class="pun">,</span><span class="pln"> component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">PageNotFoundComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
</span><span class="pun">];</span><span class="pln">

</span><span class="lit">@</span><a href="api/core/NgModule" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">RouterModule</span><span class="pun">.</span><span class="pln">forRoot</span><span class="pun">(</span><span class="pln">
      appRoutes</span><span class="pun">,</span><span class="pln">
      </span><span class="pun">{</span><span class="pln"> enableTracing</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="com">// &lt;-- debugging purposes only</span><span class="pln">
    </span><span class="pun">)</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  exports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="api/router/RouterModule" class="code-anchor"><span class="typ">RouterModule</span></a><span class="pln">
  </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AppRoutingModule</span><span class="pln"> </span><span class="pun">{}</span></code>
    </pre></aio-code></code-example><a id="relative-navigation"></a><h3 id="relative-navigation" translation-result="on">相对导航<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#relative-navigation"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="relative-navigation">Relative navigation<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#relative-navigation"><i class="material-icons">link</i></a></h3><p translation-result="on">虽然构建出了危机中心特性区，你却仍在使用以斜杠开头的<strong>绝对路径</strong>来导航到危机详情的路由。</p><p translation-origin="off">While building out the crisis center feature, you navigated to the crisis detail route using an absolute path that begins with a slash.</p><p translation-result="on">路由器会从路由配置的顶层来匹配像这样的绝对路径。</p><p translation-origin="off">The router matches such absolute paths to routes starting from the top of the route configuration.</p><p translation-result="on">你固然可以继续像危机中心特性区一样使用绝对路径，但是那样会把链接钉死在特定的父路由结构上。 如果你修改了父路径 <code>/crisis-center</code>，那就不得不修改每一个链接参数数组。</p><p translation-origin="off">You could continue to use absolute paths like this to navigate inside the Crisis Center feature, but that pins the links to the parent routing structure. If you changed the parent <code>/crisis-center</code> path, you would have to change the link parameters array.</p><p translation-result="on">通过改成定义<em>相对于</em>当前 URL 的路径，你可以把链接从这种依赖中解放出来。 当你修改了该特性区的父路由路径时，该特性区内部的导航仍然完好无损。</p><p translation-origin="off">You can free the links from this dependency by defining paths that are relative to the current URL segment. Navigation within the feature area remains intact even if you change the parent route path to the feature.</p><div class="alert is-helpful"><p translation-result="on">路由器支持在<em>链接参数数组</em>中使用“目录式”语法来为查询路由名提供帮助：</p><p translation-origin="off">The router supports directory-like syntax in a <em>link parameters list</em> to help guide route name lookup:</p><p translation-result="on"><code>./</code> 或 <code>无前导斜线</code> 形式是相对于当前级别的。</p><p translation-origin="off"><code>./</code> or <code>no leading slash</code> is relative to the current level.</p><p translation-result="on"><code>../</code> 会回到当前路由路径的上一级。</p><p translation-origin="off"><code>../</code> to go up one level in the route path.</p><p translation-result="on">你可以把相对导航语法和一个祖先路径组合起来用。 如果不得不导航到一个兄弟路由，你可以用 <code>../&lt;sibling&gt;</code> 来回到上一级，然后进入兄弟路由路径中。</p><p translation-origin="off">You can combine relative navigation syntax with an ancestor path. If you must navigate to a sibling route, you could use the <code>../&lt;sibling&gt;</code> convention to go up one level, then over and down the sibling route path.</p></div><p translation-result="on">用 <code>Router.navigate</code> 方法导航到相对路径时，你必须提供当前的 <code><a href="api/router/ActivatedRoute" class="code-anchor">ActivatedRoute</a></code>，来让路由器知道你现在位于路由树中的什么位置。</p><p translation-origin="off">To navigate a relative path with the <code>Router.navigate</code> method, you must supply the <code><a href="api/router/ActivatedRoute" class="code-anchor">ActivatedRoute</a></code> to give the router knowledge of where you are in the current route tree.</p><p translation-result="on">在<em>链接参数数组</em>后面，添加一个带有 <code>relativeTo</code> 属性的对象，并把它设置为当前的 <code><a href="api/router/ActivatedRoute" class="code-anchor">ActivatedRoute</a></code>。 这样路由器就会基于当前激活路由的位置来计算出目标 URL。</p><p translation-origin="off">After the <em>link parameters array</em>, add an object with a <code>relativeTo</code> property set to the <code><a href="api/router/ActivatedRoute" class="code-anchor">ActivatedRoute</a></code>. The router then calculates the target URL based on the active route's location.</p><div class="alert is-helpful"><p translation-result="on">当调用路由器的 <code>navigateByUrl()</code> 时，<strong>总是</strong>要指定完整的绝对路径。</p><p translation-origin="off">Always specify the complete absolute path when calling router's <code>navigateByUrl()</code> method.</p></div><a id="nav-to-crisis"></a><h3 id="navigate-to-crisis-list-with-a-relative-url" translation-result="on">使用相对 URL 导航到危机列表<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#navigate-to-crisis-list-with-a-relative-url"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="navigate-to-crisis-list-with-a-relative-url">Navigate to crisis list with a relative URL<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#navigate-to-crisis-list-with-a-relative-url"><i class="material-icons">link</i></a></h3><p translation-result="on">你已经注入了组成相对导航路径所需的 <code><a href="api/router/ActivatedRoute" class="code-anchor">ActivatedRoute</a></code>。</p><p translation-origin="off">You've already injected the <code><a href="api/router/ActivatedRoute" class="code-anchor">ActivatedRoute</a></code> that you need to compose the relative navigation path.</p><p translation-result="on">如果用 <code><a href="api/router/RouterLink" class="code-anchor">RouterLink</a></code> 来代替 <code><a href="api/router/Router" class="code-anchor">Router</a></code> 服务进行导航，就要使用相同的链接参数数组，不过不再需要提供 <code>relativeTo</code> 属性。 <code><a href="api/router/ActivatedRoute" class="code-anchor">ActivatedRoute</a></code> 已经隐含在了 <code><a href="api/router/RouterLink" class="code-anchor">RouterLink</a></code> 指令中。</p><p translation-origin="off">When using a <code><a href="api/router/RouterLink" class="code-anchor">RouterLink</a></code> to navigate instead of the <code><a href="api/router/Router" class="code-anchor">Router</a></code> service, you'd use the same link parameters array, but you wouldn't provide the object with the <code>relativeTo</code> property. The <code><a href="api/router/ActivatedRoute" class="code-anchor">ActivatedRoute</a></code> is implicit in a <code><a href="api/router/RouterLink" class="code-anchor">RouterLink</a></code> directive.</p><p translation-result="on">修改 <code>CrisisDetailComponent</code> 的 <code>gotoCrises()</code> 方法，来使用相对路径返回<em>危机中心</em>列表。</p><p translation-origin="off">Update the <code>gotoCrises()</code> method of the <code>CrisisDetailComponent</code> to navigate back to the Crisis Center list using relative path navigation.</p><code-example path="router/src/app/crisis-center/crisis-detail/crisis-detail.component.ts" header="src/app/crisis-center/crisis-detail/crisis-detail.component.ts (relative navigation)" region="gotoCrises-navigate" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/crisis-center/crisis-detail/crisis-detail.component.ts (relative navigation)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/crisis-center/crisis-detail/crisis-detail.component.ts (relative navigation)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="com">// Relative navigation back to the crises</span><span class="pln">
</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">router</span><span class="pun">.</span><span class="pln">navigate</span><span class="pun">([</span><span class="str">'../'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> id</span><span class="pun">:</span><span class="pln"> crisisId</span><span class="pun">,</span><span class="pln"> foo</span><span class="pun">:</span><span class="pln"> </span><span class="str">'foo'</span><span class="pln"> </span><span class="pun">}],</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> relativeTo</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">route </span><span class="pun">});</span></code>
    </pre></aio-code></code-example><p translation-result="on">注意这个路径使用了 <code>../</code> 语法返回上一级。 如果当前危机的 <code>id</code> 是 <code>3</code>，那么最终返回到的路径就是 <code>/crisis-center/;id=3;foo=foo</code>。</p><p translation-origin="off">Notice that the path goes up a level using the <code>../</code> syntax. If the current crisis <code>id</code> is <code>3</code>, the resulting path back to the crisis list is <code>/crisis-center/;id=3;foo=foo</code>.</p><a id="named-outlets"></a><h3 id="displaying-multiple-routes-in-named-outlets" translation-result="on">用命名出口（outlet）显示多重路由<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#displaying-multiple-routes-in-named-outlets"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="displaying-multiple-routes-in-named-outlets">Displaying multiple routes in named outlets<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#displaying-multiple-routes-in-named-outlets"><i class="material-icons">link</i></a></h3><p translation-result="on">你决定给用户提供一种方式来联系危机中心。 当用户点击“Contact”按钮时，你要在一个弹出框中显示一条消息。</p><p translation-origin="off">You decide to give users a way to contact the crisis center. When a user clicks a "Contact" button, you want to display a message in a popup view.</p><p translation-result="on">即使在应用中的不同页面之间切换，这个弹出框也应该始终保持打开状态，直到用户发送了消息或者手动取消。 显然，你不能把这个弹出框跟其它放到页面放到同一个路由出口中。</p><p translation-origin="off">The popup should stay open, even when switching between pages in the application, until the user closes it by sending the message or canceling. Clearly you can't put the popup in the same outlet as the other pages.</p><p translation-result="on">迄今为止，你只定义过单路由出口，并且在其中嵌套了子路由以便对路由分组。 在每个模板中，路由器只能支持一个无名主路由出口。</p><p translation-origin="off">Until now, you've defined a single outlet and you've nested child routes under that outlet to group routes together. The router only supports one primary unnamed outlet per template.</p><p translation-result="on">模板还可以有多个命名的路由出口。 每个命名出口都自己有一组带组件的路由。 多重出口可以在同一时间根据不同的路由来显示不同的内容。</p><p translation-origin="off">A template can also have any number of named outlets. Each named outlet has its own set of routes with their own components. Multiple outlets can display different content, determined by different routes, all at the same time.</p><p translation-result="on">在 <code>AppComponent</code> 中添加一个名叫“popup”的出口，就在无名出口的下方。</p><p translation-origin="off">Add an outlet named "popup" in the <code>AppComponent</code>, directly below the unnamed outlet.</p><code-example path="router/src/app/app.component.4.html" header="src/app/app.component.html (outlets)" region="outlets" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/app.component.html (outlets)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/app.component.html (outlets)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="tag">&lt;div</span><span class="pln"> [@</span><span class="atn">routeAnimation</span><span class="pln">]</span><span class="pun">=</span><span class="atv">"getAnimationData(routerOutlet)"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;</span><a href="api/router/RouterOutlet" class="code-anchor"><span class="tag">router-outlet</span></a><span class="pln"> #</span><span class="atn">routerOutlet</span><span class="pun">=</span><span class="atv">"outlet"</span><span class="tag">&gt;&lt;/</span><a href="api/router/RouterOutlet" class="code-anchor"><span class="tag">router-outlet</span></a><span class="tag">&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span><span class="pln">
</span><span class="tag">&lt;</span><a href="api/router/RouterOutlet" class="code-anchor"><span class="tag">router-outlet</span></a><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"popup"</span><span class="tag">&gt;&lt;/</span><a href="api/router/RouterOutlet" class="code-anchor"><span class="tag">router-outlet</span></a><span class="tag">&gt;</span></code>
    </pre></aio-code></code-example><p translation-result="on">一旦你学会了如何把一个弹出框组件路由到该出口，那里就是将会出现弹出框的地方。</p><p translation-origin="off">That's where a popup will go, once you learn how to route a popup component to it.</p><a id="secondary-routes"></a><h4 id="secondary-routes" translation-result="on">第二路由<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#secondary-routes"><i class="material-icons">link</i></a></h4><h4 translation-origin="off" id="secondary-routes">Secondary routes<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#secondary-routes"><i class="material-icons">link</i></a></h4><p translation-result="on">命名出口是<em>第二路由</em>的目标。</p><p translation-origin="off">Named outlets are the targets of <em>secondary routes</em>.</p><p translation-result="on">第二路由很像主路由，配置方式也一样。它们只有一些关键的不同点：</p><p translation-origin="off">Secondary routes look like primary routes and you configure them the same way. They differ in a few key respects.</p><ul><li><p translation-result="on">它们彼此互不依赖。</p><p translation-origin="off">They are independent of each other.</p></li><li><p translation-result="on">它们与其它路由组合使用。</p><p translation-origin="off">They work in combination with other routes.</p></li><li><p translation-result="on">它们显示在命名出口中。</p><p translation-origin="off">They are displayed in named outlets.</p></li></ul><p translation-result="on">生成一个新的组件来组合这个消息。</p><p translation-origin="off">Generate a new component to compose the message.</p><code-example language="sh" ng-version="12.0.0-rc.2"><div style="display:none"></div><aio-code><pre class="lang-sh prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pln">ng generate component compose</span><span class="pun">-</span><span class="pln">message</span></code>
    </pre></aio-code></code-example><p translation-result="on">它显示一个简单的表单，包括一个头、一个消息输入框和两个按钮：“Send”和“Cancel”。</p><p translation-origin="off">It displays a short form with a header, an input box for the message, and two buttons, "Send" and "Cancel".</p><div class="lightbox"><img src="generated/images/guide/router/contact-popup.png" alt="Contact popup" width="250" height="262"></div><p translation-result="on">下面是该组件及其模板和样式：</p><p translation-origin="off">Here's the component, its template and styles:</p><code-tabs ng-version="12.0.0-rc.2"><div style="display:none"></div><mat-card class="mat-card mat-focus-indicator"><mat-tab-group class="mat-tab-group code-tab-group mat-primary"><mat-tab-header class="mat-tab-header mat-tab-header-pagination-controls-enabled"><div aria-hidden="true" mat-ripple="" class="mat-ripple mat-tab-header-pagination mat-tab-header-pagination-before mat-elevation-z4 mat-tab-header-pagination-disabled"><div class="mat-tab-header-pagination-chevron"></div></div><div class="mat-tab-label-container"><div role="tablist" class="mat-tab-list" style="transform:translateX(0)"><div class="mat-tab-labels"><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator mat-tab-label-active ng-star-inserted" id="mat-tab-label-4-0" tabindex="0" aria-posinset="1" aria-setsize="3" aria-controls="mat-tab-content-4-0" aria-selected="true" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">src/app/compose-message/compose-message.component.css</span></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-4-1" tabindex="-1" aria-posinset="2" aria-setsize="3" aria-controls="mat-tab-content-4-1" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">src/app/compose-message/compose-message.component.html</span></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-4-2" tabindex="-1" aria-posinset="3" aria-setsize="3" aria-controls="mat-tab-content-4-2" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">src/app/compose-message/compose-message.component.ts</span></div></div></div><mat-ink-bar class="mat-ink-bar" style="visibility:visible;left:0;width:452px"></mat-ink-bar></div></div><div aria-hidden="true" mat-ripple="" class="mat-ripple mat-tab-header-pagination mat-tab-header-pagination-after mat-elevation-z4"><div class="mat-tab-header-pagination-chevron"></div></div></mat-tab-header><div class="mat-tab-body-wrapper"><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c48-26 mat-tab-body-active ng-star-inserted" id="mat-tab-content-4-0" aria-labelledby="mat-tab-label-4-0"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c48-26 ng-trigger ng-trigger-translateTab" style="transform:none"><aio-code class="ng-star-inserted" style=""><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/compose-message/compose-message.component.css">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pun">:</span><span class="pln">host </span><span class="pun">{</span><span class="pln">
  position</span><span class="pun">:</span><span class="pln"> relative</span><span class="pun">;</span><span class="pln"> bottom</span><span class="pun">:</span><span class="pln"> </span><span class="lit">10</span><span class="pun">%;</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c48-27 ng-star-inserted" id="mat-tab-content-4-1" aria-labelledby="mat-tab-label-4-1"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c48-27 ng-trigger ng-trigger-translateTab" style="transform:translate3d(100%,0,0);min-height:1px"></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c48-28 ng-star-inserted" id="mat-tab-content-4-2" aria-labelledby="mat-tab-label-4-2"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c48-28 ng-trigger ng-trigger-translateTab" style="transform:translate3d(100%,0,0);min-height:1px"></div></mat-tab-body></div></mat-tab-group></mat-card></code-tabs><p translation-result="on">它看起来几乎和你以前见过其它组件一样，但有两个值得注意的区别。</p><p translation-origin="off">It looks similar to any other component in this guide, but there are two key differences.</p><p translation-result="on">注意，<code>send()</code> 方法在发送消息和关闭弹出框之前通过等待模拟了一秒钟的延迟。</p><p translation-origin="off">Note that the <code>send()</code> method simulates latency by waiting a second before "sending" the message and closing the popup.</p><p translation-result="on"><code>closePopup()</code> 方法用把 <code>popup</code> 出口导航到 <code>null</code> 的方式关闭了弹出框，它在<a href="guide/router-tutorial-toh#clear-secondary-routes">稍后的部分</a>有讲解。</p><p translation-origin="off">The <code>closePopup()</code> method closes the popup view by navigating to the popup outlet with a <code>null</code> which the section on <a href="guide/router-tutorial-toh#clear-secondary-routes">clearing secondary routes</a> covers.</p><a id="add-secondary-route"></a><h4 id="add-a-secondary-route" translation-result="on">添加第二路由<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#add-a-secondary-route"><i class="material-icons">link</i></a></h4><h4 translation-origin="off" id="add-a-secondary-route">Add a secondary route<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#add-a-secondary-route"><i class="material-icons">link</i></a></h4><p translation-result="on">打开 <code>AppRoutingModule</code>，并把一个新的 <code>compose</code> 路由添加到 <code>appRoutes</code> 中。</p><p translation-origin="off">Open the <code>AppRoutingModule</code> and add a new <code>compose</code> route to the <code>appRoutes</code>.</p><code-example path="router/src/app/app-routing.module.3.ts" header="src/app/app-routing.module.ts (compose route)" region="compose" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/app-routing.module.ts (compose route)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/app-routing.module.ts (compose route)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pun">{</span><span class="pln">
  path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'compose'</span><span class="pun">,</span><span class="pln">
  component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">ComposeMessageComponent</span><span class="pun">,</span><span class="pln">
  outlet</span><span class="pun">:</span><span class="pln"> </span><span class="str">'popup'</span><span class="pln">
</span><span class="pun">},</span></code>
    </pre></aio-code></code-example><p translation-result="on">除了 <code>path</code> 和 <code>component</code> 属性之外还有一个新的属性 <code>outlet</code>，它被设置成了 <code>'popup'</code>。 这个路由现在指向了 <code>popup</code> 出口，而 <code>ComposeMessageComponent</code> 也将显示在那里。</p><p translation-origin="off">In addition to the <code>path</code> and <code>component</code> properties, there's a new property called <code>outlet</code>, which is set to <code>'popup'</code>. This route now targets the popup outlet and the <code>ComposeMessageComponent</code> will display there.</p><p translation-result="on">为了给用户某种途径来打开这个弹出框，还要往 <code>AppComponent</code> 模板中添加一个“Contact”链接。</p><p translation-origin="off">To give users a way to open the popup, add a "Contact" link to the <code>AppComponent</code> template.</p><code-example path="router/src/app/app.component.4.html" header="src/app/app.component.html (contact-link)" region="contact-link" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/app.component.html (contact-link)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/app.component.html (contact-link)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="tag">&lt;a</span><span class="pln"> [</span><a href="api/router/RouterLink" class="code-anchor"><span class="atn">routerLink</span></a><span class="pln">]</span><span class="pun">=</span><span class="atv">"[{ outlets: { popup: ['compose'] } }]"</span><span class="tag">&gt;</span><span class="pln">Contact</span><span class="tag">&lt;/a&gt;</span></code>
    </pre></aio-code></code-example><p translation-result="on">虽然 <code>compose</code> 路由被配置到了 <code>popup</code> 出口上，但这仍然不足以把该路由和 <code><a href="api/router/RouterLink" class="code-anchor">RouterLink</a></code> 指令联系起来。 你还要在<em>链接参数数组</em>中指定这个命名出口，并通过属性绑定的形式把它绑定到 <code><a href="api/router/RouterLink" class="code-anchor">RouterLink</a></code> 上。</p><p translation-origin="off">Although the <code>compose</code> route is configured to the "popup" outlet, that's not sufficient for connecting the route to a <code><a href="api/router/RouterLink" class="code-anchor">RouterLink</a></code> directive. You have to specify the named outlet in a <em>link parameters array</em> and bind it to the <code><a href="api/router/RouterLink" class="code-anchor">RouterLink</a></code> with a property binding.</p><p translation-result="on"><em>链接参数数组</em>包含一个只有一个 <code>outlets</code> 属性的对象，它的值是另一个对象，这个对象以一个或多个路由的出口名作为属性名。 在这里，它只有一个出口名“popup”，它的值则是另一个<em>链接参数数组</em>，用于指定 <code>compose</code> 路由。</p><p translation-origin="off">The <em>link parameters array</em> contains an object with a single <code>outlets</code> property whose value is another object keyed by one (or more) outlet names. In this case there is only the "popup" outlet property and its value is another <em>link parameters array</em> that specifies the <code>compose</code> route.</p><p translation-result="on">换句话说，当用户点击此链接时，路由器会在路由出口 <code>popup</code> 中显示与 <code>compose</code> 路由相关联的组件。</p><p translation-origin="off">In other words, when the user clicks this link, the router displays the component associated with the <code>compose</code> route in the <code>popup</code> outlet.</p><div class="alert is-helpful"><p translation-result="on">当只需要考虑一个路由和一个无名出口时，外部对象中的这个 <code>outlets</code> 对象是完全不必要的。</p><p translation-origin="off">This <code>outlets</code> object within an outer object was unnecessary when there was only one route and one unnamed outlet.</p><p translation-result="on">路由器假设这个路由指向了无名的主出口，并为你创建这些对象。</p><p translation-origin="off">The router assumed that your route specification targeted the unnamed primary outlet and created these objects for you.</p><p translation-result="on">路由到一个命名出口会揭示一个路由特性： 你可以在同一个 <code><a href="api/router/RouterLink" class="code-anchor">RouterLink</a></code> 指令中为多个路由出口指定多个路由。</p><p translation-origin="off">Routing to a named outlet has revealed a router feature: you can target multiple outlets with multiple routes in the same <code><a href="api/router/RouterLink" class="code-anchor">RouterLink</a></code> directive.</p></div><a id="secondary-route-navigation"></a><h4 id="secondary-route-navigation-merging-routes-during-navigation" translation-result="on">第二路由导航：在导航期间合并路由<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#secondary-route-navigation-merging-routes-during-navigation"><i class="material-icons">link</i></a></h4><h4 translation-origin="off" id="secondary-route-navigation-merging-routes-during-navigation">Secondary route navigation: merging routes during navigation<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#secondary-route-navigation-merging-routes-during-navigation"><i class="material-icons">link</i></a></h4><p translation-result="on">导航到<em>危机中心</em>并点击“Contact”，你将会在浏览器的地址栏看到如下 URL：</p><p translation-origin="off">Navigate to the <em>Crisis Center</em> and click "Contact". you should see something like the following URL in the browser address bar.</p><code-example ng-version="12.0.0-rc.2"><div style="display:none"></div><aio-code><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pln">http</span><span class="pun">:</span><span class="com">//.../crisis-center(popup:compose)</span></code>
    </pre></aio-code></code-example><p translation-result="on">这个 URL 中有意义的部分是 <code>...</code> 后面的这些：</p><p translation-origin="off">The relevant part of the URL follows the <code>...</code>:</p><ul><li><p translation-result="on"> <code>crisis-center</code> 是主导航。</p><p translation-origin="off">The <code>crisis-center</code> is the primary navigation.</p></li><li><p translation-result="on">圆括号包裹的部分是第二路由。</p><p translation-origin="off">Parentheses surround the secondary route.</p></li><li><p translation-result="on">第二路由包括一个出口名称（<code>popup</code>）、一个冒号分隔符和第二路由的路径（<code>compose</code>）。</p><p translation-origin="off">The secondary route consists of an outlet name (<code>popup</code>), a <code>colon</code> separator, and the secondary route path (<code>compose</code>).</p></li></ul><p translation-result="on">点击 <em>Heroes</em> 链接，并再次查看 URL：</p><p translation-origin="off">Click the <em>Heroes</em> link and look at the URL again.</p><code-example ng-version="12.0.0-rc.2"><div style="display:none"></div><aio-code><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pln">http</span><span class="pun">:</span><span class="com">//.../heroes(popup:compose)</span></code>
    </pre></aio-code></code-example><p translation-result="on">主导航的部分变化了，而第二路由没有变。</p><p translation-origin="off">The primary navigation part has changed; the secondary route is the same.</p><p translation-result="on">路由器在导航树中对两个独立的分支保持追踪，并在 URL 中对这棵树进行表达。</p><p translation-origin="off">The router is keeping track of two separate branches in a navigation tree and generating a representation of that tree in the URL.</p><p translation-result="on">你还可以添加更多出口和更多路由（无论是在顶层还是在嵌套的子层）来创建一个带有多个分支的导航树。 路由器将会生成相应的 URL。</p><p translation-origin="off">You can add many more outlets and routes, at the top level and in nested levels, creating a navigation tree with many branches and the router will generate the URLs to go with it.</p><p translation-result="on">通过像前面那样填充 <code>outlets</code> 对象，你可以告诉路由器立即导航到一棵完整的树。 然后把这个对象通过一个<em>链接参数数组</em>传给 <code>router.navigate</code> 方法。</p><p translation-origin="off">You can tell the router to navigate an entire tree at once by filling out the <code>outlets</code> object and then pass that object inside a <em>link parameters array</em> to the <code>router.navigate</code> method.</p><a id="clear-secondary-routes"></a><h4 id="clearing-secondary-routes" translation-result="on">清除第二路由<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#clearing-secondary-routes"><i class="material-icons">link</i></a></h4><h4 translation-origin="off" id="clearing-secondary-routes">Clearing secondary routes<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#clearing-secondary-routes"><i class="material-icons">link</i></a></h4><p translation-result="on">像常规出口一样，二级出口会一直存在，直到你导航到新组件。</p><p translation-origin="off">Like regular outlets, secondary outlets persists until you navigate away to a new component.</p><p translation-result="on">每个第二出口都有自己独立的导航，跟主出口的导航彼此独立。 修改主出口中的当前路由并不会影响到 <code>popup</code> 出口中的。 这就是为什么在危机中心和英雄管理之间导航时，弹出框始终都是可见的。</p><p translation-origin="off">Each secondary outlet has its own navigation, independent of the navigation driving the primary outlet. Changing a current route that displays in the primary outlet has no effect on the popup outlet. That's why the popup stays visible as you navigate among the crises and heroes.</p><p translation-result="on">再看 <code>closePopup()</code> 方法：</p><p translation-origin="off">The <code>closePopup()</code> method again:</p><code-example path="router/src/app/compose-message/compose-message.component.ts" header="src/app/compose-message/compose-message.component.ts (closePopup)" region="closePopup" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/compose-message/compose-message.component.ts (closePopup)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/compose-message/compose-message.component.ts (closePopup)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pln">closePopup</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">// Providing a `null` value to the named outlet</span><span class="pln">
  </span><span class="com">// clears the contents of the named outlet</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">router</span><span class="pun">.</span><span class="pln">navigate</span><span class="pun">([{</span><span class="pln"> outlets</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> popup</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">null</span><span class="pln"> </span><span class="pun">}}]);</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on">单击 “send” 或 “cancel” 按钮可以清除弹出视图。<code>closePopup()</code> 函数会使用 <code><a href="api/router/Router#navigate" class="code-anchor">Router.navigate()</a></code> 方法强制导航，并传入一个<a href="guide/router-tutorial-toh#link-parameters-array">链接参数数组</a>。</p><p translation-origin="off">Clicking the "send" or "cancel" buttons clears the popup view. The <code>closePopup()</code> function navigates imperatively with the <code><a href="api/router/Router#navigate" class="code-anchor">Router.navigate()</a></code> method, passing in a <a href="guide/router-tutorial-toh#link-parameters-array">link parameters array</a>.</p><p translation-result="on">就像在 <code>AppComponent</code> 中绑定到的 <em>Contact</em> <code><a href="api/router/RouterLink" class="code-anchor">RouterLink</a></code> 一样，它也包含了一个带 <code>outlets</code> 属性的对象。 <code>outlets</code> 属性的值是另一个对象，该对象用一些出口名称作为属性名。 唯一的命名出口是 <code>'popup'</code>。</p><p translation-origin="off">Like the array bound to the <em>Contact</em> <code><a href="api/router/RouterLink" class="code-anchor">RouterLink</a></code> in the <code>AppComponent</code>, this one includes an object with an <code>outlets</code> property. The <code>outlets</code> property value is another object with outlet names for keys. The only named outlet is <code>'popup'</code>.</p><p translation-result="on">但这次，<code>'popup'</code> 的值是 <code>null</code>。<code>null</code> 不是一个路由，但却是一个合法的值。 把 <code>popup</code> 这个 <code><a href="api/router/RouterOutlet" class="code-anchor">RouterOutlet</a></code> 设置为 <code>null</code> 会清除该出口，并且从当前 URL 中移除第二路由 <code>popup</code>。</p><p translation-origin="off">This time, the value of <code>'popup'</code> is <code>null</code>. That's not a route, but it is a legitimate value. Setting the popup <code><a href="api/router/RouterOutlet" class="code-anchor">RouterOutlet</a></code> to <code>null</code> clears the outlet and removes the secondary popup route from the current URL.</p><a id="guards"></a> <a id="milestone-5-route-guards"></a><h2 id="milestone-5-route-guards" translation-result="on">里程碑 5：路由守卫<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#milestone-5-route-guards"><i class="material-icons">link</i></a></h2><h2 translation-origin="off" id="milestone-5-route-guards">Milestone 5: Route guards<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#milestone-5-route-guards"><i class="material-icons">link</i></a></h2><p translation-result="on">现在，<em>任何用户</em>都能在<em>任何时候</em>导航到<em>任何地方</em>。但有时候出于种种原因需要控制对该应用的不同部分的访问。可能包括如下场景：</p><p translation-origin="off">At the moment, any user can navigate anywhere in the application anytime, but sometimes you need to control access to different parts of your app for various reasons. Some of which may include the following:</p><ul><li><p translation-result="on">该用户可能无权导航到目标组件。</p><p translation-origin="off">Perhaps the user is not authorized to navigate to the target component.</p></li><li><p translation-result="on">可能用户得先登录（认证）。</p><p translation-origin="off">Maybe the user must login (authenticate) first.</p></li><li><p translation-result="on">在显示目标组件前，你可能得先获取某些数据。</p><p translation-origin="off">Maybe you should fetch some data before you display the target component.</p></li><li><p translation-result="on">在离开组件前，你可能要先保存修改。</p><p translation-origin="off">You might want to save pending changes before leaving a component.</p></li><li><p translation-result="on">你可能要询问用户：你是否要放弃本次更改，而不用保存它们？</p><p translation-origin="off">You might ask the user if it's OK to discard pending changes rather than save them.</p></li></ul><p translation-result="on">你可以往路由配置中添加守卫，来处理这些场景。</p><p translation-origin="off">You add guards to the route configuration to handle these scenarios.</p><p translation-result="on">守卫返回一个值，以控制路由器的行为：</p><p translation-origin="off">A guard's return value controls the router's behavior:</p><ul><li><p translation-result="on">如果它返回 <code>true</code>，导航过程会继续</p><p translation-origin="off">If it returns <code>true</code>, the navigation process continues.</p></li><li><p translation-result="on">如果它返回 <code>false</code>，导航过程就会终止，且用户留在原地。</p><p translation-origin="off">If it returns <code>false</code>, the navigation process stops and the user stays put.</p></li><li><p translation-result="on">如果它返回 <code><a href="api/router/UrlTree" class="code-anchor">UrlTree</a></code>，则取消当前的导航，并且开始导航到返回的这个 <code><a href="api/router/UrlTree" class="code-anchor">UrlTree</a></code>.</p><p translation-origin="off">If it returns a <code><a href="api/router/UrlTree" class="code-anchor">UrlTree</a></code>, the current navigation cancels and a new navigation is initiated to the <code><a href="api/router/UrlTree" class="code-anchor">UrlTree</a></code> returned.</p></li></ul><div class="alert is-helpful"><p translation-result="on"><strong>注意</strong>：守卫还可以告诉路由器导航到别处，这样也会取消当前的导航。要想在守卫中这么做，就要返回 <code>false</code>；</p><p translation-origin="off"><strong>Note:</strong> The guard can also tell the router to navigate elsewhere, effectively canceling the current navigation. When doing so inside a guard, the guard should return <code>false</code>;</p></div><p translation-result="on">守卫可以用同步的方式返回一个布尔值。但在很多情况下，守卫无法用同步的方式给出答案。 守卫可能会向用户问一个问题、把更改保存到服务器，或者获取新数据，而这些都是异步操作。</p><p translation-origin="off">The guard might return its boolean answer synchronously. But in many cases, the guard can't produce an answer synchronously. The guard could ask the user a question, save changes to the server, or fetch fresh data. These are all asynchronous operations.</p><p translation-result="on">因此，路由的守卫可以返回一个 <code>Observable&lt;boolean&gt;</code> 或 <code>Promise&lt;boolean&gt;</code>，并且路由器会等待这个可观察对象被解析为 <code>true</code> 或 <code>false</code>。</p><p translation-origin="off">Accordingly, a routing guard can return an <code>Observable&lt;boolean&gt;</code> or a <code>Promise&lt;boolean&gt;</code> and the router will wait for the observable to resolve to <code>true</code> or <code>false</code>.</p><div class="alert is-critical"><p translation-result="on"><strong>注意：</strong> 提供给 <code><a href="api/router/Router" class="code-anchor">Router</a></code> 的可观察对象还<em>必须</em>能结束（complete）。否则，导航就不会继续。</p><p translation-origin="off"><strong>Note:</strong> The observable provided to the <code><a href="api/router/Router" class="code-anchor">Router</a></code> must also complete. If the observable does not complete, the navigation does not continue.</p></div><p translation-result="on">路由器可以支持多种守卫接口：</p><p translation-origin="off">The router supports multiple guard interfaces:</p><ul><li><p translation-result="on">用<a href="api/router/CanActivate"><code>CanActivate</code></a>来处理导航<em>到</em>某路由的情况。</p><p translation-origin="off"><a href="api/router/CanActivate"><code>CanActivate</code></a>to mediate navigation <em>to</em> a route.</p></li><li><p translation-result="on">用<a href="api/router/CanActivateChild"><code>CanActivateChild</code></a>来处理导航<em>到</em>某子路由的情况。</p><p translation-origin="off"><a href="api/router/CanActivateChild"><code>CanActivateChild</code></a>to mediate navigation <em>to</em> a child route.</p></li><li><p translation-result="on">用<a href="api/router/CanDeactivate"><code>CanDeactivate</code></a>来处理从当前路由<em>离开</em>的情况.</p><p translation-origin="off"><a href="api/router/CanDeactivate"><code>CanDeactivate</code></a>to mediate navigation <em>away</em> from the current route.</p></li><li><p translation-result="on">用<a href="api/router/Resolve"><code>Resolve</code></a>在路由激活<em>之前</em>获取路由数据。</p><p translation-origin="off"><a href="api/router/Resolve"><code>Resolve</code></a>to perform route data retrieval <em>before</em> route activation.</p></li><li><p translation-result="on">用<a href="api/router/CanLoad"><code>CanLoad</code></a>来处理<em>异步</em>导航到某特性模块的情况。</p><p translation-origin="off"><a href="api/router/CanLoad"><code>CanLoad</code></a>to mediate navigation <em>to</em> a feature module loaded <em>asynchronously</em>.</p></li></ul><p translation-result="on">在分层路由的每个级别上，你都可以设置多个守卫。 路由器会先按照从最深的子路由由下往上检查的顺序来检查 <code><a href="api/router/CanDeactivate" class="code-anchor">CanDeactivate</a>()</code> 和 <code><a href="api/router/CanActivateChild" class="code-anchor">CanActivateChild</a>()</code> 守卫。 然后它会按照从上到下的顺序检查 <code><a href="api/router/CanActivate" class="code-anchor">CanActivate</a>()</code> 守卫。 如果特性模块是异步加载的，在加载它之前还会检查 <code><a href="api/router/CanLoad" class="code-anchor">CanLoad</a>()</code> 守卫。 如果<em>任何</em>一个守卫返回 <code>false</code>，其它尚未完成的守卫会被取消，这样整个导航就被取消了。</p><p translation-origin="off">You can have multiple guards at every level of a routing hierarchy. The router checks the <code><a href="api/router/CanDeactivate" class="code-anchor">CanDeactivate</a></code> and <code><a href="api/router/CanActivateChild" class="code-anchor">CanActivateChild</a></code> guards first, from the deepest child route to the top. Then it checks the <code><a href="api/router/CanActivate" class="code-anchor">CanActivate</a></code> guards from the top down to the deepest child route. If the feature module is loaded asynchronously, the <code><a href="api/router/CanLoad" class="code-anchor">CanLoad</a></code> guard is checked before the module is loaded. If <em>any</em> guard returns false, pending guards that have not completed will be canceled, and the entire navigation is canceled.</p><p translation-result="on">接下来的小节中有一些例子。</p><p translation-origin="off">There are several examples over the next few sections.</p><a id="can-activate-guard"></a><h3 id="canactivate-requiring-authentication" translation-result="on"><code><a href="api/router/CanActivate" class="code-anchor">CanActivate</a></code> ：需要身份验证<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#canactivate-requiring-authentication"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="canactivate-requiring-authentication"><code><a href="api/router/CanActivate" class="code-anchor">CanActivate</a></code>: requiring authentication<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#canactivate-requiring-authentication"><i class="material-icons">link</i></a></h3><p translation-result="on">应用程序通常会根据访问者来决定是否授予某个特性区的访问权。 你可以只对已认证过的用户或具有特定角色的用户授予访问权，还可以阻止或限制用户访问权，直到用户账户激活为止。</p><p translation-origin="off">Applications often restrict access to a feature area based on who the user is. You could permit access only to authenticated users or to users with a specific role. You might block or limit access until the user's account is activated.</p><p translation-result="on"><code><a href="api/router/CanActivate" class="code-anchor">CanActivate</a></code> 守卫是一个管理这些导航类业务规则的工具。</p><p translation-origin="off">The <code><a href="api/router/CanActivate" class="code-anchor">CanActivate</a></code> guard is the tool to manage these navigation business rules.</p><h4 id="add-an-admin-feature-module" translation-result="on">添加一个“管理”特性模块<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#add-an-admin-feature-module"><i class="material-icons">link</i></a></h4><h4 translation-origin="off" id="add-an-admin-feature-module">Add an admin feature module<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#add-an-admin-feature-module"><i class="material-icons">link</i></a></h4><p translation-result="on">本节将指导你使用一些新的管理功能来扩展危机中心。首先添加一个名为 <code>AdminModule</code> 的新特性模块。</p><p translation-origin="off">This section guides you through extending the crisis center with some new administrative features. Start by adding a new feature module named <code>AdminModule</code>.</p><p translation-result="on">生成一个带有特性模块文件和路由配置文件的 <code>admin</code> 目录。</p><p translation-origin="off">Generate an <code>admin</code> folder with a feature module file and a routing configuration file.</p><code-example language="sh" ng-version="12.0.0-rc.2"><div style="display:none"></div><aio-code><pre class="lang-sh prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pln">ng generate module admin </span><span class="pun">--</span><span class="pln">routing</span></code>
    </pre></aio-code></code-example><p translation-result="on">接下来，生成一些支持性组件。</p><p translation-origin="off">Next, generate the supporting components.</p><code-example language="sh" ng-version="12.0.0-rc.2"><div style="display:none"></div><aio-code><pre class="lang-sh prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pln">ng generate component admin</span><span class="pun">/</span><span class="pln">admin</span><span class="pun">-</span><span class="pln">dashboard</span></code>
    </pre></aio-code></code-example><code-example language="sh" ng-version="12.0.0-rc.2"><div style="display:none"></div><aio-code><pre class="lang-sh prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pln">ng generate component admin</span><span class="pun">/</span><span class="pln">admin</span></code>
    </pre></aio-code></code-example><code-example language="sh" ng-version="12.0.0-rc.2"><div style="display:none"></div><aio-code><pre class="lang-sh prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pln">ng generate component admin</span><span class="pun">/</span><span class="pln">manage</span><span class="pun">-</span><span class="pln">crises</span></code>
    </pre></aio-code></code-example><code-example language="sh" ng-version="12.0.0-rc.2"><div style="display:none"></div><aio-code><pre class="lang-sh prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pln">ng generate component admin</span><span class="pun">/</span><span class="pln">manage</span><span class="pun">-</span><span class="pln">heroes</span></code>
    </pre></aio-code></code-example><p translation-result="on">管理特性区的文件是这样的：</p><p translation-origin="off">The admin feature file structure looks like this:</p><div class="filetree"><div class="file"><p>src/app/admin</p></div><div class="children"><div class="file">admin</div><div class="children"><div class="file">admin.component.css</div><div class="file">admin.component.html</div><div class="file">admin.component.ts</div></div><div class="file">admin-dashboard</div><div class="children"><div class="file">admin-dashboard.component.css</div><div class="file">admin-dashboard.component.html</div><div class="file">admin-dashboard.component.ts</div></div><div class="file">manage-crises</div><div class="children"><div class="file">manage-crises.component.css</div><div class="file">manage-crises.component.html</div><div class="file">manage-crises.component.ts</div></div><div class="file">manage-heroes</div><div class="children"><div class="file">manage-heroes.component.css</div><div class="file">manage-heroes.component.html</div><div class="file">manage-heroes.component.ts</div></div><div class="file">admin.module.ts</div><div class="file">admin-routing.module.ts</div></div></div><p translation-result="on">管理特性模块包含 <code>AdminComponent</code>，它用于在特性模块内的仪表盘路由以及两个尚未完成的用于管理危机和英雄的组件之间进行路由。</p><p translation-origin="off">The admin feature module contains the <code>AdminComponent</code> used for routing within the feature module, a dashboard route and two unfinished components to manage crises and heroes.</p><code-tabs ng-version="12.0.0-rc.2"><div style="display:none"></div><mat-card class="mat-card mat-focus-indicator"><mat-tab-group class="mat-tab-group code-tab-group mat-primary"><mat-tab-header class="mat-tab-header mat-tab-header-pagination-controls-enabled"><div aria-hidden="true" mat-ripple="" class="mat-ripple mat-tab-header-pagination mat-tab-header-pagination-before mat-elevation-z4 mat-tab-header-pagination-disabled"><div class="mat-tab-header-pagination-chevron"></div></div><div class="mat-tab-label-container"><div role="tablist" class="mat-tab-list" style="transform:translateX(0)"><div class="mat-tab-labels"><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator mat-tab-label-active ng-star-inserted" id="mat-tab-label-5-0" tabindex="0" aria-posinset="1" aria-setsize="5" aria-controls="mat-tab-content-5-0" aria-selected="true" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">src/app/admin/admin/admin.component.html</span></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-5-1" tabindex="-1" aria-posinset="2" aria-setsize="5" aria-controls="mat-tab-content-5-1" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">src/app/admin/admin-dashboard/admin-dashboard.component.html</span></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-5-2" tabindex="-1" aria-posinset="3" aria-setsize="5" aria-controls="mat-tab-content-5-2" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">src/app/admin/admin.module.ts</span></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-5-3" tabindex="-1" aria-posinset="4" aria-setsize="5" aria-controls="mat-tab-content-5-3" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">src/app/admin/manage-crises/manage-crises.component.html</span></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-5-4" tabindex="-1" aria-posinset="5" aria-setsize="5" aria-controls="mat-tab-content-5-4" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">src/app/admin/manage-heroes/manage-heroes.component.html</span></div></div></div><mat-ink-bar class="mat-ink-bar" style="visibility:visible;left:0;width:344px"></mat-ink-bar></div></div><div aria-hidden="true" mat-ripple="" class="mat-ripple mat-tab-header-pagination mat-tab-header-pagination-after mat-elevation-z4"><div class="mat-tab-header-pagination-chevron"></div></div></mat-tab-header><div class="mat-tab-body-wrapper"><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c48-29 mat-tab-body-active ng-star-inserted" id="mat-tab-content-5-0" aria-labelledby="mat-tab-label-5-0"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c48-29 ng-trigger ng-trigger-translateTab" style="transform:none"><aio-code class="ng-star-inserted" style=""><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/admin/admin/admin.component.html">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="tag">&lt;h3&gt;</span><span class="pln">ADMIN</span><span class="tag">&lt;/h3&gt;</span><span class="pln">
</span><span class="tag">&lt;nav&gt;</span><span class="pln">
  </span><span class="tag">&lt;a</span><span class="pln"> </span><a href="api/router/RouterLink" class="code-anchor"><span class="atn">routerLink</span></a><span class="pun">=</span><span class="atv">"./"</span><span class="pln"> </span><a href="api/router/RouterLinkActive" class="code-anchor"><span class="atn">routerLinkActive</span></a><span class="pun">=</span><span class="atv">"active"</span><span class="pln">
    [</span><span class="atn">routerLinkActiveOptions</span><span class="pln">]</span><span class="pun">=</span><span class="atv">"{ exact: true }"</span><span class="tag">&gt;</span><span class="pln">Dashboard</span><span class="tag">&lt;/a&gt;</span><span class="pln">
  </span><span class="tag">&lt;a</span><span class="pln"> </span><a href="api/router/RouterLink" class="code-anchor"><span class="atn">routerLink</span></a><span class="pun">=</span><span class="atv">"./crises"</span><span class="pln"> </span><a href="api/router/RouterLinkActive" class="code-anchor"><span class="atn">routerLinkActive</span></a><span class="pun">=</span><span class="atv">"active"</span><span class="tag">&gt;</span><span class="pln">Manage Crises</span><span class="tag">&lt;/a&gt;</span><span class="pln">
  </span><span class="tag">&lt;a</span><span class="pln"> </span><a href="api/router/RouterLink" class="code-anchor"><span class="atn">routerLink</span></a><span class="pun">=</span><span class="atv">"./heroes"</span><span class="pln"> </span><a href="api/router/RouterLinkActive" class="code-anchor"><span class="atn">routerLinkActive</span></a><span class="pun">=</span><span class="atv">"active"</span><span class="tag">&gt;</span><span class="pln">Manage Heroes</span><span class="tag">&lt;/a&gt;</span><span class="pln">
</span><span class="tag">&lt;/nav&gt;</span><span class="pln">
</span><span class="tag">&lt;</span><a href="api/router/RouterOutlet" class="code-anchor"><span class="tag">router-outlet</span></a><span class="tag">&gt;&lt;/</span><a href="api/router/RouterOutlet" class="code-anchor"><span class="tag">router-outlet</span></a><span class="tag">&gt;</span></code>
    </pre></aio-code></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c48-30 ng-star-inserted" id="mat-tab-content-5-1" aria-labelledby="mat-tab-label-5-1"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c48-30 ng-trigger ng-trigger-translateTab" style="transform:translate3d(100%,0,0);min-height:1px"></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c48-31 ng-star-inserted" id="mat-tab-content-5-2" aria-labelledby="mat-tab-label-5-2"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c48-31 ng-trigger ng-trigger-translateTab" style="transform:translate3d(100%,0,0);min-height:1px"></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c48-32 ng-star-inserted" id="mat-tab-content-5-3" aria-labelledby="mat-tab-label-5-3"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c48-32 ng-trigger ng-trigger-translateTab" style="transform:translate3d(100%,0,0);min-height:1px"></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c48-33 ng-star-inserted" id="mat-tab-content-5-4" aria-labelledby="mat-tab-label-5-4"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c48-33 ng-trigger ng-trigger-translateTab" style="transform:translate3d(100%,0,0);min-height:1px"></div></mat-tab-body></div></mat-tab-group></mat-card></code-tabs><div class="alert is-helpful"><p translation-result="on">虽然管理仪表盘中的 <code><a href="api/router/RouterLink" class="code-anchor">RouterLink</a></code> 只包含一个没有其它 URL 段的斜杠 <code>/</code>，但它能匹配管理特性区下的任何路由。 但你只希望在访问 <code>Dashboard</code> 路由时才激活该链接。 往 <code>Dashboard</code> 这个 routerLink 上添加另一个绑定 <code>[routerLinkActiveOptions]="{ exact: true }"</code>， 这样就只有当用户导航到 <code>/admin</code> 这个 URL 时才会激活它，而不会在导航到它的某个子路由时。</p><p translation-origin="off">Although the admin dashboard <code><a href="api/router/RouterLink" class="code-anchor">RouterLink</a></code> only contains a relative slash without an additional URL segment, it is a match to any route within the admin feature area. You only want the <code>Dashboard</code> link to be active when the user visits that route. Adding an additional binding to the <code>Dashboard</code> routerLink,<code>[routerLinkActiveOptions]="{ exact: true }"</code>, marks the <code>./</code> link as active when the user navigates to the <code>/admin</code> URL and not when navigating to any of the child routes.</p></div><a id="component-less-route"></a><h5 id="component-less-route-grouping-routes-without-a-component" translation-result="on">无组件路由：分组路由，而不需要组件<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#component-less-route-grouping-routes-without-a-component"><i class="material-icons">link</i></a></h5><h5 translation-origin="off" id="component-less-route-grouping-routes-without-a-component">Component-less route: grouping routes without a component<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#component-less-route-grouping-routes-without-a-component"><i class="material-icons">link</i></a></h5><p translation-result="on">最初的管理路由配置如下：</p><p translation-origin="off">The initial admin routing configuration:</p><code-example path="router/src/app/admin/admin-routing.module.1.ts" header="src/app/admin/admin-routing.module.ts (admin routing)" region="admin-routes" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/admin/admin-routing.module.ts (admin routing)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/admin/admin-routing.module.ts (admin routing)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">const</span><span class="pln"> adminRoutes</span><span class="pun">:</span><span class="pln"> </span><a href="api/router/Routes-0" class="code-anchor"><span class="typ">Routes</span></a><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
  </span><span class="pun">{</span><span class="pln">
    path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'admin'</span><span class="pun">,</span><span class="pln">
    component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">AdminComponent</span><span class="pun">,</span><span class="pln">
    children</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
      </span><span class="pun">{</span><span class="pln">
        path</span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln">
        children</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
          </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'crises'</span><span class="pun">,</span><span class="pln"> component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">ManageCrisesComponent</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
          </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'heroes'</span><span class="pun">,</span><span class="pln"> component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">ManageHeroesComponent</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
          </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">AdminDashboardComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
        </span><span class="pun">]</span><span class="pln">
      </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">]</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">];</span><span class="pln">

</span><span class="lit">@</span><a href="api/core/NgModule" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">RouterModule</span><span class="pun">.</span><span class="pln">forChild</span><span class="pun">(</span><span class="pln">adminRoutes</span><span class="pun">)</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  exports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="api/router/RouterModule" class="code-anchor"><span class="typ">RouterModule</span></a><span class="pln">
  </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AdminRoutingModule</span><span class="pln"> </span><span class="pun">{}</span></code>
    </pre></aio-code></code-example><p translation-result="on"><code>AdminComponent</code> 下的子路由有一个 <code>path</code> 和一个 <code>children</code> 属性，但是它没有使用 <code>component</code>。这就定义了一个无<em>组件</em>路由。</p><p translation-origin="off">The child route under the <code>AdminComponent</code> has a <code>path</code> and a <code>children</code> property but it's not using a <code>component</code>. This defines a <em>component-less</em> route.</p><p translation-result="on">要把 <code>Crisis Center</code> 管理下的路由分组到 <code>admin</code> 路径下，组件是不必要的。此外，无<em>组件</em>路由可以更容易地<a href="guide/router-tutorial-toh#can-activate-child-guard">保护子路由</a>。</p><p translation-origin="off">To group the <code>Crisis Center</code> management routes under the <code>admin</code> path a component is unnecessary. Additionally, a <em>component-less</em> route makes it easier to <a href="guide/router-tutorial-toh#can-activate-child-guard">guard child routes</a>.</p><p translation-result="on">接下来，把 <code>AdminModule</code> 导入到 <code>app.module.ts</code> 中，并把它加入 <code>imports</code> 数组中来注册这些管理类路由。</p><p translation-origin="off">Next, import the <code>AdminModule</code> into <code>app.module.ts</code> and add it to the <code>imports</code> array to register the admin routes.</p><code-example path="router/src/app/app.module.4.ts" header="src/app/app.module.ts (admin module)" region="admin-module" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/app.module.ts (admin module)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/app.module.ts (admin module)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/core/NgModule" class="code-anchor"><span class="typ">NgModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/common/CommonModule" class="code-anchor"><span class="typ">CommonModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/common'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/forms/FormsModule" class="code-anchor"><span class="typ">FormsModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/forms'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">AppComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./app.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">PageNotFoundComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./page-not-found/page-not-found.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">ComposeMessageComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./compose-message/compose-message.component'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">AppRoutingModule</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./app-routing.module'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">HeroesModule</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./heroes/heroes.module'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CrisisCenterModule</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./crisis-center/crisis-center.module'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">AdminModule</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./admin/admin.module'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="api/core/NgModule" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="api/common/CommonModule" class="code-anchor"><span class="typ">CommonModule</span></a><span class="pun">,</span><span class="pln">
    </span><a href="api/forms/FormsModule" class="code-anchor"><span class="typ">FormsModule</span></a><span class="pun">,</span><span class="pln">
    </span><span class="typ">HeroesModule</span><span class="pun">,</span><span class="pln">
    </span><span class="typ">CrisisCenterModule</span><span class="pun">,</span><span class="pln">
    </span><span class="typ">AdminModule</span><span class="pun">,</span><span class="pln">
    </span><span class="typ">AppRoutingModule</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  declarations</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">AppComponent</span><span class="pun">,</span><span class="pln">
    </span><span class="typ">ComposeMessageComponent</span><span class="pun">,</span><span class="pln">
    </span><span class="typ">PageNotFoundComponent</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  bootstrap</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="typ">AppComponent</span><span class="pln"> </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AppModule</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on">然后往壳组件 <code>AppComponent</code> 中添加一个链接，让用户能点击它，以访问该特性。</p><p translation-origin="off">Add an "Admin" link to the <code>AppComponent</code> shell so that users can get to this feature.</p><code-example path="router/src/app/app.component.5.html" header="src/app/app.component.html (template)" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/app.component.html (template)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/app.component.html (template)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="tag">&lt;h1</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"title"</span><span class="tag">&gt;</span><span class="pln">Angular </span><a href="api/router/Router" class="code-anchor"><span class="pln">Router</span></a><span class="tag">&lt;/h1&gt;</span><span class="pln">
</span><span class="tag">&lt;nav&gt;</span><span class="pln">
  </span><span class="tag">&lt;a</span><span class="pln"> </span><a href="api/router/RouterLink" class="code-anchor"><span class="atn">routerLink</span></a><span class="pun">=</span><span class="atv">"/crisis-center"</span><span class="pln"> </span><a href="api/router/RouterLinkActive" class="code-anchor"><span class="atn">routerLinkActive</span></a><span class="pun">=</span><span class="atv">"active"</span><span class="tag">&gt;</span><span class="pln">Crisis Center</span><span class="tag">&lt;/a&gt;</span><span class="pln">
  </span><span class="tag">&lt;a</span><span class="pln"> </span><a href="api/router/RouterLink" class="code-anchor"><span class="atn">routerLink</span></a><span class="pun">=</span><span class="atv">"/heroes"</span><span class="pln"> </span><a href="api/router/RouterLinkActive" class="code-anchor"><span class="atn">routerLinkActive</span></a><span class="pun">=</span><span class="atv">"active"</span><span class="tag">&gt;</span><span class="pln">Heroes</span><span class="tag">&lt;/a&gt;</span><span class="pln">
  </span><span class="tag">&lt;a</span><span class="pln"> </span><a href="api/router/RouterLink" class="code-anchor"><span class="atn">routerLink</span></a><span class="pun">=</span><span class="atv">"/admin"</span><span class="pln"> </span><a href="api/router/RouterLinkActive" class="code-anchor"><span class="atn">routerLinkActive</span></a><span class="pun">=</span><span class="atv">"active"</span><span class="tag">&gt;</span><span class="pln">Admin</span><span class="tag">&lt;/a&gt;</span><span class="pln">
  </span><span class="tag">&lt;a</span><span class="pln"> [</span><a href="api/router/RouterLink" class="code-anchor"><span class="atn">routerLink</span></a><span class="pln">]</span><span class="pun">=</span><span class="atv">"[{ outlets: { popup: ['compose'] } }]"</span><span class="tag">&gt;</span><span class="pln">Contact</span><span class="tag">&lt;/a&gt;</span><span class="pln">
</span><span class="tag">&lt;/nav&gt;</span><span class="pln">
</span><span class="tag">&lt;div</span><span class="pln"> [@</span><span class="atn">routeAnimation</span><span class="pln">]</span><span class="pun">=</span><span class="atv">"getAnimationData(routerOutlet)"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;</span><a href="api/router/RouterOutlet" class="code-anchor"><span class="tag">router-outlet</span></a><span class="pln"> #</span><span class="atn">routerOutlet</span><span class="pun">=</span><span class="atv">"outlet"</span><span class="tag">&gt;&lt;/</span><a href="api/router/RouterOutlet" class="code-anchor"><span class="tag">router-outlet</span></a><span class="tag">&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span><span class="pln">
</span><span class="tag">&lt;</span><a href="api/router/RouterOutlet" class="code-anchor"><span class="tag">router-outlet</span></a><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"popup"</span><span class="tag">&gt;&lt;/</span><a href="api/router/RouterOutlet" class="code-anchor"><span class="tag">router-outlet</span></a><span class="tag">&gt;</span></code>
    </pre></aio-code></code-example><a id="guard-admin-feature"></a><h4 id="guard-the-admin-feature" translation-result="on">守护“管理特性”区<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#guard-the-admin-feature"><i class="material-icons">link</i></a></h4><h4 translation-origin="off" id="guard-the-admin-feature">Guard the admin feature<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#guard-the-admin-feature"><i class="material-icons">link</i></a></h4><p translation-result="on">现在危机中心的每个路由都是对所有人开放的。这些新的管理特性应该只能被已登录用户访问。</p><p translation-origin="off">Currently, every route within the Crisis Center is open to everyone. The new admin feature should be accessible only to authenticated users.</p><p translation-result="on">编写一个 <code><a href="api/router/CanActivate" class="code-anchor">CanActivate</a>()</code> 守卫，将正在尝试访问管理组件匿名用户重定向到登录页。</p><p translation-origin="off">Write a <code>canActivate()</code> guard method to redirect anonymous users to the login page when they try to enter the admin area.</p><p translation-result="on">在 <code>auth</code> 文件夹中生成一个 <code>AuthGuard</code>。</p><p translation-origin="off">Generate an <code>AuthGuard</code> in the <code>auth</code> folder.</p><code-example language="sh" ng-version="12.0.0-rc.2"><div style="display:none"></div><aio-code><pre class="lang-sh prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pln">ng generate guard auth</span><span class="pun">/</span><span class="pln">auth</span></code>
    </pre></aio-code></code-example><p translation-result="on">为了演示这些基础知识，这个例子只把日志写到控制台中，立即 <code>return</code> true，并允许继续导航：</p><p translation-origin="off">To demonstrate the fundamentals, this example only logs to the console, <code>returns</code> true immediately, and allows navigation to proceed:</p><code-example path="router/src/app/auth/auth.guard.1.ts" header="src/app/auth/auth.guard.ts (excerpt)" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/auth/auth.guard.ts (excerpt)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/auth/auth.guard.ts (excerpt)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/core/Injectable" class="code-anchor"><span class="typ">Injectable</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/router/CanActivate" class="code-anchor"><span class="typ">CanActivate</span></a><span class="pun">,</span><span class="pln"> </span><a href="api/router/ActivatedRouteSnapshot" class="code-anchor"><span class="typ">ActivatedRouteSnapshot</span></a><span class="pun">,</span><span class="pln"> </span><a href="api/router/RouterStateSnapshot" class="code-anchor"><span class="typ">RouterStateSnapshot</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="api/core/Injectable" class="code-anchor"><span class="lit">Injectable</span></a><span class="pun">({</span><span class="pln">
  providedIn</span><span class="pun">:</span><span class="pln"> </span><span class="str">'root'</span><span class="pun">,</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AuthGuard</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><a href="api/router/CanActivate" class="code-anchor"><span class="typ">CanActivate</span></a><span class="pln"> </span><span class="pun">{</span><span class="pln">
  canActivate</span><span class="pun">(</span><span class="pln">
    </span><span class="kwd">next</span><span class="pun">:</span><span class="pln"> </span><a href="api/router/ActivatedRouteSnapshot" class="code-anchor"><span class="typ">ActivatedRouteSnapshot</span></a><span class="pun">,</span><span class="pln">
    state</span><span class="pun">:</span><span class="pln"> </span><a href="api/router/RouterStateSnapshot" class="code-anchor"><span class="typ">RouterStateSnapshot</span></a><span class="pun">):</span><span class="pln"> </span><span class="kwd">boolean</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="str">'AuthGuard#canActivate called'</span><span class="pun">);</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on">接下来，打开 <code>admin-routing.module.ts</code>，导入 <code>AuthGuard</code> 类，修改管理路由并通过 <code><a href="api/router/CanActivate" class="code-anchor">CanActivate</a>()</code> 守卫来引用 <code>AuthGuard</code>：</p><p translation-origin="off">Next, open <code>admin-routing.module.ts </code>, import the <code>AuthGuard</code> class, and update the admin route with a <code>canActivate</code> guard property that references it:</p><code-example path="router/src/app/admin/admin-routing.module.2.ts" header="src/app/admin/admin-routing.module.ts (guarded admin route)" region="admin-route" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/admin/admin-routing.module.ts (guarded admin route)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/admin/admin-routing.module.ts (guarded admin route)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">AuthGuard</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'../auth/auth.guard'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">const</span><span class="pln"> adminRoutes</span><span class="pun">:</span><span class="pln"> </span><a href="api/router/Routes-0" class="code-anchor"><span class="typ">Routes</span></a><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
  </span><span class="pun">{</span><span class="pln">
    path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'admin'</span><span class="pun">,</span><span class="pln">
    component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">AdminComponent</span><span class="pun">,</span><span class="pln">
    canActivate</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="typ">AuthGuard</span><span class="pun">],</span><span class="pln">
    children</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
      </span><span class="pun">{</span><span class="pln">
        path</span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln">
        children</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
          </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'crises'</span><span class="pun">,</span><span class="pln"> component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">ManageCrisesComponent</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
          </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'heroes'</span><span class="pun">,</span><span class="pln"> component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">ManageHeroesComponent</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
          </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">AdminDashboardComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
        </span><span class="pun">],</span><span class="pln">
      </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">]</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">];</span><span class="pln">

</span><span class="lit">@</span><a href="api/core/NgModule" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">RouterModule</span><span class="pun">.</span><span class="pln">forChild</span><span class="pun">(</span><span class="pln">adminRoutes</span><span class="pun">)</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  exports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="api/router/RouterModule" class="code-anchor"><span class="typ">RouterModule</span></a><span class="pln">
  </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AdminRoutingModule</span><span class="pln"> </span><span class="pun">{}</span></code>
    </pre></aio-code></code-example><p translation-result="on">管理特性区现在受此守卫保护了，不过该守卫还需要做进一步定制。</p><p translation-origin="off">The admin feature is now protected by the guard, but the guard requires more customization to work fully.</p><a id="teach-auth"></a><h4 id="authenticate-with-authguard" translation-result="on">通过 <code>AuthGuard</code> 验证<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#authenticate-with-authguard"><i class="material-icons">link</i></a></h4><h4 translation-origin="off" id="authenticate-with-authguard">Authenticate with <code>AuthGuard</code><a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#authenticate-with-authguard"><i class="material-icons">link</i></a></h4><p translation-result="on">让 <code>AuthGuard</code> 模拟身份验证。</p><p translation-origin="off">Make the <code>AuthGuard</code> mimic authentication.</p><p translation-result="on"><code>AuthGuard</code> 可以调用应用中的一项服务，该服务能让用户登录，并且保存当前用户的信息。在 <code>admin</code> 目录下生成一个新的 <code>AuthService</code>：</p><p translation-origin="off">The <code>AuthGuard</code> should call an application service that can login a user and retain information about the current user. Generate a new <code>AuthService</code> in the <code>auth</code> folder:</p><code-example language="sh" ng-version="12.0.0-rc.2"><div style="display:none"></div><aio-code><pre class="lang-sh prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pln">ng generate service auth</span><span class="pun">/</span><span class="pln">auth</span></code>
    </pre></aio-code></code-example><p translation-result="on">修改 <code>AuthService</code> 以登入此用户：</p><p translation-origin="off">Update the <code>AuthService</code> to log in the user:</p><code-example path="router/src/app/auth/auth.service.ts" header="src/app/auth/auth.service.ts (excerpt)" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/auth/auth.service.ts (excerpt)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/auth/auth.service.ts (excerpt)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/core/Injectable" class="code-anchor"><span class="typ">Injectable</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">,</span><span class="pln"> of </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'rxjs'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> tap</span><span class="pun">,</span><span class="pln"> delay </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'rxjs/operators'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="api/core/Injectable" class="code-anchor"><span class="lit">Injectable</span></a><span class="pun">({</span><span class="pln">
  providedIn</span><span class="pun">:</span><span class="pln"> </span><span class="str">'root'</span><span class="pun">,</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AuthService</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  isLoggedIn </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">

  </span><span class="com">// store the URL so we can redirect after logging in</span><span class="pln">
  redirectUrl</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">string</span><span class="pun">;</span><span class="pln">

  login</span><span class="pun">():</span><span class="pln"> </span><span class="typ">Observable</span><span class="str">&lt;boolean&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> of</span><span class="pun">(</span><span class="kwd">true</span><span class="pun">).</span><span class="pln">pipe</span><span class="pun">(</span><span class="pln">
      delay</span><span class="pun">(</span><span class="lit">1000</span><span class="pun">),</span><span class="pln">
      tap</span><span class="pun">(</span><span class="pln">val </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">isLoggedIn </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
    </span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  logout</span><span class="pun">():</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">isLoggedIn </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on">虽然不会真的进行登录，但它有一个 <code>isLoggedIn</code> 标志，用来标识是否用户已经登录过了。 它的 <code>login()</code> 方法会仿真一个对外部服务的 API 调用，返回一个可观察对象（observable）。在短暂的停顿之后，这个可观察对象就会解析成功。 <code>redirectUrl</code> 属性将会保存在用户要访问的 URL 中，以便认证完之后导航到它。</p><p translation-origin="off">Although it doesn't actually log in, it has an <code>isLoggedIn</code> flag to tell you whether the user is authenticated. Its <code>login()</code> method simulates an API call to an external service by returning an observable that resolves successfully after a short pause. The <code>redirectUrl</code> property stores the URL that the user wanted to access so you can navigate to it after authentication.</p><div class="alert is-helpful"><p translation-result="on">为了保持最小化，这个例子会将未经身份验证的用户重定向到 <code>/admin</code>。</p><p translation-origin="off">To keep things minimal, this example redirects unauthenticated users to <code>/admin</code>.</p></div><p translation-result="on">修改 <code>AuthGuard</code> 以调用 <code>AuthService</code>。</p><p translation-origin="off">Revise the <code>AuthGuard</code> to call the <code>AuthService</code>.</p><code-example path="router/src/app/auth/auth.guard.2.ts" header="src/app/auth/auth.guard.ts (v2)" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/auth/auth.guard.ts (v2)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/auth/auth.guard.ts (v2)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/core/Injectable" class="code-anchor"><span class="typ">Injectable</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/router/CanActivate" class="code-anchor"><span class="typ">CanActivate</span></a><span class="pun">,</span><span class="pln"> </span><a href="api/router/ActivatedRouteSnapshot" class="code-anchor"><span class="typ">ActivatedRouteSnapshot</span></a><span class="pun">,</span><span class="pln"> </span><a href="api/router/RouterStateSnapshot" class="code-anchor"><span class="typ">RouterStateSnapshot</span></a><span class="pun">,</span><span class="pln"> </span><a href="api/router/Router" class="code-anchor"><span class="typ">Router</span></a><span class="pun">,</span><span class="pln"> </span><a href="api/router/UrlTree" class="code-anchor"><span class="typ">UrlTree</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">AuthService</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./auth.service'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="api/core/Injectable" class="code-anchor"><span class="lit">Injectable</span></a><span class="pun">({</span><span class="pln">
  providedIn</span><span class="pun">:</span><span class="pln"> </span><span class="str">'root'</span><span class="pun">,</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AuthGuard</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><a href="api/router/CanActivate" class="code-anchor"><span class="typ">CanActivate</span></a><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">constructor</span><span class="pun">(</span><span class="kwd">private</span><span class="pln"> authService</span><span class="pun">:</span><span class="pln"> </span><span class="typ">AuthService</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">private</span><span class="pln"> router</span><span class="pun">:</span><span class="pln"> </span><a href="api/router/Router" class="code-anchor"><span class="typ">Router</span></a><span class="pun">)</span><span class="pln"> </span><span class="pun">{}</span><span class="pln">

  canActivate</span><span class="pun">(</span><span class="pln">
    </span><span class="kwd">next</span><span class="pun">:</span><span class="pln"> </span><a href="api/router/ActivatedRouteSnapshot" class="code-anchor"><span class="typ">ActivatedRouteSnapshot</span></a><span class="pun">,</span><span class="pln">
    state</span><span class="pun">:</span><span class="pln"> </span><a href="api/router/RouterStateSnapshot" class="code-anchor"><span class="typ">RouterStateSnapshot</span></a><span class="pun">):</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">|</span><a href="api/router/UrlTree" class="code-anchor"><span class="typ">UrlTree</span></a><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> url</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">string</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> state</span><span class="pun">.</span><span class="pln">url</span><span class="pun">;</span><span class="pln">

    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">checkLogin</span><span class="pun">(</span><span class="pln">url</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  checkLogin</span><span class="pun">(</span><span class="pln">url</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">string</span><span class="pun">):</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">|</span><a href="api/router/UrlTree" class="code-anchor"><span class="typ">UrlTree</span></a><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">authService</span><span class="pun">.</span><span class="pln">isLoggedIn</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span><span class="pln">

    </span><span class="com">// Store the attempted URL for redirecting</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">authService</span><span class="pun">.</span><span class="pln">redirectUrl </span><span class="pun">=</span><span class="pln"> url</span><span class="pun">;</span><span class="pln">

    </span><span class="com">// Redirect to the login page</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">router</span><span class="pun">.</span><span class="pln">parseUrl</span><span class="pun">(</span><span class="str">'/login'</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on">注意，你把 <code>AuthService</code> 和 <code><a href="api/router/Router" class="code-anchor">Router</a></code> 服务注入到了构造函数中。 你还没有提供 <code>AuthService</code>，这里要说明的是：可以往路由守卫中注入有用的服务。</p><p translation-origin="off">Notice that you inject the <code>AuthService</code> and the <code><a href="api/router/Router" class="code-anchor">Router</a></code> in the constructor. You haven't provided the <code>AuthService</code> yet but it's good to know that you can inject helpful services into routing guards.</p><p translation-result="on">该守卫返回一个同步的布尔值。如果用户已经登录，它就返回 <code>true</code>，导航会继续。</p><p translation-origin="off">This guard returns a synchronous boolean result. If the user is logged in, it returns true and the navigation continues.</p><p translation-result="on">这个 <code><a href="api/router/ActivatedRouteSnapshot" class="code-anchor">ActivatedRouteSnapshot</a></code> 包含了<em>即将</em>被激活的路由，而 <code><a href="api/router/RouterStateSnapshot" class="code-anchor">RouterStateSnapshot</a></code> 包含了该应用<em>即将</em>到达的状态。 你应该通过守卫进行检查。</p><p translation-origin="off">The <code><a href="api/router/ActivatedRouteSnapshot" class="code-anchor">ActivatedRouteSnapshot</a></code> contains the <em>future</em> route that will be activated and the <code><a href="api/router/RouterStateSnapshot" class="code-anchor">RouterStateSnapshot</a></code> contains the <em>future</em> <code><a href="api/router/RouterState" class="code-anchor">RouterState</a></code> of the application, should you pass through the guard check.</p><p translation-result="on">如果用户还没有登录，你就会用 <code><a href="api/router/RouterStateSnapshot#url" class="code-anchor">RouterStateSnapshot.url</a></code> 保存用户来自的 URL 并让路由器跳转到登录页（你尚未创建该页）。 这间接导致路由器自动中止了这次导航，<code>checkLogin()</code> 返回 <code>false</code> 并不是必须的，但这样可以更清楚的表达意图。</p><p translation-origin="off">If the user is not logged in, you store the attempted URL the user came from using the <code><a href="api/router/RouterStateSnapshot#url" class="code-anchor">RouterStateSnapshot.url</a></code> and tell the router to redirect to a login page—a page you haven't created yet. Returning a <code><a href="api/router/UrlTree" class="code-anchor">UrlTree</a></code> tells the <code><a href="api/router/Router" class="code-anchor">Router</a></code> to cancel the current navigation and schedule a new one to redirect the user.</p><a id="add-login-component"></a><h4 id="add-the-logincomponent" translation-result="on">添加 <code>LoginComponent</code><a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#add-the-logincomponent"><i class="material-icons">link</i></a></h4><h4 translation-origin="off" id="add-the-logincomponent">Add the <code>LoginComponent</code><a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#add-the-logincomponent"><i class="material-icons">link</i></a></h4><p translation-result="on">你需要一个 <code>LoginComponent</code> 来让用户登录进这个应用。在登录之后，你就会跳转到前面保存的 URL，如果没有，就跳转到默认 URL。 该组件没有什么新内容，你在路由配置中使用它的方式也没什么新意。</p><p translation-origin="off">You need a <code>LoginComponent</code> for the user to log in to the app. After logging in, you'll redirect to the stored URL if available, or use the default URL. There is nothing new about this component or the way you use it in the router configuration.</p><code-example language="sh" ng-version="12.0.0-rc.2"><div style="display:none"></div><aio-code><pre class="lang-sh prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pln">ng generate component auth</span><span class="pun">/</span><span class="pln">login</span></code>
    </pre></aio-code></code-example><p translation-result="on">在 <code>auth/auth-routing.module.ts</code> 文件中注册一个 <code>/login</code> 路由。在 <code>app.module.ts</code> 中，导入 <code>AuthModule</code> 并且添加到 <code>AppModule</code> 的 <code>imports</code> 中。</p><p translation-origin="off">Register a <code>/login</code> route in the <code>auth/auth-routing.module.ts</code>. In <code>app.module.ts</code>, import and add the <code>AuthModule</code> to the <code>AppModule</code> imports.</p><code-tabs ng-version="12.0.0-rc.2"><div style="display:none"></div><mat-card class="mat-card mat-focus-indicator"><mat-tab-group class="mat-tab-group code-tab-group mat-primary"><mat-tab-header class="mat-tab-header mat-tab-header-pagination-controls-enabled"><div aria-hidden="true" mat-ripple="" class="mat-ripple mat-tab-header-pagination mat-tab-header-pagination-before mat-elevation-z4 mat-tab-header-pagination-disabled"><div class="mat-tab-header-pagination-chevron"></div></div><div class="mat-tab-label-container"><div role="tablist" class="mat-tab-list" style="transform:translateX(0)"><div class="mat-tab-labels"><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator mat-tab-label-active ng-star-inserted" id="mat-tab-label-6-0" tabindex="0" aria-posinset="1" aria-setsize="4" aria-controls="mat-tab-content-6-0" aria-selected="true" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">src/app/app.module.ts</span></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-6-1" tabindex="-1" aria-posinset="2" aria-setsize="4" aria-controls="mat-tab-content-6-1" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">src/app/auth/login/login.component.html</span></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-6-2" tabindex="-1" aria-posinset="3" aria-setsize="4" aria-controls="mat-tab-content-6-2" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">src/app/auth/login/login.component.ts</span></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-6-3" tabindex="-1" aria-posinset="4" aria-setsize="4" aria-controls="mat-tab-content-6-3" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">src/app/auth/auth.module.ts</span></div></div></div><mat-ink-bar class="mat-ink-bar" style="visibility:visible;left:0;width:195px"></mat-ink-bar></div></div><div aria-hidden="true" mat-ripple="" class="mat-ripple mat-tab-header-pagination mat-tab-header-pagination-after mat-elevation-z4"><div class="mat-tab-header-pagination-chevron"></div></div></mat-tab-header><div class="mat-tab-body-wrapper"><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c48-34 mat-tab-body-active ng-star-inserted" id="mat-tab-content-6-0" aria-labelledby="mat-tab-label-6-0"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c48-34 ng-trigger ng-trigger-translateTab" style="transform:none"><aio-code class="ng-star-inserted" style=""><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/app.module.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/core/NgModule" class="code-anchor"><span class="typ">NgModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/platform-browser/BrowserModule" class="code-anchor"><span class="typ">BrowserModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/platform-browser'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/forms/FormsModule" class="code-anchor"><span class="typ">FormsModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/forms'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/platform-browser/animations/BrowserAnimationsModule" class="code-anchor"><span class="typ">BrowserAnimationsModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/platform-browser/animations'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">AppComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./app.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">PageNotFoundComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./page-not-found/page-not-found.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">ComposeMessageComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./compose-message/compose-message.component'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">AppRoutingModule</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./app-routing.module'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">HeroesModule</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./heroes/heroes.module'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">AuthModule</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./auth/auth.module'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="api/core/NgModule" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="api/platform-browser/BrowserModule" class="code-anchor"><span class="typ">BrowserModule</span></a><span class="pun">,</span><span class="pln">
    </span><a href="api/platform-browser/animations/BrowserAnimationsModule" class="code-anchor"><span class="typ">BrowserAnimationsModule</span></a><span class="pun">,</span><span class="pln">
    </span><a href="api/forms/FormsModule" class="code-anchor"><span class="typ">FormsModule</span></a><span class="pun">,</span><span class="pln">
    </span><span class="typ">HeroesModule</span><span class="pun">,</span><span class="pln">
    </span><span class="typ">AuthModule</span><span class="pun">,</span><span class="pln">
    </span><span class="typ">AppRoutingModule</span><span class="pun">,</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  declarations</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">AppComponent</span><span class="pun">,</span><span class="pln">
    </span><span class="typ">ComposeMessageComponent</span><span class="pun">,</span><span class="pln">
    </span><span class="typ">PageNotFoundComponent</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  bootstrap</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="typ">AppComponent</span><span class="pln"> </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AppModule</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c48-35 ng-star-inserted" id="mat-tab-content-6-1" aria-labelledby="mat-tab-label-6-1"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c48-35 ng-trigger ng-trigger-translateTab" style="transform:translate3d(100%,0,0);min-height:1px"></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c48-36 ng-star-inserted" id="mat-tab-content-6-2" aria-labelledby="mat-tab-label-6-2"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c48-36 ng-trigger ng-trigger-translateTab" style="transform:translate3d(100%,0,0);min-height:1px"></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c48-37 ng-star-inserted" id="mat-tab-content-6-3" aria-labelledby="mat-tab-label-6-3"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c48-37 ng-trigger ng-trigger-translateTab" style="transform:translate3d(100%,0,0);min-height:1px"></div></mat-tab-body></div></mat-tab-group></mat-card></code-tabs><a id="can-activate-child-guard"></a><h3 id="canactivatechild-guarding-child-routes" translation-result="on"><code><a href="api/router/CanActivateChild" class="code-anchor">CanActivateChild</a></code>：保护子路由<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#canactivatechild-guarding-child-routes"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="canactivatechild-guarding-child-routes"><code><a href="api/router/CanActivateChild" class="code-anchor">CanActivateChild</a></code>: guarding child routes<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#canactivatechild-guarding-child-routes"><i class="material-icons">link</i></a></h3><p translation-result="on">你还可以使用 <code><a href="api/router/CanActivateChild" class="code-anchor">CanActivateChild</a></code> 守卫来保护子路由。 <code><a href="api/router/CanActivateChild" class="code-anchor">CanActivateChild</a></code> 守卫和 <code><a href="api/router/CanActivate" class="code-anchor">CanActivate</a></code> 守卫很像。 它们的区别在于，<code><a href="api/router/CanActivateChild" class="code-anchor">CanActivateChild</a></code> 会在<em>任何子路由</em>被激活之前运行。</p><p translation-origin="off">You can also protect child routes with the <code><a href="api/router/CanActivateChild" class="code-anchor">CanActivateChild</a></code> guard. The <code><a href="api/router/CanActivateChild" class="code-anchor">CanActivateChild</a></code> guard is similar to the <code><a href="api/router/CanActivate" class="code-anchor">CanActivate</a></code> guard. The key difference is that it runs before any child route is activated.</p><p translation-result="on">你要保护管理特性模块，防止它被非授权访问，还要保护这个特性模块<em>内部</em>的那些子路由。</p><p translation-origin="off">You protected the admin feature module from unauthorized access. You should also protect child routes <em>within</em> the feature module.</p><p translation-result="on">扩展 <code>AuthGuard</code> 以便在 <code>admin</code> 路由之间导航时提供保护。 打开 <code>auth.guard.ts</code> 并从路由库中导入 <code><a href="api/router/CanActivateChild" class="code-anchor">CanActivateChild</a></code> 接口。</p><p translation-origin="off">Extend the <code>AuthGuard</code> to protect when navigating between the <code>admin</code> routes. Open <code>auth.guard.ts</code> and add the <code><a href="api/router/CanActivateChild" class="code-anchor">CanActivateChild</a></code> interface to the imported tokens from the router package.</p><p translation-result="on">接下来，实现 <code><a href="api/router/CanActivateChild" class="code-anchor">CanActivateChild</a></code> 方法，它所接收的参数与 <code><a href="api/router/CanActivate" class="code-anchor">CanActivate</a></code> 方法一样：一个 <code><a href="api/router/ActivatedRouteSnapshot" class="code-anchor">ActivatedRouteSnapshot</a></code> 和一个 <code><a href="api/router/RouterStateSnapshot" class="code-anchor">RouterStateSnapshot</a></code>。 <code><a href="api/router/CanActivateChild" class="code-anchor">CanActivateChild</a></code> 方法可以返回 <code>Observable&lt;boolean|<a href="api/router/UrlTree" class="code-anchor">UrlTree</a>&gt;</code> 或 <code>Promise&lt;boolean|<a href="api/router/UrlTree" class="code-anchor">UrlTree</a>&gt;</code> 来支持异步检查，或 <code>boolean</code> 或 <code><a href="api/router/UrlTree" class="code-anchor">UrlTree</a></code> 来支持同步检查。 这里返回的或者是 <code>true</code> 以便允许用户访问管理特性模块，或者是 <code><a href="api/router/UrlTree" class="code-anchor">UrlTree</a></code> 以便把用户重定向到登录页：</p><p translation-origin="off">Next, implement the <code>canActivateChild()</code> method which takes the same arguments as the <code>canActivate()</code> method: an <code><a href="api/router/ActivatedRouteSnapshot" class="code-anchor">ActivatedRouteSnapshot</a></code> and <code><a href="api/router/RouterStateSnapshot" class="code-anchor">RouterStateSnapshot</a></code>. The <code>canActivateChild()</code> method can return an <code>Observable&lt;boolean|<a href="api/router/UrlTree" class="code-anchor">UrlTree</a>&gt;</code> or <code>Promise&lt;boolean|<a href="api/router/UrlTree" class="code-anchor">UrlTree</a>&gt;</code> for async checks and a <code>boolean</code> or <code><a href="api/router/UrlTree" class="code-anchor">UrlTree</a></code> for sync checks. This one returns either <code>true</code> to allow the user to access the admin feature module or <code><a href="api/router/UrlTree" class="code-anchor">UrlTree</a></code> to redirect the user to the login page instead:</p><code-example path="router/src/app/auth/auth.guard.3.ts" header="src/app/auth/auth.guard.ts (excerpt)" region="can-activate-child" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/auth/auth.guard.ts (excerpt)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/auth/auth.guard.ts (excerpt)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/core/Injectable" class="code-anchor"><span class="typ">Injectable</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><a href="api/router/CanActivate" class="code-anchor"><span class="typ">CanActivate</span></a><span class="pun">,</span><span class="pln"> </span><a href="api/router/Router" class="code-anchor"><span class="typ">Router</span></a><span class="pun">,</span><span class="pln">
  </span><a href="api/router/ActivatedRouteSnapshot" class="code-anchor"><span class="typ">ActivatedRouteSnapshot</span></a><span class="pun">,</span><span class="pln">
  </span><a href="api/router/RouterStateSnapshot" class="code-anchor"><span class="typ">RouterStateSnapshot</span></a><span class="pun">,</span><span class="pln">
  </span><a href="api/router/CanActivateChild" class="code-anchor"><span class="typ">CanActivateChild</span></a><span class="pun">,</span><span class="pln">
  </span><a href="api/router/UrlTree" class="code-anchor"><span class="typ">UrlTree</span></a><span class="pln">
</span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">AuthService</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./auth.service'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="api/core/Injectable" class="code-anchor"><span class="lit">Injectable</span></a><span class="pun">({</span><span class="pln">
  providedIn</span><span class="pun">:</span><span class="pln"> </span><span class="str">'root'</span><span class="pun">,</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AuthGuard</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><a href="api/router/CanActivate" class="code-anchor"><span class="typ">CanActivate</span></a><span class="pun">,</span><span class="pln"> </span><a href="api/router/CanActivateChild" class="code-anchor"><span class="typ">CanActivateChild</span></a><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">constructor</span><span class="pun">(</span><span class="kwd">private</span><span class="pln"> authService</span><span class="pun">:</span><span class="pln"> </span><span class="typ">AuthService</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">private</span><span class="pln"> router</span><span class="pun">:</span><span class="pln"> </span><a href="api/router/Router" class="code-anchor"><span class="typ">Router</span></a><span class="pun">)</span><span class="pln"> </span><span class="pun">{}</span><span class="pln">

  canActivate</span><span class="pun">(</span><span class="pln">
    route</span><span class="pun">:</span><span class="pln"> </span><a href="api/router/ActivatedRouteSnapshot" class="code-anchor"><span class="typ">ActivatedRouteSnapshot</span></a><span class="pun">,</span><span class="pln">
    state</span><span class="pun">:</span><span class="pln"> </span><a href="api/router/RouterStateSnapshot" class="code-anchor"><span class="typ">RouterStateSnapshot</span></a><span class="pun">):</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">|</span><a href="api/router/UrlTree" class="code-anchor"><span class="typ">UrlTree</span></a><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> url</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">string</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> state</span><span class="pun">.</span><span class="pln">url</span><span class="pun">;</span><span class="pln">

    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">checkLogin</span><span class="pun">(</span><span class="pln">url</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  canActivateChild</span><span class="pun">(</span><span class="pln">
    route</span><span class="pun">:</span><span class="pln"> </span><a href="api/router/ActivatedRouteSnapshot" class="code-anchor"><span class="typ">ActivatedRouteSnapshot</span></a><span class="pun">,</span><span class="pln">
    state</span><span class="pun">:</span><span class="pln"> </span><a href="api/router/RouterStateSnapshot" class="code-anchor"><span class="typ">RouterStateSnapshot</span></a><span class="pun">):</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">|</span><a href="api/router/UrlTree" class="code-anchor"><span class="typ">UrlTree</span></a><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">canActivate</span><span class="pun">(</span><span class="pln">route</span><span class="pun">,</span><span class="pln"> state</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

</span><span class="com">/* . . . */</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on">同样把这个 <code>AuthGuard</code> 添加到“无组件的”管理路由，来同时保护它的所有子路由，而不是为每个路由单独添加这个 <code>AuthGuard</code>。</p><p translation-origin="off">Add the same <code>AuthGuard</code> to the <code>component-less</code> admin route to protect all other child routes at one time instead of adding the <code>AuthGuard</code> to each route individually.</p><code-example path="router/src/app/admin/admin-routing.module.3.ts" header="src/app/admin/admin-routing.module.ts (excerpt)" region="can-activate-child" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/admin/admin-routing.module.ts (excerpt)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/admin/admin-routing.module.ts (excerpt)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">const</span><span class="pln"> adminRoutes</span><span class="pun">:</span><span class="pln"> </span><a href="api/router/Routes-0" class="code-anchor"><span class="typ">Routes</span></a><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
  </span><span class="pun">{</span><span class="pln">
    path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'admin'</span><span class="pun">,</span><span class="pln">
    component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">AdminComponent</span><span class="pun">,</span><span class="pln">
    canActivate</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="typ">AuthGuard</span><span class="pun">],</span><span class="pln">
    children</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
      </span><span class="pun">{</span><span class="pln">
        path</span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln">
        canActivateChild</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="typ">AuthGuard</span><span class="pun">],</span><span class="pln">
        children</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
          </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'crises'</span><span class="pun">,</span><span class="pln"> component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">ManageCrisesComponent</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
          </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'heroes'</span><span class="pun">,</span><span class="pln"> component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">ManageHeroesComponent</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
          </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">AdminDashboardComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
        </span><span class="pun">]</span><span class="pln">
      </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">]</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">];</span><span class="pln">

</span><span class="lit">@</span><a href="api/core/NgModule" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">RouterModule</span><span class="pun">.</span><span class="pln">forChild</span><span class="pun">(</span><span class="pln">adminRoutes</span><span class="pun">)</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  exports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="api/router/RouterModule" class="code-anchor"><span class="typ">RouterModule</span></a><span class="pln">
  </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AdminRoutingModule</span><span class="pln"> </span><span class="pun">{}</span></code>
    </pre></aio-code></code-example><a id="can-deactivate-guard"></a><h3 id="candeactivate-handling-unsaved-changes" translation-result="on"><code><a href="api/router/CanDeactivate" class="code-anchor">CanDeactivate</a></code>：处理未保存的更改<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#candeactivate-handling-unsaved-changes"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="candeactivate-handling-unsaved-changes"><code><a href="api/router/CanDeactivate" class="code-anchor">CanDeactivate</a></code>: handling unsaved changes<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#candeactivate-handling-unsaved-changes"><i class="material-icons">link</i></a></h3><p translation-result="on">回到 “Heroes” 工作流，该应用会立即接受对英雄的每次更改，而不进行验证。</p><p translation-origin="off">Back in the "Heroes" workflow, the app accepts every change to a hero immediately without validation.</p><p translation-result="on">在现实世界，你可能不得不积累来自用户的更改，跨字段验证，在服务器上验证，或者把变更保持在待定状态，直到用户确认这一组字段或取消并还原所有变更为止。</p><p translation-origin="off">In the real world, you might have to accumulate the users changes, validate across fields, validate on the server, or hold changes in a pending state until the user confirms them as a group or cancels and reverts all changes.</p><p translation-result="on">当用户要导航离开时，你可以让用户自己决定该怎么处理这些未保存的更改。 如果用户选择了取消，你就留下来，并允许更多改动。 如果用户选择了确认，那就进行保存。</p><p translation-origin="off">When the user navigates away, you can let the user decide what to do with unsaved changes. If the user cancels, you'll stay put and allow more changes. If the user approves, the app can save.</p><p translation-result="on">在保存成功之前，你还可以继续推迟导航。如果你让用户立即移到下一个界面，而保存却失败了（可能因为数据不符合有效性规则），你就会丢失该错误的上下文环境。</p><p translation-origin="off">You still might delay navigation until the save succeeds. If you let the user move to the next screen immediately and saving were to fail (perhaps the data is ruled invalid), you would lose the context of the error.</p><p translation-result="on">你需要用异步的方式等待，在服务器返回答复之前先停止导航。</p><p translation-origin="off">You need to stop the navigation while you wait, asynchronously, for the server to return with its answer.</p><p translation-result="on"><code><a href="api/router/CanDeactivate" class="code-anchor">CanDeactivate</a></code> 守卫能帮助你决定如何处理未保存的更改，以及如何处理。</p><p translation-origin="off">The <code><a href="api/router/CanDeactivate" class="code-anchor">CanDeactivate</a></code> guard helps you decide what to do with unsaved changes and how to proceed.</p><a id="cancel-save"></a><h4 id="cancel-and-save" translation-result="on">取消与保存<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#cancel-and-save"><i class="material-icons">link</i></a></h4><h4 translation-origin="off" id="cancel-and-save">Cancel and save<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#cancel-and-save"><i class="material-icons">link</i></a></h4><p translation-result="on">用户在 <code>CrisisDetailComponent</code> 中更新危机信息。 与 <code>HeroDetailComponent</code> 不同，用户的改动不会立即更新危机的实体对象。当用户按下了 Save 按钮时，应用就更新这个实体对象；如果按了 Cancel 按钮，那就放弃这些更改。</p><p translation-origin="off">Users update crisis information in the <code>CrisisDetailComponent</code>. Unlike the <code>HeroDetailComponent</code>, the user changes do not update the crisis entity immediately. Instead, the app updates the entity when the user presses the Save button and discards the changes when the user presses the Cancel button.</p><p translation-result="on">这两个按钮都会在保存或取消之后导航回危机列表。</p><p translation-origin="off">Both buttons navigate back to the crisis list after save or cancel.</p><code-example path="router/src/app/crisis-center/crisis-detail/crisis-detail.component.ts" header="src/app/crisis-center/crisis-detail/crisis-detail.component.ts (cancel and save methods)" region="cancel-save" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/crisis-center/crisis-detail/crisis-detail.component.ts (cancel and save methods)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/crisis-center/crisis-detail/crisis-detail.component.ts (cancel and save methods)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pln">cancel</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">gotoCrises</span><span class="pun">();</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

save</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">crisis</span><span class="pun">.</span><span class="pln">name </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">editName</span><span class="pun">;</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">gotoCrises</span><span class="pun">();</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on">在这种情况下，用户可以点击 heroes 链接，取消，按下浏览器后退按钮，或者不保存就离开。</p><p translation-origin="off">In this scenario, the user could click the heroes link, cancel, push the browser back button, or navigate away without saving.</p><p translation-result="on">这个示例应用会弹出一个确认对话框，它会异步等待用户的响应，等用户给出一个明确的答复。</p><p translation-origin="off">This example app asks the user to be explicit with a confirmation dialog box that waits asynchronously for the user's response.</p><div class="alert is-helpful"><p translation-result="on">你也可以用同步的方式等用户的答复，阻塞代码。但如果能用异步的方式等待用户的答复，应用就会响应性更好，还能同时做别的事。</p><p translation-origin="off">You could wait for the user's answer with synchronous, blocking code, however, the app is more responsive—and can do other work—by waiting for the user's answer asynchronously.</p></div><p translation-result="on">生成一个 <code>Dialog</code> 服务，以处理用户的确认操作。</p><p translation-origin="off">Generate a <code>Dialog</code> service to handle user confirmation.</p><code-example language="sh" ng-version="12.0.0-rc.2"><div style="display:none"></div><aio-code><pre class="lang-sh prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pln">ng generate service dialog</span></code>
    </pre></aio-code></code-example><p translation-result="on">为 <code>DialogService</code> 添加一个 <code>confirm()</code> 方法，以提醒用户确认。<code>window.confirm</code> 是一个阻塞型操作，它会显示一个模态对话框，并等待用户的交互。</p><p translation-origin="off">Add a <code>confirm()</code> method to the <code>DialogService</code> to prompt the user to confirm their intent. The <code>window.confirm</code> is a blocking action that displays a modal dialog and waits for user interaction.</p><code-example path="router/src/app/dialog.service.ts" header="src/app/dialog.service.ts" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/dialog.service.ts</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/dialog.service.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/core/Injectable" class="code-anchor"><span class="typ">Injectable</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">,</span><span class="pln"> of </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'rxjs'</span><span class="pun">;</span><span class="pln">

</span><span class="com">/**
 * Async modal dialog service
 * DialogService makes this app easier to test by faking this service.
 * TODO: better modal implementation that doesn't use window.confirm
 */</span><span class="pln">
</span><span class="lit">@</span><a href="api/core/Injectable" class="code-anchor"><span class="lit">Injectable</span></a><span class="pun">({</span><span class="pln">
  providedIn</span><span class="pun">:</span><span class="pln"> </span><span class="str">'root'</span><span class="pun">,</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">DialogService</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">/**
   * Ask user to confirm an action. `message` explains the action and choices.
   * Returns observable resolving to `true`=confirm or `false`=cancel
   */</span><span class="pln">
  confirm</span><span class="pun">(</span><span class="pln">message</span><span class="pun">?:</span><span class="pln"> </span><span class="kwd">string</span><span class="pun">):</span><span class="pln"> </span><span class="typ">Observable</span><span class="str">&lt;boolean&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> confirmation </span><span class="pun">=</span><span class="pln"> window</span><span class="pun">.</span><span class="pln">confirm</span><span class="pun">(</span><span class="pln">message </span><span class="pun">||</span><span class="pln"> </span><span class="str">'Is it OK?'</span><span class="pun">);</span><span class="pln">

    </span><span class="kwd">return</span><span class="pln"> of</span><span class="pun">(</span><span class="pln">confirmation</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on">它返回<em>observable</em>，当用户最终决定了如何去做时，它就会被<em>解析</em> —— 或者决定放弃更改直接导航离开（<code>true</code>），或者保留未完成的修改，留在危机编辑器中（<code>false</code>）。</p><p translation-origin="off">It returns an <code>Observable</code> that resolves when the user eventually decides what to do: either to discard changes and navigate away (<code>true</code>) or to preserve the pending changes and stay in the crisis editor (<code>false</code>).</p><a id="CanDeactivate"></a><p translation-result="on">生成一个守卫（guard），以检查组件（任意组件均可）中是否存在 <code>canDeactivate()</code> 方法。</p><p translation-origin="off">Generate a guard that checks for the presence of a <code>canDeactivate()</code> method in a component—any component.</p><code-example language="sh" ng-version="12.0.0-rc.2"><div style="display:none"></div><aio-code><pre class="lang-sh prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pln">ng generate guard can</span><span class="pun">-</span><span class="pln">deactivate</span></code>
    </pre></aio-code></code-example><p translation-result="on">把下面的代码粘贴到守卫中。</p><p translation-origin="off">Paste the following code into your guard.</p><code-example path="router/src/app/can-deactivate.guard.ts" header="src/app/can-deactivate.guard.ts" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/can-deactivate.guard.ts</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/can-deactivate.guard.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/core/Injectable" class="code-anchor"><span class="typ">Injectable</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/router/CanDeactivate" class="code-anchor"><span class="typ">CanDeactivate</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Observable</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'rxjs'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">interface</span><span class="pln"> </span><span class="typ">CanComponentDeactivate</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
 canDeactivate</span><span class="pun">:</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="typ">Observable</span><span class="str">&lt;boolean&gt;</span><span class="pln"> </span><span class="pun">|</span><span class="pln"> </span><span class="typ">Promise</span><span class="str">&lt;boolean&gt;</span><span class="pln"> </span><span class="pun">|</span><span class="pln"> </span><span class="kwd">boolean</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="lit">@</span><a href="api/core/Injectable" class="code-anchor"><span class="lit">Injectable</span></a><span class="pun">({</span><span class="pln">
  providedIn</span><span class="pun">:</span><span class="pln"> </span><span class="str">'root'</span><span class="pun">,</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">CanDeactivateGuard</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><a href="api/router/CanDeactivate" class="code-anchor"><span class="typ">CanDeactivate</span></a><span class="pun">&lt;</span><span class="typ">CanComponentDeactivate</span><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  canDeactivate</span><span class="pun">(</span><span class="pln">component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">CanComponentDeactivate</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> component</span><span class="pun">.</span><span class="pln">canDeactivate </span><span class="pun">?</span><span class="pln"> component</span><span class="pun">.</span><span class="pln">canDeactivate</span><span class="pun">()</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on">守卫不需要知道哪个组件有 <code>deactivate</code> 方法，它可以检测 <code>CrisisDetailComponent</code> 组件有没有 <code>canDeactivate()</code> 方法并调用它。守卫在不知道任何组件 <code>deactivate</code> 方法细节的情况下，就能让这个守卫重复使用。</p><p translation-origin="off">While the guard doesn't have to know which component has a deactivate method, it can detect that the <code>CrisisDetailComponent</code> component has the <code>canDeactivate()</code> method and call it. The guard not knowing the details of any component's deactivation method makes the guard reusable.</p><p translation-result="on">另外，你也可以为 <code>CrisisDetailComponent</code> 创建一个特定的 <code><a href="api/router/CanDeactivate" class="code-anchor">CanDeactivate</a></code> 守卫。 在需要访问外部信息时，<code>canDeactivate()</code> 方法为你提供了组件、<code><a href="api/router/ActivatedRoute" class="code-anchor">ActivatedRoute</a></code> 和 <code><a href="api/router/RouterStateSnapshot" class="code-anchor">RouterStateSnapshot</a></code> 的当前实例。 如果只想为这个组件使用该守卫，并且需要获取该组件属性或确认路由器是否允许从该组件导航出去时，这会非常有用。</p><p translation-origin="off">Alternatively, you could make a component-specific <code><a href="api/router/CanDeactivate" class="code-anchor">CanDeactivate</a></code> guard for the <code>CrisisDetailComponent</code>. The <code>canDeactivate()</code> method provides you with the current instance of the <code>component</code>, the current <code><a href="api/router/ActivatedRoute" class="code-anchor">ActivatedRoute</a></code>, and <code><a href="api/router/RouterStateSnapshot" class="code-anchor">RouterStateSnapshot</a></code> in case you needed to access some external information. This would be useful if you only wanted to use this guard for this component and needed to get the component's properties or confirm whether the router should allow navigation away from it.</p><code-example path="router/src/app/can-deactivate.guard.1.ts" header="src/app/can-deactivate.guard.ts (component-specific)" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/can-deactivate.guard.ts (component-specific)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/can-deactivate.guard.ts (component-specific)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/core/Injectable" class="code-anchor"><span class="typ">Injectable</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Observable</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'rxjs'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/router/CanDeactivate" class="code-anchor"><span class="typ">CanDeactivate</span></a><span class="pun">,</span><span class="pln">
         </span><a href="api/router/ActivatedRouteSnapshot" class="code-anchor"><span class="typ">ActivatedRouteSnapshot</span></a><span class="pun">,</span><span class="pln">
         </span><a href="api/router/RouterStateSnapshot" class="code-anchor"><span class="typ">RouterStateSnapshot</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CrisisDetailComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./crisis-center/crisis-detail/crisis-detail.component'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="api/core/Injectable" class="code-anchor"><span class="lit">Injectable</span></a><span class="pun">({</span><span class="pln">
  providedIn</span><span class="pun">:</span><span class="pln"> </span><span class="str">'root'</span><span class="pun">,</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">CanDeactivateGuard</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><a href="api/router/CanDeactivate" class="code-anchor"><span class="typ">CanDeactivate</span></a><span class="pun">&lt;</span><span class="typ">CrisisDetailComponent</span><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

  canDeactivate</span><span class="pun">(</span><span class="pln">
    component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">CrisisDetailComponent</span><span class="pun">,</span><span class="pln">
    route</span><span class="pun">:</span><span class="pln"> </span><a href="api/router/ActivatedRouteSnapshot" class="code-anchor"><span class="typ">ActivatedRouteSnapshot</span></a><span class="pun">,</span><span class="pln">
    state</span><span class="pun">:</span><span class="pln"> </span><a href="api/router/RouterStateSnapshot" class="code-anchor"><span class="typ">RouterStateSnapshot</span></a><span class="pln">
  </span><span class="pun">):</span><span class="pln"> </span><span class="typ">Observable</span><span class="str">&lt;boolean&gt;</span><span class="pln"> </span><span class="pun">|</span><span class="pln"> </span><span class="kwd">boolean</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="com">// Get the Crisis Center ID</span><span class="pln">
    console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">route</span><span class="pun">.</span><span class="pln">paramMap</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="str">'id'</span><span class="pun">));</span><span class="pln">

    </span><span class="com">// Get the current URL</span><span class="pln">
    console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">state</span><span class="pun">.</span><span class="pln">url</span><span class="pun">);</span><span class="pln">

    </span><span class="com">// Allow synchronous navigation (`true`) if no crisis or the crisis is unchanged</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">component</span><span class="pun">.</span><span class="pln">crisis </span><span class="pun">||</span><span class="pln"> component</span><span class="pun">.</span><span class="pln">crisis</span><span class="pun">.</span><span class="pln">name </span><span class="pun">===</span><span class="pln"> component</span><span class="pun">.</span><span class="pln">editName</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="com">// Otherwise ask the user with the dialog service and return its</span><span class="pln">
    </span><span class="com">// observable which resolves to true or false when the user decides</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> component</span><span class="pun">.</span><span class="pln">dialogService</span><span class="pun">.</span><span class="pln">confirm</span><span class="pun">(</span><span class="str">'Discard changes?'</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on">看看 <code>CrisisDetailComponent</code> 组件，它已经实现了对未保存的更改进行确认的工作流。</p><p translation-origin="off">Looking back at the <code>CrisisDetailComponent</code>, it implements the confirmation workflow for unsaved changes.</p><code-example path="router/src/app/crisis-center/crisis-detail/crisis-detail.component.ts" header="src/app/crisis-center/crisis-detail/crisis-detail.component.ts (excerpt)" region="canDeactivate" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/crisis-center/crisis-detail/crisis-detail.component.ts (excerpt)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/crisis-center/crisis-detail/crisis-detail.component.ts (excerpt)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pln">canDeactivate</span><span class="pun">():</span><span class="pln"> </span><span class="typ">Observable</span><span class="str">&lt;boolean&gt;</span><span class="pln"> </span><span class="pun">|</span><span class="pln"> </span><span class="kwd">boolean</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">// Allow synchronous navigation (`true`) if no crisis or the crisis is unchanged</span><span class="pln">
  </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">crisis </span><span class="pun">||</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">crisis</span><span class="pun">.</span><span class="pln">name </span><span class="pun">===</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">editName</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
  </span><span class="com">// Otherwise ask the user with the dialog service and return its</span><span class="pln">
  </span><span class="com">// observable which resolves to true or false when the user decides</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">dialogService</span><span class="pun">.</span><span class="pln">confirm</span><span class="pun">(</span><span class="str">'Discard changes?'</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on">注意，<code>canDeactivate()</code> 方法可以同步返回;如果没有危机，或者没有待处理的更改，它会立即返回 <code>true</code>。但它也能返回一个 <code>Promise</code> 或一个 <code>Observable</code>，路由器也会等待它解析为真值（导航）或伪造（停留在当前路由上）。</p><p translation-origin="off">Notice that the <code>canDeactivate()</code> method can return synchronously; it returns <code>true</code> immediately if there is no crisis or there are no pending changes. But it can also return a <code>Promise</code> or an <code>Observable</code> and the router will wait for that to resolve to truthy (navigate) or falsy (stay on the current route).</p><p translation-result="on">往 <code>crisis-center.routing.module.ts</code> 的危机详情路由中用 <code>canDeactivate</code> 数组添加一个 <code>Guard</code>（守卫）。</p><p translation-origin="off">Add the <code>Guard</code> to the crisis detail route in <code>crisis-center-routing.module.ts</code> using the <code>canDeactivate</code> array property.</p><code-example path="router/src/app/crisis-center/crisis-center-routing.module.3.ts" header="src/app/crisis-center/crisis-center-routing.module.ts (can deactivate guard)" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/crisis-center/crisis-center-routing.module.ts (can deactivate guard)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/crisis-center/crisis-center-routing.module.ts (can deactivate guard)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/core/NgModule" class="code-anchor"><span class="typ">NgModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/router/RouterModule" class="code-anchor"><span class="typ">RouterModule</span></a><span class="pun">,</span><span class="pln"> </span><a href="api/router/Routes-0" class="code-anchor"><span class="typ">Routes</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CrisisCenterHomeComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./crisis-center-home/crisis-center-home.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CrisisListComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./crisis-list/crisis-list.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CrisisCenterComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./crisis-center/crisis-center.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CrisisDetailComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./crisis-detail/crisis-detail.component'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CanDeactivateGuard</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'../can-deactivate.guard'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">const</span><span class="pln"> crisisCenterRoutes</span><span class="pun">:</span><span class="pln"> </span><a href="api/router/Routes-0" class="code-anchor"><span class="typ">Routes</span></a><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
  </span><span class="pun">{</span><span class="pln">
    path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'crisis-center'</span><span class="pun">,</span><span class="pln">
    component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">CrisisCenterComponent</span><span class="pun">,</span><span class="pln">
    children</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
      </span><span class="pun">{</span><span class="pln">
        path</span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln">
        component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">CrisisListComponent</span><span class="pun">,</span><span class="pln">
        children</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
          </span><span class="pun">{</span><span class="pln">
            path</span><span class="pun">:</span><span class="pln"> </span><span class="str">':id'</span><span class="pun">,</span><span class="pln">
            component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">CrisisDetailComponent</span><span class="pun">,</span><span class="pln">
            canDeactivate</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="typ">CanDeactivateGuard</span><span class="pun">]</span><span class="pln">
          </span><span class="pun">},</span><span class="pln">
          </span><span class="pun">{</span><span class="pln">
            path</span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln">
            component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">CrisisCenterHomeComponent</span><span class="pln">
          </span><span class="pun">}</span><span class="pln">
        </span><span class="pun">]</span><span class="pln">
      </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">]</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">];</span><span class="pln">

</span><span class="lit">@</span><a href="api/core/NgModule" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">RouterModule</span><span class="pun">.</span><span class="pln">forChild</span><span class="pun">(</span><span class="pln">crisisCenterRoutes</span><span class="pun">)</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  exports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="api/router/RouterModule" class="code-anchor"><span class="typ">RouterModule</span></a><span class="pln">
  </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">CrisisCenterRoutingModule</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on">现在，你已经给了用户一个能保护未保存更改的安全守卫。</p><p translation-origin="off">Now you have given the user a safeguard against unsaved changes.</p><a id="Resolve"></a> <a id="resolve-guard"></a><h3 id="resolve-pre-fetching-component-data" translation-result="on"><em>Resolve</em>: 预先获取组件数据<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#resolve-pre-fetching-component-data"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="resolve-pre-fetching-component-data"><em>Resolve</em>: pre-fetching component data<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#resolve-pre-fetching-component-data"><i class="material-icons">link</i></a></h3><p translation-result="on">在 <code>Hero Detail</code> 和 <code>Crisis Detail</code> 中，它们等待路由读取完对应的英雄和危机。</p><p translation-origin="off">In the <code>Hero Detail</code> and <code>Crisis Detail</code>, the app waited until the route was activated to fetch the respective hero or crisis.</p><p translation-result="on">如果你在使用真实 api，很有可能数据返回有延迟，导致无法即时显示。 在这种情况下，直到数据到达前，显示一个空的组件不是最好的用户体验。</p><p translation-origin="off">If you were using a real world API, there might be some delay before the data to display is returned from the server. You don't want to display a blank component while waiting for the data.</p><p translation-result="on">最好使用解析器预先从服务器上获取完数据，这样在路由激活的那一刻数据就准备好了。 还要在路由到此组件之前处理好错误。 但当某个 <code>id</code> 无法对应到一个危机详情时，就没办法处理它。 这时最好把用户带回到“危机列表”中，那里显示了所有有效的“危机”。</p><p translation-origin="off">To improve this behavior, you can pre-fetch data from the server using a resolver so it's ready the moment the route is activated. This also allows you to handle errors before routing to the component. There's no point in navigating to a crisis detail for an <code>id</code> that doesn't have a record. It'd be better to send the user back to the <code>Crisis List</code> that shows only valid crisis centers.</p><p translation-result="on">总之，你希望的是只有当所有必要数据都已经拿到之后，才渲染这个路由组件。</p><p translation-origin="off">In summary, you want to delay rendering the routed component until all necessary data has been fetched.</p><a id="fetch-before-navigating"></a><h4 id="fetch-data-before-navigating" translation-result="on">导航前预先加载路由信息<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#fetch-data-before-navigating"><i class="material-icons">link</i></a></h4><h4 translation-origin="off" id="fetch-data-before-navigating">Fetch data before navigating<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#fetch-data-before-navigating"><i class="material-icons">link</i></a></h4><p translation-result="on">目前，<code>CrisisDetailComponent</code> 会接收选中的危机。 如果该危机没有找到，路由器就会导航回危机列表视图。</p><p translation-origin="off">At the moment, the <code>CrisisDetailComponent</code> retrieves the selected crisis. If the crisis is not found, the router navigates back to the crisis list view.</p><p translation-result="on">如果能在该路由将要激活时提前处理了这个问题，那么用户体验会更好。 <code>CrisisDetailResolver</code> 服务可以接收一个 <code>Crisis</code>，而如果这个 <code>Crisis</code> 不存在，就会在激活该路由并创建 <code>CrisisDetailComponent</code> 之前先行离开。</p><p translation-origin="off">The experience might be better if all of this were handled first, before the route is activated. A <code>CrisisDetailResolver</code> service could retrieve a <code>Crisis</code> or navigate away, if the <code>Crisis</code> did not exist, <em>before</em> activating the route and creating the <code>CrisisDetailComponent</code>.</p><p translation-result="on">在 <code>Crisis Center</code> 特性区生成一个 <code>CrisisDetailResolver</code> 服务文件。</p><p translation-origin="off">Generate a <code>CrisisDetailResolver</code> service file within the <code>Crisis Center</code> feature area.</p><code-example language="sh" ng-version="12.0.0-rc.2"><div style="display:none"></div><aio-code><pre class="lang-sh prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pln">ng generate service crisis</span><span class="pun">-</span><span class="pln">center</span><span class="pun">/</span><span class="pln">crisis</span><span class="pun">-</span><span class="pln">detail</span><span class="pun">-</span><span class="pln">resolver</span></code>
    </pre></aio-code></code-example><code-example path="router/src/app/crisis-center/crisis-detail-resolver.service.1.ts" header="src/app/crisis-center/crisis-detail-resolver.service.ts (generated)" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/crisis-center/crisis-detail-resolver.service.ts (generated)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/crisis-center/crisis-detail-resolver.service.ts (generated)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/core/Injectable" class="code-anchor"><span class="typ">Injectable</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="api/core/Injectable" class="code-anchor"><span class="lit">Injectable</span></a><span class="pun">({</span><span class="pln">
  providedIn</span><span class="pun">:</span><span class="pln"> </span><span class="str">'root'</span><span class="pun">,</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">CrisisDetailResolverService</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

  </span><span class="kwd">constructor</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span><span class="pln">

</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on">把 <code>CrisisDetailComponent.ngOnInit()</code> 中与危机检索有关的逻辑移到 <code>CrisisDetailResolverService</code> 中。 导入 <code>Crisis</code> 模型、<code>CrisisService</code> 和 <code><a href="api/router/Router" class="code-anchor">Router</a></code> 以便让你可以在找不到指定的危机时导航到别处。</p><p translation-origin="off">Move the relevant parts of the crisis retrieval logic in <code>CrisisDetailComponent.ngOnInit()</code> into the <code>CrisisDetailResolverService</code>. Import the <code>Crisis</code> model, <code>CrisisService</code>, and the <code><a href="api/router/Router" class="code-anchor">Router</a></code> so you can navigate elsewhere if you can't fetch the crisis.</p><p translation-result="on">为了更明确一点，可以实现一个带有 <code>Crisis</code> 类型的 <code><a href="api/router/Resolve" class="code-anchor">Resolve</a></code> 接口。</p><p translation-origin="off">Be explicit and implement the <code><a href="api/router/Resolve" class="code-anchor">Resolve</a></code> interface with a type of <code>Crisis</code>.</p><p translation-result="on">注入 <code>CrisisService</code> 和 <code><a href="api/router/Router" class="code-anchor">Router</a></code>，并实现 <code>resolve()</code> 方法。 该方法可以返回一个 <code>Promise</code>、一个 <code>Observable</code> 来支持异步方式，或者直接返回一个值来支持同步方式。</p><p translation-origin="off">Inject the <code>CrisisService</code> and <code><a href="api/router/Router" class="code-anchor">Router</a></code> and implement the <code>resolve()</code> method. That method could return a <code>Promise</code>, an <code>Observable</code>, or a synchronous return value.</p><p translation-result="on"><code>CrisisService.getCrisis()</code> 方法返回一个可观察对象，以防止在数据获取完之前加载本路由。 <code><a href="api/router/Router" class="code-anchor">Router</a></code> 守卫要求这个可观察对象必须可结束（<code>complete</code>），也就是说它已经发出了所有值。 你可以为 <code>take</code> 操作符传入一个参数 <code>1</code>，以确保这个可观察对象会在从 <code>getCrisis</code> 方法所返回的可观察对象中取到第一个值之后就会结束。</p><p translation-origin="off">The <code>CrisisService.getCrisis()</code> method returns an observable in order to prevent the route from loading until the data is fetched. The <code><a href="api/router/Router" class="code-anchor">Router</a></code> guards require an observable to <code>complete</code>, which means it has emitted all of its values. You use the <code>take</code> operator with an argument of <code>1</code> to ensure that the <code>Observable</code> completes after retrieving the first value from the Observable returned by the <code>getCrisis()</code> method.</p><p translation-result="on">如果它没有返回有效的 <code>Crisis</code>，就会返回一个 <code>Observable</code>，以取消以前到 <code>CrisisDetailComponent</code> 的在途导航，并把用户导航回 <code>CrisisListComponent</code>。修改后的 <code>resolver</code> 服务是这样的：</p><p translation-origin="off">If it doesn't return a valid <code>Crisis</code>, then return an empty <code>Observable</code>, cancel the previous in-progress navigation to the <code>CrisisDetailComponent</code>, and navigate the user back to the <code>CrisisListComponent</code>. The updated resolver service looks like this:</p><code-example path="router/src/app/crisis-center/crisis-detail-resolver.service.ts" header="src/app/crisis-center/crisis-detail-resolver.service.ts" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/crisis-center/crisis-detail-resolver.service.ts</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/crisis-center/crisis-detail-resolver.service.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/core/Injectable" class="code-anchor"><span class="typ">Injectable</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><a href="api/router/Router" class="code-anchor"><span class="typ">Router</span></a><span class="pun">,</span><span class="pln"> </span><a href="api/router/Resolve" class="code-anchor"><span class="typ">Resolve</span></a><span class="pun">,</span><span class="pln">
  </span><a href="api/router/RouterStateSnapshot" class="code-anchor"><span class="typ">RouterStateSnapshot</span></a><span class="pun">,</span><span class="pln">
  </span><a href="api/router/ActivatedRouteSnapshot" class="code-anchor"><span class="typ">ActivatedRouteSnapshot</span></a><span class="pln">
</span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">,</span><span class="pln"> of</span><span class="pun">,</span><span class="pln"> EMPTY </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'rxjs'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> mergeMap</span><span class="pun">,</span><span class="pln"> take </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'rxjs/operators'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CrisisService</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./crisis.service'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Crisis</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./crisis'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="api/core/Injectable" class="code-anchor"><span class="lit">Injectable</span></a><span class="pun">({</span><span class="pln">
  providedIn</span><span class="pun">:</span><span class="pln"> </span><span class="str">'root'</span><span class="pun">,</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">CrisisDetailResolverService</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><a href="api/router/Resolve" class="code-anchor"><span class="typ">Resolve</span></a><span class="pun">&lt;</span><span class="typ">Crisis</span><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">constructor</span><span class="pun">(</span><span class="kwd">private</span><span class="pln"> cs</span><span class="pun">:</span><span class="pln"> </span><span class="typ">CrisisService</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">private</span><span class="pln"> router</span><span class="pun">:</span><span class="pln"> </span><a href="api/router/Router" class="code-anchor"><span class="typ">Router</span></a><span class="pun">)</span><span class="pln"> </span><span class="pun">{}</span><span class="pln">

  resolve</span><span class="pun">(</span><span class="pln">route</span><span class="pun">:</span><span class="pln"> </span><a href="api/router/ActivatedRouteSnapshot" class="code-anchor"><span class="typ">ActivatedRouteSnapshot</span></a><span class="pun">,</span><span class="pln"> state</span><span class="pun">:</span><span class="pln"> </span><a href="api/router/RouterStateSnapshot" class="code-anchor"><span class="typ">RouterStateSnapshot</span></a><span class="pun">):</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">&lt;</span><span class="typ">Crisis</span><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">|</span><span class="pln"> </span><span class="typ">Observable</span><span class="str">&lt;never&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> id </span><span class="pun">=</span><span class="pln"> route</span><span class="pun">.</span><span class="pln">paramMap</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="str">'id'</span><span class="pun">);</span><span class="pln">

    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">cs</span><span class="pun">.</span><span class="pln">getCrisis</span><span class="pun">(</span><span class="pln">id</span><span class="pun">).</span><span class="pln">pipe</span><span class="pun">(</span><span class="pln">
      take</span><span class="pun">(</span><span class="lit">1</span><span class="pun">),</span><span class="pln">
      mergeMap</span><span class="pun">(</span><span class="pln">crisis </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">crisis</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
          </span><span class="kwd">return</span><span class="pln"> of</span><span class="pun">(</span><span class="pln">crisis</span><span class="pun">);</span><span class="pln">
        </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="com">// id not found</span><span class="pln">
          </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">router</span><span class="pun">.</span><span class="pln">navigate</span><span class="pun">([</span><span class="str">'/crisis-center'</span><span class="pun">]);</span><span class="pln">
          </span><span class="kwd">return</span><span class="pln"> EMPTY</span><span class="pun">;</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
      </span><span class="pun">})</span><span class="pln">
    </span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on">把这个解析器（resolver）导入到 <code>crisis-center-routing.module.ts</code> 中，并往 <code>CrisisDetailComponent</code> 的路由配置中添加一个 <code>resolve</code> 对象。</p><p translation-origin="off">Import this resolver in the <code>crisis-center-routing.module.ts</code> and add a <code>resolve</code> object to the <code>CrisisDetailComponent</code> route configuration.</p><code-example path="router/src/app/crisis-center/crisis-center-routing.module.4.ts" header="src/app/crisis-center/crisis-center-routing.module.ts (resolver)" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/crisis-center/crisis-center-routing.module.ts (resolver)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/crisis-center/crisis-center-routing.module.ts (resolver)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/core/NgModule" class="code-anchor"><span class="typ">NgModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/router/RouterModule" class="code-anchor"><span class="typ">RouterModule</span></a><span class="pun">,</span><span class="pln"> </span><a href="api/router/Routes-0" class="code-anchor"><span class="typ">Routes</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CrisisCenterHomeComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./crisis-center-home/crisis-center-home.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CrisisListComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./crisis-list/crisis-list.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CrisisCenterComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./crisis-center/crisis-center.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CrisisDetailComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./crisis-detail/crisis-detail.component'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CanDeactivateGuard</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'../can-deactivate.guard'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CrisisDetailResolverService</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./crisis-detail-resolver.service'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">const</span><span class="pln"> crisisCenterRoutes</span><span class="pun">:</span><span class="pln"> </span><a href="api/router/Routes-0" class="code-anchor"><span class="typ">Routes</span></a><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
  </span><span class="pun">{</span><span class="pln">
    path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'crisis-center'</span><span class="pun">,</span><span class="pln">
    component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">CrisisCenterComponent</span><span class="pun">,</span><span class="pln">
    children</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
      </span><span class="pun">{</span><span class="pln">
        path</span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln">
        component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">CrisisListComponent</span><span class="pun">,</span><span class="pln">
        children</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
          </span><span class="pun">{</span><span class="pln">
            path</span><span class="pun">:</span><span class="pln"> </span><span class="str">':id'</span><span class="pun">,</span><span class="pln">
            component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">CrisisDetailComponent</span><span class="pun">,</span><span class="pln">
            canDeactivate</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="typ">CanDeactivateGuard</span><span class="pun">],</span><span class="pln">
            resolve</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
              crisis</span><span class="pun">:</span><span class="pln"> </span><span class="typ">CrisisDetailResolverService</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
          </span><span class="pun">},</span><span class="pln">
          </span><span class="pun">{</span><span class="pln">
            path</span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln">
            component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">CrisisCenterHomeComponent</span><span class="pln">
          </span><span class="pun">}</span><span class="pln">
        </span><span class="pun">]</span><span class="pln">
      </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">]</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">];</span><span class="pln">

</span><span class="lit">@</span><a href="api/core/NgModule" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">RouterModule</span><span class="pun">.</span><span class="pln">forChild</span><span class="pun">(</span><span class="pln">crisisCenterRoutes</span><span class="pun">)</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  exports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="api/router/RouterModule" class="code-anchor"><span class="typ">RouterModule</span></a><span class="pln">
  </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">CrisisCenterRoutingModule</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on"><code>CrisisDetailComponent</code> 不应该再去获取这个危机的详情。 你只要重新配置路由，就可以修改从哪里获取危机的详情。 把 <code>CrisisDetailComponent</code> 改成从 <code>ActivatedRoute.data.crisis</code> 属性中获取危机详情，这正是你重新配置路由的恰当时机。</p><p translation-origin="off">The <code>CrisisDetailComponent</code> should no longer fetch the crisis. When you re-configured the route, you changed where the crisis is. Update the <code>CrisisDetailComponent</code> to get the crisis from the <code>ActivatedRoute.data.crisis</code> property instead;</p><code-example path="router/src/app/crisis-center/crisis-detail/crisis-detail.component.ts" header="src/app/crisis-center/crisis-detail/crisis-detail.component.ts (ngOnInit v2)" region="ngOnInit" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/crisis-center/crisis-detail/crisis-detail.component.ts (ngOnInit v2)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/crisis-center/crisis-detail/crisis-detail.component.ts (ngOnInit v2)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pln">ngOnInit</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">route</span><span class="pun">.</span><span class="pln">data
    </span><span class="pun">.</span><span class="pln">subscribe</span><span class="pun">((</span><span class="pln">data</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> crisis</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Crisis</span><span class="pln"> </span><span class="pun">})</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">editName </span><span class="pun">=</span><span class="pln"> data</span><span class="pun">.</span><span class="pln">crisis</span><span class="pun">.</span><span class="pln">name</span><span class="pun">;</span><span class="pln">
      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">crisis </span><span class="pun">=</span><span class="pln"> data</span><span class="pun">.</span><span class="pln">crisis</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">});</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on">注意以下三个要点：</p><p translation-origin="off">Note the following three important points:</p><ol><li><p translation-result="on">路由器的这个 <code><a href="api/router/Resolve" class="code-anchor">Resolve</a></code> 接口是可选的。<code>CrisisDetailResolverService</code> 没有继承自某个基类。路由器只要找到了这个方法，就会调用它。</p><p translation-origin="off">The router's <code><a href="api/router/Resolve" class="code-anchor">Resolve</a></code> interface is optional. The <code>CrisisDetailResolverService</code> doesn't inherit from a base class. The router looks for that method and calls it if found.</p></li><li><p translation-result="on">路由器会在用户可以导航的任何情况下调用该解析器，这样你就不用针对每个用例都编写代码了。</p><p translation-origin="off">The router calls the resolver in any case where the user could navigate away so you don't have to code for each use case.</p></li><li><p translation-result="on">在任何一个解析器中返回空的 <code>Observable</code> 就会取消导航。</p><p translation-origin="off">Returning an empty <code>Observable</code> in at least one resolver will cancel navigation.</p></li></ol><p translation-result="on">与里程碑相关的危机中心代码如下。</p><p translation-origin="off">The relevant Crisis Center code for this milestone follows.</p><code-tabs ng-version="12.0.0-rc.2"><div style="display:none"></div><mat-card class="mat-card mat-focus-indicator"><mat-tab-group class="mat-tab-group code-tab-group mat-primary"><mat-tab-header class="mat-tab-header mat-tab-header-pagination-controls-enabled"><div aria-hidden="true" mat-ripple="" class="mat-ripple mat-tab-header-pagination mat-tab-header-pagination-before mat-elevation-z4 mat-tab-header-pagination-disabled"><div class="mat-tab-header-pagination-chevron"></div></div><div class="mat-tab-label-container"><div role="tablist" class="mat-tab-list" style="transform:translateX(0)"><div class="mat-tab-labels"><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator mat-tab-label-active ng-star-inserted" id="mat-tab-label-7-0" tabindex="0" aria-posinset="1" aria-setsize="11" aria-controls="mat-tab-content-7-0" aria-selected="true" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">app.component.html</span></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-7-1" tabindex="-1" aria-posinset="2" aria-setsize="11" aria-controls="mat-tab-content-7-1" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">crisis-center-home.component.html</span></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-7-2" tabindex="-1" aria-posinset="3" aria-setsize="11" aria-controls="mat-tab-content-7-2" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">crisis-center.component.html</span></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-7-3" tabindex="-1" aria-posinset="4" aria-setsize="11" aria-controls="mat-tab-content-7-3" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">crisis-center-routing.module.ts</span></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-7-4" tabindex="-1" aria-posinset="5" aria-setsize="11" aria-controls="mat-tab-content-7-4" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">crisis-list.component.html</span></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-7-5" tabindex="-1" aria-posinset="6" aria-setsize="11" aria-controls="mat-tab-content-7-5" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">crisis-list.component.ts</span></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-7-6" tabindex="-1" aria-posinset="7" aria-setsize="11" aria-controls="mat-tab-content-7-6" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">crisis-detail.component.html</span></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-7-7" tabindex="-1" aria-posinset="8" aria-setsize="11" aria-controls="mat-tab-content-7-7" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">crisis-detail.component.ts</span></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-7-8" tabindex="-1" aria-posinset="9" aria-setsize="11" aria-controls="mat-tab-content-7-8" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">crisis-detail-resolver.service.ts</span></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-7-9" tabindex="-1" aria-posinset="10" aria-setsize="11" aria-controls="mat-tab-content-7-9" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">crisis.service.ts</span></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-7-10" tabindex="-1" aria-posinset="11" aria-setsize="11" aria-controls="mat-tab-content-7-10" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">dialog.service.ts</span></div></div></div><mat-ink-bar class="mat-ink-bar" style="visibility:visible;left:0;width:181px"></mat-ink-bar></div></div><div aria-hidden="true" mat-ripple="" class="mat-ripple mat-tab-header-pagination mat-tab-header-pagination-after mat-elevation-z4"><div class="mat-tab-header-pagination-chevron"></div></div></mat-tab-header><div class="mat-tab-body-wrapper"><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c48-38 mat-tab-body-active ng-star-inserted" id="mat-tab-content-7-0" aria-labelledby="mat-tab-label-7-0"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c48-38 ng-trigger ng-trigger-translateTab" style="transform:none"><aio-code class="ng-star-inserted" style=""><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app.component.html">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="tag">&lt;h1</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"title"</span><span class="tag">&gt;</span><span class="pln">Angular </span><a href="api/router/Router" class="code-anchor"><span class="pln">Router</span></a><span class="tag">&lt;/h1&gt;</span><span class="pln">
</span><span class="tag">&lt;nav&gt;</span><span class="pln">
  </span><span class="tag">&lt;a</span><span class="pln"> </span><a href="api/router/RouterLink" class="code-anchor"><span class="atn">routerLink</span></a><span class="pun">=</span><span class="atv">"/crisis-center"</span><span class="pln"> </span><a href="api/router/RouterLinkActive" class="code-anchor"><span class="atn">routerLinkActive</span></a><span class="pun">=</span><span class="atv">"active"</span><span class="tag">&gt;</span><span class="pln">Crisis Center</span><span class="tag">&lt;/a&gt;</span><span class="pln">
  </span><span class="tag">&lt;a</span><span class="pln"> </span><a href="api/router/RouterLink" class="code-anchor"><span class="atn">routerLink</span></a><span class="pun">=</span><span class="atv">"/superheroes"</span><span class="pln"> </span><a href="api/router/RouterLinkActive" class="code-anchor"><span class="atn">routerLinkActive</span></a><span class="pun">=</span><span class="atv">"active"</span><span class="tag">&gt;</span><span class="pln">Heroes</span><span class="tag">&lt;/a&gt;</span><span class="pln">
  </span><span class="tag">&lt;a</span><span class="pln"> </span><a href="api/router/RouterLink" class="code-anchor"><span class="atn">routerLink</span></a><span class="pun">=</span><span class="atv">"/admin"</span><span class="pln"> </span><a href="api/router/RouterLinkActive" class="code-anchor"><span class="atn">routerLinkActive</span></a><span class="pun">=</span><span class="atv">"active"</span><span class="tag">&gt;</span><span class="pln">Admin</span><span class="tag">&lt;/a&gt;</span><span class="pln">
  </span><span class="tag">&lt;a</span><span class="pln"> </span><a href="api/router/RouterLink" class="code-anchor"><span class="atn">routerLink</span></a><span class="pun">=</span><span class="atv">"/login"</span><span class="pln"> </span><a href="api/router/RouterLinkActive" class="code-anchor"><span class="atn">routerLinkActive</span></a><span class="pun">=</span><span class="atv">"active"</span><span class="tag">&gt;</span><span class="pln">Login</span><span class="tag">&lt;/a&gt;</span><span class="pln">
  </span><span class="tag">&lt;a</span><span class="pln"> [</span><a href="api/router/RouterLink" class="code-anchor"><span class="atn">routerLink</span></a><span class="pln">]</span><span class="pun">=</span><span class="atv">"[{ outlets: { popup: ['compose'] } }]"</span><span class="tag">&gt;</span><span class="pln">Contact</span><span class="tag">&lt;/a&gt;</span><span class="pln">
</span><span class="tag">&lt;/nav&gt;</span><span class="pln">
</span><span class="tag">&lt;div</span><span class="pln"> [@</span><span class="atn">routeAnimation</span><span class="pln">]</span><span class="pun">=</span><span class="atv">"getAnimationData(routerOutlet)"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;</span><a href="api/router/RouterOutlet" class="code-anchor"><span class="tag">router-outlet</span></a><span class="pln"> #</span><span class="atn">routerOutlet</span><span class="pun">=</span><span class="atv">"outlet"</span><span class="tag">&gt;&lt;/</span><a href="api/router/RouterOutlet" class="code-anchor"><span class="tag">router-outlet</span></a><span class="tag">&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span><span class="pln">
</span><span class="tag">&lt;</span><a href="api/router/RouterOutlet" class="code-anchor"><span class="tag">router-outlet</span></a><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"popup"</span><span class="tag">&gt;&lt;/</span><a href="api/router/RouterOutlet" class="code-anchor"><span class="tag">router-outlet</span></a><span class="tag">&gt;</span></code>
    </pre></aio-code></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c48-39 ng-star-inserted" id="mat-tab-content-7-1" aria-labelledby="mat-tab-label-7-1"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c48-39 ng-trigger ng-trigger-translateTab" style="transform:translate3d(100%,0,0);min-height:1px"></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c48-40 ng-star-inserted" id="mat-tab-content-7-2" aria-labelledby="mat-tab-label-7-2"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c48-40 ng-trigger ng-trigger-translateTab" style="transform:translate3d(100%,0,0);min-height:1px"></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c48-41 ng-star-inserted" id="mat-tab-content-7-3" aria-labelledby="mat-tab-label-7-3"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c48-41 ng-trigger ng-trigger-translateTab" style="transform:translate3d(100%,0,0);min-height:1px"></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c48-42 ng-star-inserted" id="mat-tab-content-7-4" aria-labelledby="mat-tab-label-7-4"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c48-42 ng-trigger ng-trigger-translateTab" style="transform:translate3d(100%,0,0);min-height:1px"></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c48-43 ng-star-inserted" id="mat-tab-content-7-5" aria-labelledby="mat-tab-label-7-5"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c48-43 ng-trigger ng-trigger-translateTab" style="transform:translate3d(100%,0,0);min-height:1px"></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c48-44 ng-star-inserted" id="mat-tab-content-7-6" aria-labelledby="mat-tab-label-7-6"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c48-44 ng-trigger ng-trigger-translateTab" style="transform:translate3d(100%,0,0);min-height:1px"></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c48-45 ng-star-inserted" id="mat-tab-content-7-7" aria-labelledby="mat-tab-label-7-7"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c48-45 ng-trigger ng-trigger-translateTab" style="transform:translate3d(100%,0,0);min-height:1px"></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c48-46 ng-star-inserted" id="mat-tab-content-7-8" aria-labelledby="mat-tab-label-7-8"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c48-46 ng-trigger ng-trigger-translateTab" style="transform:translate3d(100%,0,0);min-height:1px"></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c48-47 ng-star-inserted" id="mat-tab-content-7-9" aria-labelledby="mat-tab-label-7-9"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c48-47 ng-trigger ng-trigger-translateTab" style="transform:translate3d(100%,0,0);min-height:1px"></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c48-48 ng-star-inserted" id="mat-tab-content-7-10" aria-labelledby="mat-tab-label-7-10"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c48-48 ng-trigger ng-trigger-translateTab" style="transform:translate3d(100%,0,0);min-height:1px"></div></mat-tab-body></div></mat-tab-group></mat-card></code-tabs><p translation-result="on">路由守卫</p><p translation-origin="off">Guards</p><code-tabs ng-version="12.0.0-rc.2"><div style="display:none"></div><mat-card class="mat-card mat-focus-indicator"><mat-tab-group class="mat-tab-group code-tab-group mat-primary"><mat-tab-header class="mat-tab-header"><div aria-hidden="true" mat-ripple="" class="mat-ripple mat-tab-header-pagination mat-tab-header-pagination-before mat-elevation-z4 mat-tab-header-pagination-disabled"><div class="mat-tab-header-pagination-chevron"></div></div><div class="mat-tab-label-container"><div role="tablist" class="mat-tab-list" style="transform:translateX(0)"><div class="mat-tab-labels"><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator mat-tab-label-active ng-star-inserted" id="mat-tab-label-8-0" tabindex="0" aria-posinset="1" aria-setsize="2" aria-controls="mat-tab-content-8-0" aria-selected="true" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">auth.guard.ts</span></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-8-1" tabindex="-1" aria-posinset="2" aria-setsize="2" aria-controls="mat-tab-content-8-1" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">can-deactivate.guard.ts</span></div></div></div><mat-ink-bar class="mat-ink-bar" style="visibility:visible;left:0;width:160px"></mat-ink-bar></div></div><div aria-hidden="true" mat-ripple="" class="mat-ripple mat-tab-header-pagination mat-tab-header-pagination-after mat-elevation-z4 mat-tab-header-pagination-disabled"><div class="mat-tab-header-pagination-chevron"></div></div></mat-tab-header><div class="mat-tab-body-wrapper"><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c48-49 mat-tab-body-active ng-star-inserted" id="mat-tab-content-8-0" aria-labelledby="mat-tab-label-8-0"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c48-49 ng-trigger ng-trigger-translateTab" style="transform:none"><aio-code class="ng-star-inserted" style=""><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from auth.guard.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/core/Injectable" class="code-anchor"><span class="typ">Injectable</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><a href="api/router/CanActivate" class="code-anchor"><span class="typ">CanActivate</span></a><span class="pun">,</span><span class="pln"> </span><a href="api/router/Router" class="code-anchor"><span class="typ">Router</span></a><span class="pun">,</span><span class="pln">
  </span><a href="api/router/ActivatedRouteSnapshot" class="code-anchor"><span class="typ">ActivatedRouteSnapshot</span></a><span class="pun">,</span><span class="pln">
  </span><a href="api/router/RouterStateSnapshot" class="code-anchor"><span class="typ">RouterStateSnapshot</span></a><span class="pun">,</span><span class="pln">
  </span><a href="api/router/CanActivateChild" class="code-anchor"><span class="typ">CanActivateChild</span></a><span class="pun">,</span><span class="pln">
  </span><a href="api/router/UrlTree" class="code-anchor"><span class="typ">UrlTree</span></a><span class="pln">
</span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">AuthService</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./auth.service'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="api/core/Injectable" class="code-anchor"><span class="lit">Injectable</span></a><span class="pun">({</span><span class="pln">
  providedIn</span><span class="pun">:</span><span class="pln"> </span><span class="str">'root'</span><span class="pun">,</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AuthGuard</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><a href="api/router/CanActivate" class="code-anchor"><span class="typ">CanActivate</span></a><span class="pun">,</span><span class="pln"> </span><a href="api/router/CanActivateChild" class="code-anchor"><span class="typ">CanActivateChild</span></a><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">constructor</span><span class="pun">(</span><span class="kwd">private</span><span class="pln"> authService</span><span class="pun">:</span><span class="pln"> </span><span class="typ">AuthService</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">private</span><span class="pln"> router</span><span class="pun">:</span><span class="pln"> </span><a href="api/router/Router" class="code-anchor"><span class="typ">Router</span></a><span class="pun">)</span><span class="pln"> </span><span class="pun">{}</span><span class="pln">

  canActivate</span><span class="pun">(</span><span class="pln">
    route</span><span class="pun">:</span><span class="pln"> </span><a href="api/router/ActivatedRouteSnapshot" class="code-anchor"><span class="typ">ActivatedRouteSnapshot</span></a><span class="pun">,</span><span class="pln">
    state</span><span class="pun">:</span><span class="pln"> </span><a href="api/router/RouterStateSnapshot" class="code-anchor"><span class="typ">RouterStateSnapshot</span></a><span class="pun">):</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">|</span><a href="api/router/UrlTree" class="code-anchor"><span class="typ">UrlTree</span></a><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> url</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">string</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> state</span><span class="pun">.</span><span class="pln">url</span><span class="pun">;</span><span class="pln">

    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">checkLogin</span><span class="pun">(</span><span class="pln">url</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  canActivateChild</span><span class="pun">(</span><span class="pln">
    route</span><span class="pun">:</span><span class="pln"> </span><a href="api/router/ActivatedRouteSnapshot" class="code-anchor"><span class="typ">ActivatedRouteSnapshot</span></a><span class="pun">,</span><span class="pln">
    state</span><span class="pun">:</span><span class="pln"> </span><a href="api/router/RouterStateSnapshot" class="code-anchor"><span class="typ">RouterStateSnapshot</span></a><span class="pun">):</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">|</span><a href="api/router/UrlTree" class="code-anchor"><span class="typ">UrlTree</span></a><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">canActivate</span><span class="pun">(</span><span class="pln">route</span><span class="pun">,</span><span class="pln"> state</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  checkLogin</span><span class="pun">(</span><span class="pln">url</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">string</span><span class="pun">):</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">|</span><a href="api/router/UrlTree" class="code-anchor"><span class="typ">UrlTree</span></a><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">authService</span><span class="pun">.</span><span class="pln">isLoggedIn</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span><span class="pln">

    </span><span class="com">// Store the attempted URL for redirecting</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">authService</span><span class="pun">.</span><span class="pln">redirectUrl </span><span class="pun">=</span><span class="pln"> url</span><span class="pun">;</span><span class="pln">

    </span><span class="com">// Redirect to the login page</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">router</span><span class="pun">.</span><span class="pln">parseUrl</span><span class="pun">(</span><span class="str">'/login'</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c48-50 ng-star-inserted" id="mat-tab-content-8-1" aria-labelledby="mat-tab-label-8-1"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c48-50 ng-trigger ng-trigger-translateTab" style="transform:translate3d(100%,0,0);min-height:1px"></div></mat-tab-body></div></mat-tab-group></mat-card></code-tabs><a id="query-parameters"></a> <a id="fragment"></a><h3 id="query-parameters-and-fragments" translation-result="on">查询参数及片段<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#query-parameters-and-fragments"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="query-parameters-and-fragments">Query parameters and fragments<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#query-parameters-and-fragments"><i class="material-icons">link</i></a></h3><p translation-result="on">在<a href="guide/router-tutorial-toh#optional-route-parameters">路由参数</a>部分，你只需要处理该路由的专属参数。但是，你也可以用查询参数来获取对所有路由都可用的可选参数。</p><p translation-origin="off">In the <a href="guide/router-tutorial-toh#optional-route-parameters">route parameters</a> section, you only dealt with parameters specific to the route. However, you can use query parameters to get optional parameters available to all routes.</p><p translation-result="on"><a href="https://en.wikipedia.org/wiki/Fragment_identifier">片段</a>可以引用页面中带有特定 <code>id</code> 属性的元素.</p><p translation-origin="off"><a href="https://en.wikipedia.org/wiki/Fragment_identifier">Fragments</a> refer to certain elements on the page identified with an <code>id</code> attribute.</p><p translation-result="on">修改 <code>AuthGuard</code> 以提供 <code>session_id</code> 查询参数，在导航到其它路由后，它还会存在。</p><p translation-origin="off">Update the <code>AuthGuard</code> to provide a <code>session_id</code> query that will remain after navigating to another route.</p><p translation-result="on">再添加一个锚点（<code>A</code>）元素，来让你能跳转到页面中的正确位置。</p><p translation-origin="off">Add an <code>anchor</code> element so you can jump to a certain point on the page.</p><p translation-result="on">为 <code>router.navigate()</code> 方法添加一个 <code><a href="api/router/NavigationExtras" class="code-anchor">NavigationExtras</a></code> 对象，用来导航到 <code>/login</code> 路由。</p><p translation-origin="off">Add the <code><a href="api/router/NavigationExtras" class="code-anchor">NavigationExtras</a></code> object to the <code>router.navigate()</code> method that navigates you to the <code>/login</code> route.</p><code-example path="router/src/app/auth/auth.guard.4.ts" header="src/app/auth/auth.guard.ts (v3)" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/auth/auth.guard.ts (v3)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/auth/auth.guard.ts (v3)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/core/Injectable" class="code-anchor"><span class="typ">Injectable</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><a href="api/router/CanActivate" class="code-anchor"><span class="typ">CanActivate</span></a><span class="pun">,</span><span class="pln"> </span><a href="api/router/Router" class="code-anchor"><span class="typ">Router</span></a><span class="pun">,</span><span class="pln">
  </span><a href="api/router/ActivatedRouteSnapshot" class="code-anchor"><span class="typ">ActivatedRouteSnapshot</span></a><span class="pun">,</span><span class="pln">
  </span><a href="api/router/RouterStateSnapshot" class="code-anchor"><span class="typ">RouterStateSnapshot</span></a><span class="pun">,</span><span class="pln">
  </span><a href="api/router/CanActivateChild" class="code-anchor"><span class="typ">CanActivateChild</span></a><span class="pun">,</span><span class="pln">
  </span><a href="api/router/NavigationExtras" class="code-anchor"><span class="typ">NavigationExtras</span></a><span class="pun">,</span><span class="pln">
  </span><a href="api/router/UrlTree" class="code-anchor"><span class="typ">UrlTree</span></a><span class="pln">
</span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">AuthService</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./auth.service'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="api/core/Injectable" class="code-anchor"><span class="lit">Injectable</span></a><span class="pun">({</span><span class="pln">
  providedIn</span><span class="pun">:</span><span class="pln"> </span><span class="str">'root'</span><span class="pun">,</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AuthGuard</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><a href="api/router/CanActivate" class="code-anchor"><span class="typ">CanActivate</span></a><span class="pun">,</span><span class="pln"> </span><a href="api/router/CanActivateChild" class="code-anchor"><span class="typ">CanActivateChild</span></a><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">constructor</span><span class="pun">(</span><span class="kwd">private</span><span class="pln"> authService</span><span class="pun">:</span><span class="pln"> </span><span class="typ">AuthService</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">private</span><span class="pln"> router</span><span class="pun">:</span><span class="pln"> </span><a href="api/router/Router" class="code-anchor"><span class="typ">Router</span></a><span class="pun">)</span><span class="pln"> </span><span class="pun">{}</span><span class="pln">

  canActivate</span><span class="pun">(</span><span class="pln">route</span><span class="pun">:</span><span class="pln"> </span><a href="api/router/ActivatedRouteSnapshot" class="code-anchor"><span class="typ">ActivatedRouteSnapshot</span></a><span class="pun">,</span><span class="pln"> state</span><span class="pun">:</span><span class="pln"> </span><a href="api/router/RouterStateSnapshot" class="code-anchor"><span class="typ">RouterStateSnapshot</span></a><span class="pun">):</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">|</span><a href="api/router/UrlTree" class="code-anchor"><span class="typ">UrlTree</span></a><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> url</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">string</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> state</span><span class="pun">.</span><span class="pln">url</span><span class="pun">;</span><span class="pln">

    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">checkLogin</span><span class="pun">(</span><span class="pln">url</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  canActivateChild</span><span class="pun">(</span><span class="pln">route</span><span class="pun">:</span><span class="pln"> </span><a href="api/router/ActivatedRouteSnapshot" class="code-anchor"><span class="typ">ActivatedRouteSnapshot</span></a><span class="pun">,</span><span class="pln"> state</span><span class="pun">:</span><span class="pln"> </span><a href="api/router/RouterStateSnapshot" class="code-anchor"><span class="typ">RouterStateSnapshot</span></a><span class="pun">):</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">|</span><a href="api/router/UrlTree" class="code-anchor"><span class="typ">UrlTree</span></a><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">canActivate</span><span class="pun">(</span><span class="pln">route</span><span class="pun">,</span><span class="pln"> state</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  checkLogin</span><span class="pun">(</span><span class="pln">url</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">string</span><span class="pun">):</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">|</span><a href="api/router/UrlTree" class="code-anchor"><span class="typ">UrlTree</span></a><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">authService</span><span class="pun">.</span><span class="pln">isLoggedIn</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span><span class="pln">

    </span><span class="com">// Store the attempted URL for redirecting</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">authService</span><span class="pun">.</span><span class="pln">redirectUrl </span><span class="pun">=</span><span class="pln"> url</span><span class="pun">;</span><span class="pln">

    </span><span class="com">// Create a dummy session id</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> sessionId </span><span class="pun">=</span><span class="pln"> </span><span class="lit">123456789</span><span class="pun">;</span><span class="pln">

    </span><span class="com">// Set our navigation extras object</span><span class="pln">
    </span><span class="com">// that contains our </span><a href="api/core/global" class="code-anchor"><span class="com">global</span></a><span class="com"> </span><a href="api/animations/query" class="code-anchor"><span class="com">query</span></a><span class="com"> params and fragment</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> navigationExtras</span><span class="pun">:</span><span class="pln"> </span><a href="api/router/NavigationExtras" class="code-anchor"><span class="typ">NavigationExtras</span></a><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      queryParams</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> session_id</span><span class="pun">:</span><span class="pln"> sessionId </span><span class="pun">},</span><span class="pln">
      fragment</span><span class="pun">:</span><span class="pln"> </span><span class="str">'anchor'</span><span class="pln">
    </span><span class="pun">};</span><span class="pln">

    </span><span class="com">// Redirect to the login page with extras</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">router</span><span class="pun">.</span><span class="pln">createUrlTree</span><span class="pun">([</span><span class="str">'/login'</span><span class="pun">],</span><span class="pln"> navigationExtras</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on">还可以在导航之间<strong>保留</strong>查询参数和片段，而无需再次在导航中提供。在 <code>LoginComponent</code> 中的 <code>router.navigateUrl()</code> 方法中，添加一个对象作为第二个参数，该<strong>对象</strong>提供了 <code>queryParamsHandling</code> 和 <code>preserveFragment</code>，用于传递当前的查询参数和片段到下一个路由。</p><p translation-origin="off">You can also preserve query parameters and fragments across navigations without having to provide them again when navigating. In the <code>LoginComponent</code>, you'll add an <em>object</em> as the second argument in the <code>router.navigateUrl()</code> function and provide the <code>queryParamsHandling</code> and <code>preserveFragment</code> to pass along the current query parameters and fragment to the next route.</p><code-example path="router/src/app/auth/login/login.component.ts" header="src/app/auth/login/login.component.ts (preserve)" region="preserve" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/auth/login/login.component.ts (preserve)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/auth/login/login.component.ts (preserve)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="com">// Set our navigation extras object</span><span class="pln">
</span><span class="com">// that passes on our </span><a href="api/core/global" class="code-anchor"><span class="com">global</span></a><span class="com"> </span><a href="api/animations/query" class="code-anchor"><span class="com">query</span></a><span class="com"> params and fragment</span><span class="pln">
</span><span class="kwd">const</span><span class="pln"> navigationExtras</span><span class="pun">:</span><span class="pln"> </span><a href="api/router/NavigationExtras" class="code-anchor"><span class="typ">NavigationExtras</span></a><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  queryParamsHandling</span><span class="pun">:</span><span class="pln"> </span><span class="str">'preserve'</span><span class="pun">,</span><span class="pln">
  preserveFragment</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pln">
</span><span class="pun">};</span><span class="pln">

</span><span class="com">// Redirect the user</span><span class="pln">
</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">router</span><span class="pun">.</span><span class="pln">navigate</span><span class="pun">([</span><span class="pln">redirectUrl</span><span class="pun">],</span><span class="pln"> navigationExtras</span><span class="pun">);</span></code>
    </pre></aio-code></code-example><div class="alert is-helpful"><p translation-result="on"><code>queryParamsHandling</code> 特性还提供了 <code>merge</code> 选项，它将会在导航时保留当前的查询参数，并与其它查询参数合并。</p><p translation-origin="off">The <code>queryParamsHandling</code> feature also provides a <code>merge</code> option, which preserves and combines the current query parameters with any provided query parameters when navigating.</p></div><p translation-result="on">要在登录后导航到 Admin Dashboard 路由，请更新 <code>admin-dashboard.component.ts</code> 以处理这些查询参数和片段。</p><p translation-origin="off">To navigate to the Admin Dashboard route after logging in, update <code>admin-dashboard.component.ts</code> to handle the query parameters and fragment.</p><code-example path="router/src/app/admin/admin-dashboard/admin-dashboard.component.1.ts" header="src/app/admin/admin-dashboard/admin-dashboard.component.ts (v2)" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/admin/admin-dashboard/admin-dashboard.component.ts (v2)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/admin/admin-dashboard/admin-dashboard.component.ts (v2)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/core/Component" class="code-anchor"><span class="typ">Component</span></a><span class="pun">,</span><span class="pln"> </span><a href="api/core/OnInit" class="code-anchor"><span class="typ">OnInit</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/router/ActivatedRoute" class="code-anchor"><span class="typ">ActivatedRoute</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Observable</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'rxjs'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> map </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'rxjs/operators'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="api/core/Component" class="code-anchor"><span class="lit">Component</span></a><span class="pun">({</span><span class="pln">
  selector</span><span class="pun">:</span><span class="pln"> </span><span class="str">'app-admin-dashboard'</span><span class="pun">,</span><span class="pln">
  templateUrl</span><span class="pun">:</span><span class="pln"> </span><span class="str">'./admin-dashboard.component.html'</span><span class="pun">,</span><span class="pln">
  styleUrls</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="str">'./admin-dashboard.component.css'</span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AdminDashboardComponent</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><a href="api/core/OnInit" class="code-anchor"><span class="typ">OnInit</span></a><span class="pln"> </span><span class="pun">{</span><span class="pln">
  sessionId</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Observable</span><span class="str">&lt;string&gt;</span><span class="pun">;</span><span class="pln">
  token</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Observable</span><span class="str">&lt;string&gt;</span><span class="pun">;</span><span class="pln">

  </span><span class="kwd">constructor</span><span class="pun">(</span><span class="kwd">private</span><span class="pln"> route</span><span class="pun">:</span><span class="pln"> </span><a href="api/router/ActivatedRoute" class="code-anchor"><span class="typ">ActivatedRoute</span></a><span class="pun">)</span><span class="pln"> </span><span class="pun">{}</span><span class="pln">

  ngOnInit</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="com">// Capture the session ID if available</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">sessionId </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">route
      </span><span class="pun">.</span><span class="pln">queryParamMap
      </span><span class="pun">.</span><span class="pln">pipe</span><span class="pun">(</span><span class="pln">map</span><span class="pun">(</span><span class="kwd">params</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="kwd">params</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="str">'session_id'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> </span><span class="str">'None'</span><span class="pun">));</span><span class="pln">

    </span><span class="com">// Capture the fragment if available</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">token </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">route
      </span><span class="pun">.</span><span class="pln">fragment
      </span><span class="pun">.</span><span class="pln">pipe</span><span class="pun">(</span><span class="pln">map</span><span class="pun">(</span><span class="pln">fragment </span><span class="pun">=&gt;</span><span class="pln"> fragment </span><span class="pun">||</span><span class="pln"> </span><span class="str">'None'</span><span class="pun">));</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on">查询参数和片段可通过 <code><a href="api/router/Router" class="code-anchor">Router</a></code> 服务的 <code>routerState</code> 属性使用。和路由参数类似，全局查询参数和片段也是 <code>Observable</code> 对象。 在修改过的英雄管理组件中，你将借助 <code><a href="api/common/AsyncPipe" class="code-anchor">AsyncPipe</a></code> 直接把 <code>Observable</code> 传给模板。</p><p translation-origin="off">Query parameters and fragments are also available through the <code><a href="api/router/ActivatedRoute" class="code-anchor">ActivatedRoute</a></code> service. Just like route parameters, the query parameters and fragments are provided as an <code>Observable</code>. The updated Crisis Admin component feeds the <code>Observable</code> directly into the template using the <code><a href="api/common/AsyncPipe" class="code-anchor">AsyncPipe</a></code>.</p><p translation-result="on">按照下列步骤试验下：点击 Admin 按钮，它会带着你提供的 <code>queryParamMap</code> 和 <code>fragment</code> 跳转到登录页。 点击 Login 按钮，你就会被重定向到 <code>Admin Dashboard</code> 页。 注意，它仍然带着上一步提供的 <code>queryParamMap</code> 和 <code>fragment</code>。</p><p translation-origin="off">Now, you can click on the Admin button, which takes you to the Login page with the provided <code>queryParamMap</code> and <code>fragment</code>. After you click the login button, notice that you have been redirected to the <code>Admin Dashboard</code> page with the query parameters and fragment still intact in the address bar.</p><p translation-result="on">你可以用这些持久化信息来携带需要为每个页面都提供的信息，如认证令牌或会话的 ID 等。</p><p translation-origin="off">You can use these persistent bits of information for things that need to be provided across pages like authentication tokens or session ids.</p><div class="alert is-helpful"><p translation-result="on">“查询参数”和“片段”也可以分别用 <code><a href="api/router/RouterLink" class="code-anchor">RouterLink</a></code> 中的 <strong>queryParamsHandling</strong> 和 <strong>preserveFragment</strong> 保存。</p><p translation-origin="off">The <code><a href="api/animations/query" class="code-anchor">query</a> params</code> and <code>fragment</code> can also be preserved using a <code><a href="api/router/RouterLink" class="code-anchor">RouterLink</a></code> with the <code>queryParamsHandling</code> and <code>preserveFragment</code> bindings respectively.</p></div><a id="asynchronous-routing"></a><h2 id="milestone-6-asynchronous-routing" translation-result="on">里程碑 6：异步路由<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#milestone-6-asynchronous-routing"><i class="material-icons">link</i></a></h2><h2 translation-origin="off" id="milestone-6-asynchronous-routing">Milestone 6: Asynchronous routing<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#milestone-6-asynchronous-routing"><i class="material-icons">link</i></a></h2><p translation-result="on">完成上面的里程碑后，应用程序很自然地长大了。在某一个时间点，你将达到一个顶点，应用将会需要过多的时间来加载。</p><p translation-origin="off">As you've worked through the milestones, the application has naturally gotten larger. At some point you'll reach a point where the application takes a long time to load.</p><p translation-result="on">为了解决这个问题，请使用异步路由，它会根据请求来惰性加载某些特性模块。惰性加载有很多好处。</p><p translation-origin="off">To remedy this issue, use asynchronous routing, which loads feature modules lazily, on request. Lazy loading has multiple benefits.</p><ul><li><p translation-result="on">你可以只在用户请求时才加载某些特性区。</p><p translation-origin="off">You can load feature areas only when requested by the user.</p></li><li><p translation-result="on">对于那些只访问应用程序某些区域的用户，这样能加快加载速度。</p><p translation-origin="off">You can speed up load time for users that only visit certain areas of the application.</p></li><li><p translation-result="on">你可以持续扩充惰性加载特性区的功能，而不用增加初始加载的包体积。</p><p translation-origin="off">You can continue expanding lazy loaded feature areas without increasing the size of the initial load bundle.</p></li></ul><p translation-result="on">你已经完成了一部分。通过把应用组织成一些模块：<code>AppModule</code>、<code>HeroesModule</code>、<code>AdminModule</code> 和 <code>CrisisCenterModule</code>， 你已经有了可用于实现惰性加载的候选者。</p><p translation-origin="off">You're already part of the way there. By organizing the application into modules—<code>AppModule</code>, <code>HeroesModule</code>, <code>AdminModule</code> and <code>CrisisCenterModule</code>—you have natural candidates for lazy loading.</p><p translation-result="on">有些模块（比如 <code>AppModule</code>）必须在启动时加载，但其它的都可以而且应该惰性加载。 比如 <code>AdminModule</code> 就只有少数已认证的用户才需要它，所以你应该只有在正确的人请求它时才加载。</p><p translation-origin="off">Some modules, like <code>AppModule</code>, must be loaded from the start. But others can and should be lazy loaded. The <code>AdminModule</code>, for example, is needed by a few authorized users, so you should only load it when requested by the right people.</p><a id="lazy-loading-route-config"></a><h3 id="lazy-loading-route-configuration" translation-result="on">惰性加载路由配置<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#lazy-loading-route-configuration"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="lazy-loading-route-configuration">Lazy Loading route configuration<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#lazy-loading-route-configuration"><i class="material-icons">link</i></a></h3><p translation-result="on">把 <code>admin-routing.module.ts</code> 中的 <code>admin</code> 路径从 <code>'admin'</code> 改为空路径 <code>''</code>。</p><p translation-origin="off">Change the <code>admin</code> path in the <code>admin-routing.module.ts</code> from <code>'admin'</code> to an empty string, <code>''</code>, the empty path.</p><p translation-result="on">可以用<em>空路径</em>路由来对路由进行分组，而不用往 URL 中添加额外的路径片段。 用户仍旧访问 <code>/admin</code>，并且 <code>AdminComponent</code> 仍然作为用来包含子路由的路由组件。</p><p translation-origin="off">Use empty path routes to group routes together without adding any additional path segments to the URL. Users will still visit <code>/admin</code> and the <code>AdminComponent</code> still serves as the Routing Component containing child routes.</p><p translation-result="on">打开 <code>AppRoutingModule</code>，并把一个新的 <code>admin</code> 路由添加到它的 <code>appRoutes</code> 数组中。</p><p translation-origin="off">Open the <code>AppRoutingModule</code> and add a new <code>admin</code> route to its <code>appRoutes</code> array.</p><p translation-result="on">给它一个 <code>loadChildren</code> 属性（替换掉 <code>children</code> 属性）。 <code>loadChildren</code> 属性接收一个函数，该函数使用浏览器内置的动态导入语法 <code>import('...')</code> 来惰性加载代码，并返回一个承诺（Promise）。 其路径是 <code>AdminModule</code> 的位置（相对于应用的根目录）。 当代码请求并加载完毕后，这个 <code>Promise</code> 就会解析成一个包含 <code><a href="api/core/NgModule" class="code-anchor">NgModule</a></code> 的对象，也就是 <code>AdminModule</code>。</p><p translation-origin="off">Give it a <code>loadChildren</code> property instead of a <code>children</code> property. The <code>loadChildren</code> property takes a function that returns a promise using the browser's built-in syntax for lazy loading code using dynamic imports <code>import('...')</code>. The path is the location of the <code>AdminModule</code> (relative to the app root). After the code is requested and loaded, the <code>Promise</code> resolves an object that contains the <code><a href="api/core/NgModule" class="code-anchor">NgModule</a></code>, in this case the <code>AdminModule</code>.</p><code-example path="router/src/app/app-routing.module.5.ts" region="admin-1" header="app-routing.module.ts (load children)" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">app-routing.module.ts (load children)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app-routing.module.ts (load children)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pun">{</span><span class="pln">
  path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'admin'</span><span class="pun">,</span><span class="pln">
  loadChildren</span><span class="pun">:</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="kwd">import</span><span class="pun">(</span><span class="str">'./admin/admin.module'</span><span class="pun">).</span><span class="kwd">then</span><span class="pun">(</span><span class="pln">m </span><span class="pun">=&gt;</span><span class="pln"> m</span><span class="pun">.</span><span class="typ">AdminModule</span><span class="pun">),</span><span class="pln">
</span><span class="pun">},</span></code>
    </pre></aio-code></code-example><div class="alert is-important"><p translation-result="on"><strong>注意</strong>： 当使用绝对路径时，<code><a href="api/core/NgModule" class="code-anchor">NgModule</a></code> 的文件位置必须以 <code>src/app</code> 开头，以便正确解析。对于自定义的 <a href="https://www.typescriptlang.org/docs/handbook/module-resolution.html#path-mapping">使用绝对路径的路径映射表</a>，你必须在项目的 <code>tsconfig.json</code> 中必须配置好 <code>baseUrl</code> 和 <code>paths</code> 属性。</p><p translation-origin="off"><em>Note</em>: When using absolute paths, the <code><a href="api/core/NgModule" class="code-anchor">NgModule</a></code> file location must begin with <code>src/app</code> in order to resolve correctly. For custom <a href="https://www.typescriptlang.org/docs/handbook/module-resolution.html#path-mapping">path mapping with absolute paths</a>, you must configure the <code>baseUrl</code> and <code>paths</code> properties in the project <code>tsconfig.json</code>.</p></div><p translation-result="on">当路由器导航到这个路由时，它会用 <code>loadChildren</code> 字符串来动态加载 <code>AdminModule</code>，然后把 <code>AdminModule</code> 添加到当前的路由配置中， 最后，它把所请求的路由加载到目标 <code>admin</code> 组件中。</p><p translation-origin="off">When the router navigates to this route, it uses the <code>loadChildren</code> string to dynamically load the <code>AdminModule</code>. Then it adds the <code>AdminModule</code> routes to its current route configuration. Finally, it loads the requested route to the destination admin component.</p><p translation-result="on">惰性加载和重新配置工作只会发生一次，也就是在该路由首次被请求时。在后续的请求中，该模块和路由都是立即可用的。</p><p translation-origin="off">The lazy loading and re-configuration happen just once, when the route is first requested; the module and routes are available immediately for subsequent requests.</p><div class="alert is-helpful"><p translation-result="on">Angular 提供一个内置模块加载器，支持<strong><code>SystemJS</code></strong>来异步加载模块。如果你使用其它捆绑工具比如 <strong>Webpack</strong>，则使用 Webpack 的机制来异步加载模块。</p><p translation-origin="off">Angular provides a built-in module loader that supports SystemJS to load modules asynchronously. If you were using another bundling tool, such as Webpack, you would use the Webpack mechanism for asynchronously loading modules.</p></div><p translation-result="on">最后一步是把管理特性区从主应用中完全分离开。 根模块 <code>AppModule</code> 既不能加载也不能引用 <code>AdminModule</code> 及其文件。</p><p translation-origin="off">Take the final step and detach the admin feature set from the main application. The root <code>AppModule</code> must neither load nor reference the <code>AdminModule</code> or its files.</p><p translation-result="on">在 <code>app.module.ts</code> 中，从顶部移除 <code>AdminModule</code> 的导入语句，并且从 NgModule 的 <code>imports</code> 数组中移除 <code>AdminModule</code>。</p><p translation-origin="off">In <code>app.module.ts</code>, remove the <code>AdminModule</code> import statement from the top of the file and remove the <code>AdminModule</code> from the NgModule's <code>imports</code> array.</p><a id="can-load-guard"></a><h3 id="canload-guarding-unauthorized-loading-of-feature-modules" translation-result="on"><code><a href="api/router/CanLoad" class="code-anchor">CanLoad</a></code>：保护对特性模块的未授权加载<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#canload-guarding-unauthorized-loading-of-feature-modules"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="canload-guarding-unauthorized-loading-of-feature-modules"><code><a href="api/router/CanLoad" class="code-anchor">CanLoad</a></code>: guarding unauthorized loading of feature modules<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#canload-guarding-unauthorized-loading-of-feature-modules"><i class="material-icons">link</i></a></h3><p translation-result="on">你已经使用 <code><a href="api/router/CanActivate" class="code-anchor">CanActivate</a></code> 保护 <code>AdminModule</code> 了，它会阻止未授权用户访问管理特性区。如果用户未登录，它就会跳转到登录页。</p><p translation-origin="off">You're already protecting the <code>AdminModule</code> with a <code><a href="api/router/CanActivate" class="code-anchor">CanActivate</a></code> guard that prevents unauthorized users from accessing the admin feature area. It redirects to the login page if the user is not authorized.</p><p translation-result="on">但是路由器仍然会加载 <code>AdminModule</code> —— 即使用户无法访问它的任何一个组件。 理想的方式是，只有在用户已登录的情况下你才加载 <code>AdminModule</code>。</p><p translation-origin="off">But the router is still loading the <code>AdminModule</code> even if the user can't visit any of its components. Ideally, you'd only load the <code>AdminModule</code> if the user is logged in.</p><p translation-result="on">添加一个 <code><a href="api/router/CanLoad" class="code-anchor">CanLoad</a></code> 守卫，它只在用户已登录<em>并且</em>尝试访问管理特性区的时候，才加载 <code>AdminModule</code> 一次。</p><p translation-origin="off">Add a <code><a href="api/router/CanLoad" class="code-anchor">CanLoad</a></code> guard that only loads the <code>AdminModule</code> once the user is logged in <em>and</em> attempts to access the admin feature area.</p><p translation-result="on">现有的 <code>AuthGuard</code> 的 <code>checkLogin()</code> 方法中已经有了支持 <code><a href="api/router/CanLoad" class="code-anchor">CanLoad</a></code> 守卫的基础逻辑。</p><p translation-origin="off">The existing <code>AuthGuard</code> already has the essential logic in its <code>checkLogin()</code> method to support the <code><a href="api/router/CanLoad" class="code-anchor">CanLoad</a></code> guard.</p><p translation-result="on">打开 <code>auth.guard.ts</code>，从 <code>@angular/router</code> 中导入 <code><a href="api/router/CanLoad" class="code-anchor">CanLoad</a></code> 接口。 把它添加到 <code>AuthGuard</code> 类的 <code>implements</code> 列表中。 然后实现 <code>canLoad</code>，代码如下：</p><p translation-origin="off">Open <code>auth.guard.ts</code>. Import the <code><a href="api/router/CanLoad" class="code-anchor">CanLoad</a></code> interface from <code>@angular/router</code>. Add it to the <code>AuthGuard</code> class's <code>implements</code> list. Then implement <code>canLoad()</code> as follows:</p><code-example path="router/src/app/auth/auth.guard.ts" header="src/app/auth/auth.guard.ts (CanLoad guard)" region="canLoad" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/auth/auth.guard.ts (CanLoad guard)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/auth/auth.guard.ts (CanLoad guard)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pln">canLoad</span><span class="pun">(</span><span class="pln">route</span><span class="pun">:</span><span class="pln"> </span><a href="api/router/Route" class="code-anchor"><span class="typ">Route</span></a><span class="pun">):</span><span class="pln"> </span><span class="kwd">boolean</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">const</span><span class="pln"> url </span><span class="pun">=</span><span class="pln"> </span><span class="str">`/${route.path}`</span><span class="pun">;</span><span class="pln">

  </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">checkLogin</span><span class="pun">(</span><span class="pln">url</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on">路由器会把 <code>canLoad()</code> 方法的 <code>route</code> 参数设置为准备访问的目标 URL。 如果用户已经登录了，<code>checkLogin()</code> 方法就会重定向到那个 URL。</p><p translation-origin="off">The router sets the <code>canLoad()</code> method's <code>route</code> parameter to the intended destination URL. The <code>checkLogin()</code> method redirects to that URL once the user has logged in.</p><p translation-result="on">现在，把 <code>AuthGuard</code> 导入到 <code>AppRoutingModule</code> 中，并把 <code>AuthGuard</code> 添加到 <code>admin</code> 路由的 <code>canLoad</code> 数组中。 完整的 <code>admin</code> 路由是这样的：</p><p translation-origin="off">Now import the <code>AuthGuard</code> into the <code>AppRoutingModule</code> and add the <code>AuthGuard</code> to the <code>canLoad</code> array property for the <code>admin</code> route. The completed admin route looks like this:</p><code-example path="router/src/app/app-routing.module.5.ts" region="admin" header="app-routing.module.ts (lazy admin route)" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">app-routing.module.ts (lazy admin route)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app-routing.module.ts (lazy admin route)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pun">{</span><span class="pln">
  path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'admin'</span><span class="pun">,</span><span class="pln">
  loadChildren</span><span class="pun">:</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="kwd">import</span><span class="pun">(</span><span class="str">'./admin/admin.module'</span><span class="pun">).</span><span class="kwd">then</span><span class="pun">(</span><span class="pln">m </span><span class="pun">=&gt;</span><span class="pln"> m</span><span class="pun">.</span><span class="typ">AdminModule</span><span class="pun">),</span><span class="pln">
  canLoad</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="typ">AuthGuard</span><span class="pun">]</span><span class="pln">
</span><span class="pun">},</span></code>
    </pre></aio-code></code-example><a id="preloading"></a><h3 id="preloading-background-loading-of-feature-areas" translation-result="on">预加载：特性区的后台加载<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#preloading-background-loading-of-feature-areas"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="preloading-background-loading-of-feature-areas">Preloading: background loading of feature areas<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#preloading-background-loading-of-feature-areas"><i class="material-icons">link</i></a></h3><p translation-result="on">除了按需加载模块外，还可以通过预加载方式异步加载模块。</p><p translation-origin="off">In addition to loading modules on-demand, you can load modules asynchronously with preloading.</p><p translation-result="on">当应用启动时，<code>AppModule</code> 被急性加载，这意味着它会立即加载。而 <code>AdminModule</code> 只在用户点击链接时加载，这叫做惰性加载。</p><p translation-origin="off">The <code>AppModule</code> is eagerly loaded when the application starts, meaning that it loads right away. Now the <code>AdminModule</code> loads only when the user clicks on a link, which is called lazy loading.</p><p translation-result="on">预加载允许你在后台加载模块，以便当用户激活某个特定的路由时，就可以渲染这些数据了。 考虑一下危机中心。 它不是用户看到的第一个视图。 默认情况下，英雄列表才是第一个视图。为了获得最小的初始有效负载和最快的启动时间，你应该急性加载 <code>AppModule</code> 和 <code>HeroesModule</code>。</p><p translation-origin="off">Preloading allows you to load modules in the background so that the data is ready to render when the user activates a particular route. Consider the Crisis Center. It isn't the first view that a user sees. By default, the Heroes are the first view. For the smallest initial payload and fastest launch time, you should eagerly load the <code>AppModule</code> and the <code>HeroesModule</code>.</p><p translation-result="on">你可以惰性加载危机中心。 但是，你几乎可以肯定用户会在启动应用之后的几分钟内访问危机中心。 理想情况下，应用启动时应该只加载 <code>AppModule</code> 和 <code>HeroesModule</code>，然后几乎立即开始后台加载 <code>CrisisCenterModule</code>。 在用户浏览到危机中心之前，该模块应该已经加载完毕，可供访问了。</p><p translation-origin="off">You could lazy load the Crisis Center. But you're almost certain that the user will visit the Crisis Center within minutes of launching the app. Ideally, the app would launch with just the <code>AppModule</code> and the <code>HeroesModule</code> loaded and then, almost immediately, load the <code>CrisisCenterModule</code> in the background. By the time the user navigates to the Crisis Center, its module will have been loaded and ready.</p><a id="how-preloading"></a><h4 id="how-preloading-works" translation-result="on">预加载的工作原理<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#how-preloading-works"><i class="material-icons">link</i></a></h4><h4 translation-origin="off" id="how-preloading-works">How preloading works<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#how-preloading-works"><i class="material-icons">link</i></a></h4><p translation-result="on">在每次成功的导航后，路由器会在自己的配置中查找尚未加载并且可以预加载的模块。 是否加载某个模块，以及要加载哪些模块，取决于<em>预加载策略</em>。</p><p translation-origin="off">After each successful navigation, the router looks in its configuration for an unloaded module that it can preload. Whether it preloads a module, and which modules it preloads, depends upon the preload strategy.</p><p translation-result="on"><code><a href="api/router/Router" class="code-anchor">Router</a></code> 提供了两种预加载策略：</p><p translation-origin="off">The <code><a href="api/router/Router" class="code-anchor">Router</a></code> offers two preloading strategies:</p><ul><li><p translation-result="on">完全不预加载，这是默认值。惰性加载的特性区仍然会按需加载。</p><p translation-origin="off">No preloading, which is the default. Lazy loaded feature areas are still loaded on-demand.</p></li><li><p translation-result="on">预加载所有惰性加载的特性区。</p><p translation-origin="off">Preloading of all lazy loaded feature areas.</p></li></ul><p translation-result="on">路由器或者完全不预加载或者预加载每个惰性加载模块。 路由器还支持<a href="guide/router-tutorial-toh#custom-preloading">自定义预加载策略</a>，以便完全控制要预加载哪些模块以及何时加载。</p><p translation-origin="off">The router either never preloads, or preloads every lazy loaded module. The <code><a href="api/router/Router" class="code-anchor">Router</a></code> also supports <a href="guide/router-tutorial-toh#custom-preloading">custom preloading strategies</a> for fine control over which modules to preload and when.</p><p translation-result="on">本节将指导你把 <code>CrisisCenterModule</code> 改成惰性加载的，并使用 <code><a href="api/router/PreloadAllModules" class="code-anchor">PreloadAllModules</a></code> 策略来预加载所有惰性加载模块。</p><p translation-origin="off">This section guides you through updating the <code>CrisisCenterModule</code> to load lazily by default and use the <code><a href="api/router/PreloadAllModules" class="code-anchor">PreloadAllModules</a></code> strategy to load all lazy loaded modules.</p><a id="lazy-load-crisis-center"></a><h4 id="lazy-load-the-crisis-center" translation-result="on">惰性加载危机中心<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#lazy-load-the-crisis-center"><i class="material-icons">link</i></a></h4><h4 translation-origin="off" id="lazy-load-the-crisis-center">Lazy load the crisis center<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#lazy-load-the-crisis-center"><i class="material-icons">link</i></a></h4><p translation-result="on">修改路由配置，来惰性加载 <code>CrisisCenterModule</code>。修改的步骤和配置惰性加载 <code>AdminModule</code> 时一样。</p><p translation-origin="off">Update the route configuration to lazy load the <code>CrisisCenterModule</code>. Take the same steps you used to configure <code>AdminModule</code> for lazy loading.</p><ol><li><p translation-result="on">把 <code>CrisisCenterRoutingModule</code> 中的路径从 <code>crisis-center</code> 改为空字符串。</p><p translation-origin="off">Change the <code>crisis-center</code> path in the <code>CrisisCenterRoutingModule</code> to an empty string.</p></li><li><p translation-result="on">往 <code>AppRoutingModule</code> 中添加一个 <code>crisis-center</code> 路由。</p><p translation-origin="off">Add a <code>crisis-center</code> route to the <code>AppRoutingModule</code>.</p></li><li><p translation-result="on">设置 <code>loadChildren</code> 字符串来加载 <code>CrisisCenterModule</code>。</p><p translation-origin="off">Set the <code>loadChildren</code> string to load the <code>CrisisCenterModule</code>.</p></li><li><p translation-result="on">从 <code>app.module.ts</code> 中移除所有对 <code>CrisisCenterModule</code> 的引用。</p><p translation-origin="off">Remove all mention of the <code>CrisisCenterModule</code> from <code>app.module.ts</code>.</p></li></ol><p translation-result="on">下面是打开预加载之前的模块修改版：</p><p translation-origin="off">Here are the updated modules <em>before enabling preload</em>:</p><code-tabs ng-version="12.0.0-rc.2"><div style="display:none"></div><mat-card class="mat-card mat-focus-indicator"><mat-tab-group class="mat-tab-group code-tab-group mat-primary"><mat-tab-header class="mat-tab-header"><div aria-hidden="true" mat-ripple="" class="mat-ripple mat-tab-header-pagination mat-tab-header-pagination-before mat-elevation-z4 mat-tab-header-pagination-disabled"><div class="mat-tab-header-pagination-chevron"></div></div><div class="mat-tab-label-container"><div role="tablist" class="mat-tab-list" style="transform:translateX(0)"><div class="mat-tab-labels"><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator mat-tab-label-active ng-star-inserted" id="mat-tab-label-9-0" tabindex="0" aria-posinset="1" aria-setsize="3" aria-controls="mat-tab-content-9-0" aria-selected="true" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">app.module.ts</span></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-9-1" tabindex="-1" aria-posinset="2" aria-setsize="3" aria-controls="mat-tab-content-9-1" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">app-routing.module.ts</span></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-9-2" tabindex="-1" aria-posinset="3" aria-setsize="3" aria-controls="mat-tab-content-9-2" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">crisis-center-routing.module.ts</span></div></div></div><mat-ink-bar class="mat-ink-bar" style="visibility:visible;left:0;width:160px"></mat-ink-bar></div></div><div aria-hidden="true" mat-ripple="" class="mat-ripple mat-tab-header-pagination mat-tab-header-pagination-after mat-elevation-z4 mat-tab-header-pagination-disabled"><div class="mat-tab-header-pagination-chevron"></div></div></mat-tab-header><div class="mat-tab-body-wrapper"><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c48-51 mat-tab-body-active ng-star-inserted" id="mat-tab-content-9-0" aria-labelledby="mat-tab-label-9-0"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c48-51 ng-trigger ng-trigger-translateTab" style="transform:none"><aio-code class="ng-star-inserted" style=""><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app.module.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/core/NgModule" class="code-anchor"><span class="typ">NgModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/platform-browser/BrowserModule" class="code-anchor"><span class="typ">BrowserModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/platform-browser'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/forms/FormsModule" class="code-anchor"><span class="typ">FormsModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/forms'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/platform-browser/animations/BrowserAnimationsModule" class="code-anchor"><span class="typ">BrowserAnimationsModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/platform-browser/animations'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/router/Router" class="code-anchor"><span class="typ">Router</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">AppComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./app.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">PageNotFoundComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./page-not-found/page-not-found.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">ComposeMessageComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./compose-message/compose-message.component'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">AppRoutingModule</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./app-routing.module'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">HeroesModule</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./heroes/heroes.module'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">AuthModule</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./auth/auth.module'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="api/core/NgModule" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="api/platform-browser/BrowserModule" class="code-anchor"><span class="typ">BrowserModule</span></a><span class="pun">,</span><span class="pln">
    </span><a href="api/platform-browser/animations/BrowserAnimationsModule" class="code-anchor"><span class="typ">BrowserAnimationsModule</span></a><span class="pun">,</span><span class="pln">
    </span><a href="api/forms/FormsModule" class="code-anchor"><span class="typ">FormsModule</span></a><span class="pun">,</span><span class="pln">
    </span><span class="typ">HeroesModule</span><span class="pun">,</span><span class="pln">
    </span><span class="typ">AuthModule</span><span class="pun">,</span><span class="pln">
    </span><span class="typ">AppRoutingModule</span><span class="pun">,</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  declarations</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">AppComponent</span><span class="pun">,</span><span class="pln">
    </span><span class="typ">ComposeMessageComponent</span><span class="pun">,</span><span class="pln">
    </span><span class="typ">PageNotFoundComponent</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  bootstrap</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="typ">AppComponent</span><span class="pln"> </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AppModule</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c48-52 ng-star-inserted" id="mat-tab-content-9-1" aria-labelledby="mat-tab-label-9-1"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c48-52 ng-trigger ng-trigger-translateTab" style="transform:translate3d(100%,0,0);min-height:1px"></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c48-53 ng-star-inserted" id="mat-tab-content-9-2" aria-labelledby="mat-tab-label-9-2"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c48-53 ng-trigger ng-trigger-translateTab" style="transform:translate3d(100%,0,0);min-height:1px"></div></mat-tab-body></div></mat-tab-group></mat-card></code-tabs><p translation-result="on">你可以现在尝试它，并确认在点击了“Crisis Center”按钮之后加载了 <code>CrisisCenterModule</code>。</p><p translation-origin="off">You could try this now and confirm that the <code>CrisisCenterModule</code> loads after you click the "Crisis Center" button.</p><p translation-result="on">要为所有惰性加载模块启用预加载功能，请从 Angular 的路由模块中导入 <code><a href="api/router/PreloadAllModules" class="code-anchor">PreloadAllModules</a></code>。</p><p translation-origin="off">To enable preloading of all lazy loaded modules, import the <code><a href="api/router/PreloadAllModules" class="code-anchor">PreloadAllModules</a></code> token from the Angular router package.</p><p translation-result="on"><code><a href="api/router/RouterModule#forRoot" class="code-anchor">RouterModule.forRoot()</a></code> 方法的第二个参数接受一个附加配置选项对象。 <code>preloadingStrategy</code> 就是其中之一。 把 <code><a href="api/router/PreloadAllModules" class="code-anchor">PreloadAllModules</a></code> 添加到 <code>forRoot()</code> 调用中：</p><p translation-origin="off">The second argument in the <code><a href="api/router/RouterModule#forRoot" class="code-anchor">RouterModule.forRoot()</a></code> method takes an object for additional configuration options. The <code>preloadingStrategy</code> is one of those options. Add the <code><a href="api/router/PreloadAllModules" class="code-anchor">PreloadAllModules</a></code> token to the <code>forRoot()</code> call:</p><code-example path="router/src/app/app-routing.module.6.ts" header="src/app/app-routing.module.ts (preload all)" region="forRoot" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/app-routing.module.ts (preload all)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/app-routing.module.ts (preload all)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="typ">RouterModule</span><span class="pun">.</span><span class="pln">forRoot</span><span class="pun">(</span><span class="pln">
  appRoutes</span><span class="pun">,</span><span class="pln">
  </span><span class="pun">{</span><span class="pln">
    enableTracing</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span><span class="pln"> </span><span class="com">// &lt;-- debugging purposes only</span><span class="pln">
    preloadingStrategy</span><span class="pun">:</span><span class="pln"> </span><a href="api/router/PreloadAllModules" class="code-anchor"><span class="typ">PreloadAllModules</span></a><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">)</span></code>
    </pre></aio-code></code-example><p translation-result="on">这项配置会让 <code><a href="api/router/Router" class="code-anchor">Router</a></code> 预加载器立即加载<em>所有</em>惰性加载路由（带 <code>loadChildren</code> 属性的路由）。</p><p translation-origin="off">This configures the <code><a href="api/router/Router" class="code-anchor">Router</a></code> preloader to immediately load all lazy loaded routes (routes with a <code>loadChildren</code> property).</p><p translation-result="on">当访问 <code>http://localhost:4200</code> 时，<code>/heroes</code> 路由立即随之启动，并且路由器在加载了 <code>HeroesModule</code> 之后立即开始加载 <code>CrisisCenterModule</code>。</p><p translation-origin="off">When you visit <code>http://localhost:4200</code>, the <code>/heroes</code> route loads immediately upon launch and the router starts loading the <code>CrisisCenterModule</code> right after the <code>HeroesModule</code> loads.</p><p translation-result="on">目前，<code>AdminModule</code> 并没有预加载，因为 <code><a href="api/router/CanLoad" class="code-anchor">CanLoad</a></code> 阻塞了它。</p><p translation-origin="off">Currently, the <code>AdminModule</code> does not preload because <code><a href="api/router/CanLoad" class="code-anchor">CanLoad</a></code> is blocking it.</p><a id="preload-canload"></a><h4 id="canload-blocks-preload" translation-result="on"><code><a href="api/router/CanLoad" class="code-anchor">CanLoad</a></code> 会阻塞预加载<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#canload-blocks-preload"><i class="material-icons">link</i></a></h4><h4 translation-origin="off" id="canload-blocks-preload"><code><a href="api/router/CanLoad" class="code-anchor">CanLoad</a></code> blocks preload<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#canload-blocks-preload"><i class="material-icons">link</i></a></h4><p translation-result="on"><code><a href="api/router/PreloadAllModules" class="code-anchor">PreloadAllModules</a></code> 策略不会加载被<a href="guide/router-tutorial-toh#can-load-guard">CanLoad</a>守卫所保护的特性区。</p><p translation-origin="off">The <code><a href="api/router/PreloadAllModules" class="code-anchor">PreloadAllModules</a></code> strategy does not load feature areas protected by a <a href="guide/router-tutorial-toh#can-load-guard">CanLoad</a> guard.</p><p translation-result="on">几步之前，你刚刚给 <code>AdminModule</code> 中的路由添加了 <code><a href="api/router/CanLoad" class="code-anchor">CanLoad</a></code> 守卫，以阻塞加载那个模块，直到用户认证结束。 <code><a href="api/router/CanLoad" class="code-anchor">CanLoad</a></code> 守卫的优先级高于预加载策略。</p><p translation-origin="off">You added a <code><a href="api/router/CanLoad" class="code-anchor">CanLoad</a></code> guard to the route in the <code>AdminModule</code> a few steps back to block loading of that module until the user is authorized. That <code><a href="api/router/CanLoad" class="code-anchor">CanLoad</a></code> guard takes precedence over the preload strategy.</p><p translation-result="on">如果你要加载一个模块并且保护它防止未授权访问，请移除 <code>canLoad</code> 守卫，只单独依赖<a href="guide/router-tutorial-toh#can-activate-guard">CanActivate</a>守卫。</p><p translation-origin="off">If you want to preload a module as well as guard against unauthorized access, remove the <code>canLoad()</code> guard method and rely on the <a href="guide/router-tutorial-toh#can-activate-guard">canActivate()</a> guard alone.</p><a id="custom-preloading"></a><h3 id="custom-preloading-strategy" translation-result="on">自定义预加载策略<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#custom-preloading-strategy"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="custom-preloading-strategy">Custom Preloading Strategy<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#custom-preloading-strategy"><i class="material-icons">link</i></a></h3><p translation-result="on">在很多场景下，预加载的每个惰性加载模块都能正常工作。但是，考虑到低带宽和用户指标等因素，可以为特定的特性模块使用自定义预加载策略。</p><p translation-origin="off">Preloading every lazy loaded module works well in many situations. However, in consideration of things such as low bandwidth and user metrics, you can use a custom preloading strategy for specific feature modules.</p><p translation-result="on">本节将指导你添加一个自定义策略，它只预加载 <code>data.preload</code> 标志为 <code>true</code> 路由。回想一下，你可以在路由的 <code>data</code> 属性中添加任何东西。</p><p translation-origin="off">This section guides you through adding a custom strategy that only preloads routes whose <code>data.preload</code> flag is set to <code>true</code>. Recall that you can add anything to the <code>data</code> property of a route.</p><p translation-result="on">在 <code>AppRoutingModule</code> 的 <code>crisis-center</code> 路由中设置 <code>data.preload</code> 标志。</p><p translation-origin="off">Set the <code>data.preload</code> flag in the <code>crisis-center</code> route in the <code>AppRoutingModule</code>.</p><code-example path="router/src/app/app-routing.module.ts" header="src/app/app-routing.module.ts (route data preload)" region="preload-v2" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/app-routing.module.ts (route data preload)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/app-routing.module.ts (route data preload)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pun">{</span><span class="pln">
  path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'crisis-center'</span><span class="pun">,</span><span class="pln">
  loadChildren</span><span class="pun">:</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="kwd">import</span><span class="pun">(</span><span class="str">'./crisis-center/crisis-center.module'</span><span class="pun">).</span><span class="kwd">then</span><span class="pun">(</span><span class="pln">m </span><span class="pun">=&gt;</span><span class="pln"> m</span><span class="pun">.</span><span class="typ">CrisisCenterModule</span><span class="pun">),</span><span class="pln">
  data</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> preload</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
</span><span class="pun">},</span></code>
    </pre></aio-code></code-example><p translation-result="on">生成一个新的 <code>SelectivePreloadingStrategy</code> 服务。</p><p translation-origin="off">Generate a new <code>SelectivePreloadingStrategy</code> service.</p><code-example language="sh" ng-version="12.0.0-rc.2"><div style="display:none"></div><aio-code><pre class="lang-sh prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pln">ng generate service selective</span><span class="pun">-</span><span class="pln">preloading</span><span class="pun">-</span><span class="pln">strategy</span></code>
    </pre></aio-code></code-example><p translation-result="on">使用下列内容替换 <code>selective-preloading-strategy.service.ts</code>：</p><p translation-origin="off">Replace the contents of <code>selective-preloading-strategy.service.ts</code> with the following:</p><code-example path="router/src/app/selective-preloading-strategy.service.ts" header="src/app/selective-preloading-strategy.service.ts" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/selective-preloading-strategy.service.ts</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/selective-preloading-strategy.service.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/core/Injectable" class="code-anchor"><span class="typ">Injectable</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/router/PreloadingStrategy" class="code-anchor"><span class="typ">PreloadingStrategy</span></a><span class="pun">,</span><span class="pln"> </span><a href="api/router/Route" class="code-anchor"><span class="typ">Route</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">,</span><span class="pln"> of </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'rxjs'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="api/core/Injectable" class="code-anchor"><span class="lit">Injectable</span></a><span class="pun">({</span><span class="pln">
  providedIn</span><span class="pun">:</span><span class="pln"> </span><span class="str">'root'</span><span class="pun">,</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">SelectivePreloadingStrategyService</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><a href="api/router/PreloadingStrategy" class="code-anchor"><span class="typ">PreloadingStrategy</span></a><span class="pln"> </span><span class="pun">{</span><span class="pln">
  preloadedModules</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">string</span><span class="pun">[]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[];</span><span class="pln">

  preload</span><span class="pun">(</span><span class="pln">route</span><span class="pun">:</span><span class="pln"> </span><a href="api/router/Route" class="code-anchor"><span class="typ">Route</span></a><span class="pun">,</span><span class="pln"> load</span><span class="pun">:</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="typ">Observable</span><span class="str">&lt;any&gt;</span><span class="pun">):</span><span class="pln"> </span><span class="typ">Observable</span><span class="str">&lt;any&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">route</span><span class="pun">.</span><span class="pln">data </span><span class="pun">&amp;&amp;</span><span class="pln"> route</span><span class="pun">.</span><span class="pln">data</span><span class="pun">.</span><span class="pln">preload</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="com">// add the route path to the preloaded module array</span><span class="pln">
      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">preloadedModules</span><span class="pun">.</span><span class="pln">push</span><span class="pun">(</span><span class="pln">route</span><span class="pun">.</span><span class="pln">path</span><span class="pun">);</span><span class="pln">

      </span><span class="com">// log the route path to the console</span><span class="pln">
      console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="str">'Preloaded: '</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> route</span><span class="pun">.</span><span class="pln">path</span><span class="pun">);</span><span class="pln">

      </span><span class="kwd">return</span><span class="pln"> load</span><span class="pun">();</span><span class="pln">
    </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">return</span><span class="pln"> of</span><span class="pun">(</span><span class="kwd">null</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on"><code>SelectivePreloadingStrategyService</code> 实现了 <code><a href="api/router/PreloadingStrategy" class="code-anchor">PreloadingStrategy</a></code>，它有一个方法 <code>preload()</code>。</p><p translation-origin="off"><code>SelectivePreloadingStrategyService</code> implements the <code><a href="api/router/PreloadingStrategy" class="code-anchor">PreloadingStrategy</a></code>, which has one method, <code>preload()</code>.</p><p translation-result="on">路由器会用两个参数来调用 <code>preload()</code> 方法：</p><p translation-origin="off">The router calls the <code>preload()</code> method with two arguments:</p><ol><li><p translation-result="on">要加载的路由。</p><p translation-origin="off">The route to consider.</p></li><li><p translation-result="on">一个加载器（loader）函数，它能异步加载带路由的模块。</p><p translation-origin="off">A loader function that can load the routed module asynchronously.</p></li></ol><p translation-result="on"><code>preload</code> 的实现要返回一个 <code>Observable</code>。 如果该路由应该预加载，它就会返回调用加载器函数所返回的 <code>Observable</code>。 如果该路由<em>不</em>应该预加载，它就返回一个 <code>null</code> 值的 <code>Observable</code> 对象。</p><p translation-origin="off">An implementation of <code>preload</code> must return an <code>Observable</code>. If the route does preload, it returns the observable returned by calling the loader function. If the route does not preload, it returns an <code>Observable</code> of <code>null</code>.</p><p translation-result="on">在这个例子中，如果路由的 <code>data.preload</code> 标志是真值，则 <code>preload()</code> 方法会加载该路由。</p><p translation-origin="off">In this sample, the <code>preload()</code> method loads the route if the route's <code>data.preload</code> flag is truthy.</p><p translation-result="on">它的副作用是 <code>SelectivePreloadingStrategyService</code> 会把所选路由的 <code>path</code> 记录在它的公共数组 <code>preloadedModules</code> 中。</p><p translation-origin="off">As a side-effect, <code>SelectivePreloadingStrategyService</code> logs the <code>path</code> of a selected route in its public <code>preloadedModules</code> array.</p><p translation-result="on">很快，你就会扩展 <code>AdminDashboardComponent</code> 来注入该服务，并且显示它的 <code>preloadedModules</code> 数组。</p><p translation-origin="off">Shortly, you'll extend the <code>AdminDashboardComponent</code> to inject this service and display its <code>preloadedModules</code> array.</p><p translation-result="on">但是首先，要对 <code>AppRoutingModule</code> 做少量修改。</p><p translation-origin="off">But first, make a few changes to the <code>AppRoutingModule</code>.</p><ol><li><p translation-result="on">把 <code>SelectivePreloadingStrategyService</code> 导入到 <code>AppRoutingModule</code> 中。</p><p translation-origin="off">Import <code>SelectivePreloadingStrategyService</code> into <code>AppRoutingModule</code>.</p></li><li><p translation-result="on">把 <code><a href="api/router/PreloadAllModules" class="code-anchor">PreloadAllModules</a></code> 策略替换成对 <code>forRoot()</code> 的调用，并且传入这个 <code>SelectivePreloadingStrategyService</code>。</p><p translation-origin="off">Replace the <code><a href="api/router/PreloadAllModules" class="code-anchor">PreloadAllModules</a></code> strategy in the call to <code>forRoot()</code> with this <code>SelectivePreloadingStrategyService</code>.</p></li></ol><p translation-result="on">现在，编辑 <code>AdminDashboardComponent</code> 以显示这些预加载路由的日志。</p><p translation-origin="off">Now edit the <code>AdminDashboardComponent</code> to display the log of preloaded routes.</p><ol><li><p translation-result="on">导入 <code>SelectivePreloadingStrategyService</code>（它是一个服务）。</p><p translation-origin="off">Import the <code>SelectivePreloadingStrategyService</code>.</p></li><li><p translation-result="on">把它注入到仪表盘的构造函数中。</p><p translation-origin="off">Inject it into the dashboard's constructor.</p></li><li><p translation-result="on">修改模板来显示这个策略服务的 <code>preloadedModules</code> 数组。</p><p translation-origin="off">Update the template to display the strategy service's <code>preloadedModules</code> array.</p></li></ol><p translation-result="on">现在文件如下：</p><p translation-origin="off">Now the file is as follows:</p><code-example path="router/src/app/admin/admin-dashboard/admin-dashboard.component.ts" header="src/app/admin/admin-dashboard/admin-dashboard.component.ts (preloaded modules)" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/admin/admin-dashboard/admin-dashboard.component.ts (preloaded modules)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/admin/admin-dashboard/admin-dashboard.component.ts (preloaded modules)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/core/Component" class="code-anchor"><span class="typ">Component</span></a><span class="pun">,</span><span class="pln"> </span><a href="api/core/OnInit" class="code-anchor"><span class="typ">OnInit</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/router/ActivatedRoute" class="code-anchor"><span class="typ">ActivatedRoute</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Observable</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'rxjs'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> map </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'rxjs/operators'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">SelectivePreloadingStrategyService</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'../../selective-preloading-strategy.service'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="api/core/Component" class="code-anchor"><span class="lit">Component</span></a><span class="pun">({</span><span class="pln">
  selector</span><span class="pun">:</span><span class="pln"> </span><span class="str">'app-admin-dashboard'</span><span class="pun">,</span><span class="pln">
  templateUrl</span><span class="pun">:</span><span class="pln"> </span><span class="str">'./admin-dashboard.component.html'</span><span class="pun">,</span><span class="pln">
  styleUrls</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="str">'./admin-dashboard.component.css'</span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AdminDashboardComponent</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><a href="api/core/OnInit" class="code-anchor"><span class="typ">OnInit</span></a><span class="pln"> </span><span class="pun">{</span><span class="pln">
  sessionId</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Observable</span><span class="str">&lt;string&gt;</span><span class="pun">;</span><span class="pln">
  token</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Observable</span><span class="str">&lt;string&gt;</span><span class="pun">;</span><span class="pln">
  modules</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">string</span><span class="pun">[];</span><span class="pln">

  </span><span class="kwd">constructor</span><span class="pun">(</span><span class="pln">
    </span><span class="kwd">private</span><span class="pln"> route</span><span class="pun">:</span><span class="pln"> </span><a href="api/router/ActivatedRoute" class="code-anchor"><span class="typ">ActivatedRoute</span></a><span class="pun">,</span><span class="pln">
    preloadStrategy</span><span class="pun">:</span><span class="pln"> </span><span class="typ">SelectivePreloadingStrategyService</span><span class="pln">
  </span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">modules </span><span class="pun">=</span><span class="pln"> preloadStrategy</span><span class="pun">.</span><span class="pln">preloadedModules</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  ngOnInit</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="com">// Capture the session ID if available</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">sessionId </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">route
      </span><span class="pun">.</span><span class="pln">queryParamMap
      </span><span class="pun">.</span><span class="pln">pipe</span><span class="pun">(</span><span class="pln">map</span><span class="pun">(</span><span class="kwd">params</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="kwd">params</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="str">'session_id'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> </span><span class="str">'None'</span><span class="pun">));</span><span class="pln">

    </span><span class="com">// Capture the fragment if available</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">token </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">route
      </span><span class="pun">.</span><span class="pln">fragment
      </span><span class="pun">.</span><span class="pln">pipe</span><span class="pun">(</span><span class="pln">map</span><span class="pun">(</span><span class="pln">fragment </span><span class="pun">=&gt;</span><span class="pln"> fragment </span><span class="pun">||</span><span class="pln"> </span><span class="str">'None'</span><span class="pun">));</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on">一旦应用加载完了初始路由，<code>CrisisCenterModule</code> 也被预加载了。 通过 <code>Admin</code> 特性区中的记录就可以验证它，“Preloaded Modules”中列出了 <code>crisis-center</code>。 它也被记录到了浏览器的控制台。</p><p translation-origin="off">Once the application loads the initial route, the <code>CrisisCenterModule</code> is preloaded. Verify this by logging in to the <code>Admin</code> feature area and noting that the <code>crisis-center</code> is listed in the <code>Preloaded Modules</code>. It also logs to the browser's console.</p><a id="redirect-advanced"></a><h3 id="migrating-urls-with-redirects" translation-result="on">使用重定向迁移 URL<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#migrating-urls-with-redirects"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="migrating-urls-with-redirects">Migrating URLs with redirects<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#migrating-urls-with-redirects"><i class="material-icons">link</i></a></h3><p translation-result="on">你已经设置好了路由，并且用命令式和声明式的方式导航到了很多不同的路由。但是，任何应用的需求都会随着时间而改变。 你把链接 <code>/heroes</code> 和 <code>hero/:id</code> 指向了 <code>HeroListComponent</code> 和 <code>HeroDetailComponent</code> 组件。 如果有这样一个需求，要把链接 <code>heroes</code> 变成 <code>superheroes</code>，你可能仍然希望以前的 URL 能正常导航。 但你也不想在应用中找到并修改每一个链接，这时候，重定向就可以省去这些琐碎的重构工作。</p><p translation-origin="off">You've setup the routes for navigating around your application and used navigation imperatively and declaratively. But like any application, requirements change over time. You've setup links and navigation to <code>/heroes</code> and <code>/hero/:id</code> from the <code>HeroListComponent</code> and <code>HeroDetailComponent</code> components. If there were a requirement that links to <code>heroes</code> become <code>superheroes</code>, you would still want the previous URLs to navigate correctly. You also don't want to update every link in your application, so redirects makes refactoring routes trivial.</p><a id="url-refactor"></a><h4 id="changing-heroes-to-superheroes" translation-result="on">把 <code>/heroes</code> 改为 <code>/superheroes</code><a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#changing-heroes-to-superheroes"><i class="material-icons">link</i></a></h4><h4 translation-origin="off" id="changing-heroes-to-superheroes">Changing <code>/heroes</code> to <code>/superheroes</code><a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#changing-heroes-to-superheroes"><i class="material-icons">link</i></a></h4><p translation-result="on">本节将指导你将 <code>Hero</code> 路由迁移到新的 URL。在导航之前，<code><a href="api/router/Router" class="code-anchor">Router</a></code> 会检查路由配置中的重定向语句，以便将来按需触发重定向。要支持这种修改，你就要在 <code>heroes-routing.module</code> 文件中把老的路由重定向到新的路由。</p><p translation-origin="off">This section guides you through migrating the <code>Hero</code> routes to new URLs. The <code><a href="api/router/Router" class="code-anchor">Router</a></code> checks for redirects in your configuration before navigating, so each redirect is triggered when needed. To support this change, add redirects from the old routes to the new routes in the <code>heroes-routing.module</code>.</p><code-example path="router/src/app/heroes/heroes-routing.module.ts" header="src/app/heroes/heroes-routing.module.ts (heroes redirects)" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/heroes/heroes-routing.module.ts (heroes redirects)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/heroes/heroes-routing.module.ts (heroes redirects)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/core/NgModule" class="code-anchor"><span class="typ">NgModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/router/RouterModule" class="code-anchor"><span class="typ">RouterModule</span></a><span class="pun">,</span><span class="pln"> </span><a href="api/router/Routes-0" class="code-anchor"><span class="typ">Routes</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">HeroListComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./hero-list/hero-list.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">HeroDetailComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./hero-detail/hero-detail.component'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">const</span><span class="pln"> heroesRoutes</span><span class="pun">:</span><span class="pln"> </span><a href="api/router/Routes-0" class="code-anchor"><span class="typ">Routes</span></a><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'heroes'</span><span class="pun">,</span><span class="pln"> redirectTo</span><span class="pun">:</span><span class="pln"> </span><span class="str">'/superheroes'</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'hero/:id'</span><span class="pun">,</span><span class="pln"> redirectTo</span><span class="pun">:</span><span class="pln"> </span><span class="str">'/superhero/:id'</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'superheroes'</span><span class="pun">,</span><span class="pln">  component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">HeroListComponent</span><span class="pun">,</span><span class="pln"> data</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/animations/animation" class="code-anchor"><span class="pln">animation</span></a><span class="pun">:</span><span class="pln"> </span><span class="str">'heroes'</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'superhero/:id'</span><span class="pun">,</span><span class="pln"> component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">HeroDetailComponent</span><span class="pun">,</span><span class="pln"> data</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/animations/animation" class="code-anchor"><span class="pln">animation</span></a><span class="pun">:</span><span class="pln"> </span><span class="str">'hero'</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
</span><span class="pun">];</span><span class="pln">

</span><span class="lit">@</span><a href="api/core/NgModule" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">RouterModule</span><span class="pun">.</span><span class="pln">forChild</span><span class="pun">(</span><span class="pln">heroesRoutes</span><span class="pun">)</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  exports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="api/router/RouterModule" class="code-anchor"><span class="typ">RouterModule</span></a><span class="pln">
  </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">HeroesRoutingModule</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on">注意，这里有两种类型的重定向。第一种是不带参数的从 <code>/heroes</code> 重定向到 <code>/superheroes</code>。这是一种非常直观的重定向。第二种是从 <code>/hero/:id</code> 重定向到 <code>/superhero/:id</code>，它还要包含一个 <code>:id</code> 路由参数。 路由器重定向时使用强大的模式匹配功能，这样，路由器就会检查 URL，并且把 <code>path</code> 中带的路由参数替换成相应的目标形式。以前，你导航到形如 <code>/hero/15</code> 的 URL 时，带了一个路由参数 <code>id</code>，它的值是 <code>15</code>。</p><p translation-origin="off">Notice two different types of redirects. The first change is from <code>/heroes</code> to <code>/superheroes</code> without any parameters. The second change is from <code>/hero/:id</code> to <code>/superhero/:id</code>, which includes the <code>:id</code> route parameter. Router redirects also use powerful pattern-matching, so the <code><a href="api/router/Router" class="code-anchor">Router</a></code> inspects the URL and replaces route parameters in the <code>path</code> with their appropriate destination. Previously, you navigated to a URL such as <code>/hero/15</code> with a route parameter <code>id</code> of <code>15</code>.</p><div class="alert is-helpful"><p translation-result="on">在重定向的时候，路由器还支持<a href="guide/router-tutorial-toh#query-parameters">查询参数</a>和<a href="guide/router-tutorial-toh#fragment">片段(fragment)</a>。</p><p translation-origin="off">The <code><a href="api/router/Router" class="code-anchor">Router</a></code> also supports <a href="guide/router-tutorial-toh#query-parameters">query parameters</a> and the <a href="guide/router-tutorial-toh#fragment">fragment</a> when using redirects.</p><ul><li><p translation-result="on">当使用绝对地址重定向时，路由器将会使用路由配置的 <code>redirectTo</code> 属性中规定的查询参数和片段。</p><p translation-origin="off">When using absolute redirects, the <code><a href="api/router/Router" class="code-anchor">Router</a></code> will use the query parameters and the fragment from the <code>redirectTo</code> in the route config.</p></li><li><p translation-result="on">当使用相对地址重定向时，路由器将会使用源地址（跳转前的地址）中的查询参数和片段。</p><p translation-origin="off">When using relative redirects, the <code><a href="api/router/Router" class="code-anchor">Router</a></code> use the query params and the fragment from the source URL.</p></li></ul></div><p translation-result="on">目前，空路径被重定向到了 <code>/heroes</code>，它又被重定向到了 <code>/superheroes</code>。这样不行，因为 <code><a href="api/router/Router" class="code-anchor">Router</a></code> 在每一层的路由配置中只会处理一次重定向。这样可以防止出现无限循环的重定向。</p><p translation-origin="off">Currently, the empty path route redirects to <code>/heroes</code>, which redirects to <code>/superheroes</code>. This won't work because the <code><a href="api/router/Router" class="code-anchor">Router</a></code> handles redirects once at each level of routing configuration. This prevents chaining of redirects, which can lead to endless redirect loops.</p><p translation-result="on">所以，你要在 <code>app-routing.module.ts</code> 中修改空路径路由，让它重定向到 <code>/superheroes</code>。</p><p translation-origin="off">Instead, update the empty path route in <code>app-routing.module.ts</code> to redirect to <code>/superheroes</code>.</p><code-example path="router/src/app/app-routing.module.ts" header="src/app/app-routing.module.ts (superheroes redirect)" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/app-routing.module.ts (superheroes redirect)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/app-routing.module.ts (superheroes redirect)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/core/NgModule" class="code-anchor"><span class="typ">NgModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/router/RouterModule" class="code-anchor"><span class="typ">RouterModule</span></a><span class="pun">,</span><span class="pln"> </span><a href="api/router/Routes-0" class="code-anchor"><span class="typ">Routes</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">ComposeMessageComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./compose-message/compose-message.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">PageNotFoundComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./page-not-found/page-not-found.component'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">AuthGuard</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./auth/auth.guard'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">SelectivePreloadingStrategyService</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./selective-preloading-strategy.service'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">const</span><span class="pln"> appRoutes</span><span class="pun">:</span><span class="pln"> </span><a href="api/router/Routes-0" class="code-anchor"><span class="typ">Routes</span></a><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
  </span><span class="pun">{</span><span class="pln">
    path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'compose'</span><span class="pun">,</span><span class="pln">
    component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">ComposeMessageComponent</span><span class="pun">,</span><span class="pln">
    outlet</span><span class="pun">:</span><span class="pln"> </span><span class="str">'popup'</span><span class="pln">
  </span><span class="pun">},</span><span class="pln">
  </span><span class="pun">{</span><span class="pln">
    path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'admin'</span><span class="pun">,</span><span class="pln">
    loadChildren</span><span class="pun">:</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="kwd">import</span><span class="pun">(</span><span class="str">'./admin/admin.module'</span><span class="pun">).</span><span class="kwd">then</span><span class="pun">(</span><span class="pln">m </span><span class="pun">=&gt;</span><span class="pln"> m</span><span class="pun">.</span><span class="typ">AdminModule</span><span class="pun">),</span><span class="pln">
    canLoad</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="typ">AuthGuard</span><span class="pun">]</span><span class="pln">
  </span><span class="pun">},</span><span class="pln">
  </span><span class="pun">{</span><span class="pln">
    path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'crisis-center'</span><span class="pun">,</span><span class="pln">
    loadChildren</span><span class="pun">:</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="kwd">import</span><span class="pun">(</span><span class="str">'./crisis-center/crisis-center.module'</span><span class="pun">).</span><span class="kwd">then</span><span class="pun">(</span><span class="pln">m </span><span class="pun">=&gt;</span><span class="pln"> m</span><span class="pun">.</span><span class="typ">CrisisCenterModule</span><span class="pun">),</span><span class="pln">
    data</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> preload</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">},</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln">   redirectTo</span><span class="pun">:</span><span class="pln"> </span><span class="str">'/superheroes'</span><span class="pun">,</span><span class="pln"> pathMatch</span><span class="pun">:</span><span class="pln"> </span><span class="str">'full'</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'**'</span><span class="pun">,</span><span class="pln"> component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">PageNotFoundComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
</span><span class="pun">];</span><span class="pln">

</span><span class="lit">@</span><a href="api/core/NgModule" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">RouterModule</span><span class="pun">.</span><span class="pln">forRoot</span><span class="pun">(</span><span class="pln">
      appRoutes</span><span class="pun">,</span><span class="pln">
      </span><span class="pun">{</span><span class="pln">
        enableTracing</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> </span><span class="com">// &lt;-- debugging purposes only</span><span class="pln">
        preloadingStrategy</span><span class="pun">:</span><span class="pln"> </span><span class="typ">SelectivePreloadingStrategyService</span><span class="pun">,</span><span class="pln">
      </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">)</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  exports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="api/router/RouterModule" class="code-anchor"><span class="typ">RouterModule</span></a><span class="pln">
  </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AppRoutingModule</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on">由于 <code><a href="api/router/RouterLink" class="code-anchor">routerLink</a></code> 与路由配置无关，所以你要修改相关的路由链接，以便在新的路由激活时，它们也能保持激活状态。还要修改 <code>app.component.ts</code> 模板中的 <code>/heroes</code> 这个 <code><a href="api/router/RouterLink" class="code-anchor">routerLink</a></code>。</p><p translation-origin="off">A <code><a href="api/router/RouterLink" class="code-anchor">routerLink</a></code> isn't tied to route configuration, so update the associated router links to remain active when the new route is active. Update the <code>app.component.ts</code> template for the <code>/heroes</code> <code><a href="api/router/RouterLink" class="code-anchor">routerLink</a></code>.</p><code-example path="router/src/app/app.component.html" header="src/app/app.component.html (superheroes active routerLink)" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/app.component.html (superheroes active routerLink)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/app.component.html (superheroes active routerLink)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="tag">&lt;h1</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"title"</span><span class="tag">&gt;</span><span class="pln">Angular </span><a href="api/router/Router" class="code-anchor"><span class="pln">Router</span></a><span class="tag">&lt;/h1&gt;</span><span class="pln">
</span><span class="tag">&lt;nav&gt;</span><span class="pln">
  </span><span class="tag">&lt;a</span><span class="pln"> </span><a href="api/router/RouterLink" class="code-anchor"><span class="atn">routerLink</span></a><span class="pun">=</span><span class="atv">"/crisis-center"</span><span class="pln"> </span><a href="api/router/RouterLinkActive" class="code-anchor"><span class="atn">routerLinkActive</span></a><span class="pun">=</span><span class="atv">"active"</span><span class="tag">&gt;</span><span class="pln">Crisis Center</span><span class="tag">&lt;/a&gt;</span><span class="pln">
  </span><span class="tag">&lt;a</span><span class="pln"> </span><a href="api/router/RouterLink" class="code-anchor"><span class="atn">routerLink</span></a><span class="pun">=</span><span class="atv">"/superheroes"</span><span class="pln"> </span><a href="api/router/RouterLinkActive" class="code-anchor"><span class="atn">routerLinkActive</span></a><span class="pun">=</span><span class="atv">"active"</span><span class="tag">&gt;</span><span class="pln">Heroes</span><span class="tag">&lt;/a&gt;</span><span class="pln">
  </span><span class="tag">&lt;a</span><span class="pln"> </span><a href="api/router/RouterLink" class="code-anchor"><span class="atn">routerLink</span></a><span class="pun">=</span><span class="atv">"/admin"</span><span class="pln"> </span><a href="api/router/RouterLinkActive" class="code-anchor"><span class="atn">routerLinkActive</span></a><span class="pun">=</span><span class="atv">"active"</span><span class="tag">&gt;</span><span class="pln">Admin</span><span class="tag">&lt;/a&gt;</span><span class="pln">
  </span><span class="tag">&lt;a</span><span class="pln"> </span><a href="api/router/RouterLink" class="code-anchor"><span class="atn">routerLink</span></a><span class="pun">=</span><span class="atv">"/login"</span><span class="pln"> </span><a href="api/router/RouterLinkActive" class="code-anchor"><span class="atn">routerLinkActive</span></a><span class="pun">=</span><span class="atv">"active"</span><span class="tag">&gt;</span><span class="pln">Login</span><span class="tag">&lt;/a&gt;</span><span class="pln">
  </span><span class="tag">&lt;a</span><span class="pln"> [</span><a href="api/router/RouterLink" class="code-anchor"><span class="atn">routerLink</span></a><span class="pln">]</span><span class="pun">=</span><span class="atv">"[{ outlets: { popup: ['compose'] } }]"</span><span class="tag">&gt;</span><span class="pln">Contact</span><span class="tag">&lt;/a&gt;</span><span class="pln">
</span><span class="tag">&lt;/nav&gt;</span><span class="pln">
</span><span class="tag">&lt;div</span><span class="pln"> [@</span><span class="atn">routeAnimation</span><span class="pln">]</span><span class="pun">=</span><span class="atv">"getAnimationData(routerOutlet)"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;</span><a href="api/router/RouterOutlet" class="code-anchor"><span class="tag">router-outlet</span></a><span class="pln"> #</span><span class="atn">routerOutlet</span><span class="pun">=</span><span class="atv">"outlet"</span><span class="tag">&gt;&lt;/</span><a href="api/router/RouterOutlet" class="code-anchor"><span class="tag">router-outlet</span></a><span class="tag">&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span><span class="pln">
</span><span class="tag">&lt;</span><a href="api/router/RouterOutlet" class="code-anchor"><span class="tag">router-outlet</span></a><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"popup"</span><span class="tag">&gt;&lt;/</span><a href="api/router/RouterOutlet" class="code-anchor"><span class="tag">router-outlet</span></a><span class="tag">&gt;</span></code>
    </pre></aio-code></code-example><p translation-result="on">修改 <code>hero-detail.component.ts</code> 中的 <code>goToHeroes()</code> 方法，使用可选的路由参数导航回 <code>/superheroes</code>。</p><p translation-origin="off">Update the <code>goToHeroes()</code> method in the <code>hero-detail.component.ts</code> to navigate back to <code>/superheroes</code> with the optional route parameters.</p><code-example path="router/src/app/heroes/hero-detail/hero-detail.component.ts" region="redirect" header="src/app/heroes/hero-detail/hero-detail.component.ts (goToHeroes)" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/heroes/hero-detail/hero-detail.component.ts (goToHeroes)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/heroes/hero-detail/hero-detail.component.ts (goToHeroes)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pln">gotoHeroes</span><span class="pun">(</span><span class="pln">hero</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Hero</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">const</span><span class="pln"> heroId </span><span class="pun">=</span><span class="pln"> hero </span><span class="pun">?</span><span class="pln"> hero</span><span class="pun">.</span><span class="pln">id </span><span class="pun">:</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln">
  </span><span class="com">// Pass along the hero id if available</span><span class="pln">
  </span><span class="com">// so that the HeroList component can select that hero.</span><span class="pln">
  </span><span class="com">// Include a junk 'foo' property for fun.</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">router</span><span class="pun">.</span><span class="pln">navigate</span><span class="pun">([</span><span class="str">'/superheroes'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> id</span><span class="pun">:</span><span class="pln"> heroId</span><span class="pun">,</span><span class="pln"> foo</span><span class="pun">:</span><span class="pln"> </span><span class="str">'foo'</span><span class="pln"> </span><span class="pun">}]);</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on">当这些重定向设置好之后，所有以前的路由都指向了它们的新目标，并且每个 URL 也仍然能正常工作。</p><p translation-origin="off">With the redirects setup, all previous routes now point to their new destinations and both URLs still function as intended.</p><a id="inspect-config"></a><h3 id="inspect-the-routers-configuration" translation-result="on">审查路由器配置<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#inspect-the-routers-configuration"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="inspect-the-routers-configuration">Inspect the router's configuration<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#inspect-the-routers-configuration"><i class="material-icons">link</i></a></h3><p translation-result="on">要确定你的路由是否真的<a href="guide/router-tutorial-toh#routing-module-order">按照正确的顺序</a>执行的，你可以审查路由器的配置。</p><p translation-origin="off">To determine if your routes are actually evaluated <a href="guide/router-tutorial-toh#routing-module-order">in the proper order</a>, you can inspect the router's configuration.</p><p translation-result="on">可以通过注入路由器并在控制台中记录其 <code>config</code> 属性来实现。 例如，把 <code>AppModule</code> 修改为这样，并在浏览器的控制台窗口中查看最终的路由配置。</p><p translation-origin="off">Do this by injecting the router and logging to the console its <code>config</code> property. For example, update the <code>AppModule</code> as follows and look in the browser console window to see the finished route configuration.</p><code-example path="router/src/app/app.module.7.ts" header="src/app/app.module.ts (inspect the router config)" region="inspect-config" ng-version="12.0.0-rc.2"><div style="display:none"></div><header class="ng-star-inserted">src/app/app.module.ts (inspect the router config)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/app.module.ts (inspect the router config)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AppModule</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">// Diagnostic only: inspect router configuration</span><span class="pln">
  </span><span class="kwd">constructor</span><span class="pun">(</span><span class="pln">router</span><span class="pun">:</span><span class="pln"> </span><a href="api/router/Router" class="code-anchor"><span class="typ">Router</span></a><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="com">// Use a custom replacer to display function names in the route configs</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> replacer </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="pln">key</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">value</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">typeof</span><span class="pln"> </span><span class="kwd">value</span><span class="pln"> </span><span class="pun">===</span><span class="pln"> </span><span class="str">'function'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="kwd">value</span><span class="pun">.</span><span class="pln">name </span><span class="pun">:</span><span class="pln"> </span><span class="kwd">value</span><span class="pun">;</span><span class="pln">

    console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="str">'</span><a href="api/router/Routes-0" class="code-anchor"><span class="str">Routes</span></a><span class="str">: '</span><span class="pun">,</span><span class="pln"> JSON</span><span class="pun">.</span><span class="pln">stringify</span><span class="pun">(</span><span class="pln">router</span><span class="pun">.</span><span class="pln">config</span><span class="pun">,</span><span class="pln"> replacer</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">));</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><a id="final-app"></a><h2 id="final-app" translation-result="on">最终的应用<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#final-app"><i class="material-icons">link</i></a></h2><h2 translation-origin="off" id="final-app">Final app<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/router-tutorial-toh#final-app"><i class="material-icons">link</i></a></h2><p translation-result="on">对这个已完成的路由器应用，参见<live-example name="router" ng-version="12.0.0-rc.2"><span style="display:none"></span><span><span class="ng-star-inserted"><a target="_blank" title="现场演练" href="generated/live-examples/router/stackblitz.html">现场演练</a><span class="ng-star-inserted"> / <a download="" title="下载范例" href="generated/zips/router/router.zip">下载范例</a></span></span></span></live-example>的最终代码。</p><p translation-origin="off">For the completed router app, see the<live-example name="router" ng-version="12.0.0-rc.2"><span style="display:none"></span><span><span class="ng-star-inserted"><a target="_blank" title="现场演练" href="generated/live-examples/router/stackblitz.html">现场演练</a><span class="ng-star-inserted"> / <a download="" title="下载范例" href="generated/zips/router/router.zip">下载范例</a></span></span></span></live-example>for the final source code.</p><a id="link-parameters-array"></a></div></div></aio-doc-viewer></main></mat-sidenav-content></mat-sidenav-container><div class="toc-container no-print ng-star-inserted"><aio-lazy-ce selector="aio-toc"><aio-toc ng-version="12.0.0-rc.2"><div class="toc-inner no-print collapsed ng-star-inserted"><ul class="toc-list"><li class="h1 ng-star-inserted active" title="路由器教程：英雄之旅"><a href="guide/router-tutorial-toh#router-tutorial-tour-of-heroes">路由器教程：英雄之旅</a></li><li class="h2 ng-star-inserted" title="目标"><a href="guide/router-tutorial-toh#objectives">目标</a></li><li class="h2 ng-star-inserted" title="先决条件"><a href="guide/router-tutorial-toh#prerequisites">先决条件</a></li><li class="h2 ng-star-inserted" title="范例应用实战"><a href="guide/router-tutorial-toh#the-sample-application-in-action">范例应用实战</a></li><li class="h2 ng-star-inserted" title="里程碑 1：起步"><a href="guide/router-tutorial-toh#milestone-1-getting-started">里程碑 1：起步</a></li><li class="h3 ng-star-inserted" title="定义路由"><a href="guide/router-tutorial-toh#define-routes">定义路由</a></li><li class="h3 ng-star-inserted" title="注册 Router 和 Routes"><a href="guide/router-tutorial-toh#register-router-and-routes">注册 <code>Router</code> 和 <code>Routes</code></a></li><li class="h3 ng-star-inserted" title="添加路由出口"><a href="guide/router-tutorial-toh#add-the-router-outlet">添加路由出口</a></li><li class="h3 ng-star-inserted" title="定义通配符路由"><a href="guide/router-tutorial-toh#define-a-wildcard-route">定义通配符路由</a></li><li class="h3 ng-star-inserted" title="设置跳转"><a href="guide/router-tutorial-toh#set-up-redirects">设置跳转</a></li><li class="h3 ng-star-inserted" title="里程碑 1 小结"><a href="guide/router-tutorial-toh#milestone-1-wrap-up">里程碑 1 小结</a></li><li class="h2 ng-star-inserted" title="里程碑 2：路由模块"><a href="guide/router-tutorial-toh#milestone-2-routing-module">里程碑 2：<strong>路由模块</strong></a></li><li class="h3 ng-star-inserted" title="把路由集成到应用中"><a href="guide/router-tutorial-toh#integrate-routing-with-your-app">把路由集成到应用中</a></li><li class="h3 ng-star-inserted" title="将路由配置重构为路由模块"><a href="guide/router-tutorial-toh#refactor-the-routing-configuration-into-a-routing-module">将路由配置重构为路由模块</a></li><li class="h3 ng-star-inserted" title="路由模块的优点"><a href="guide/router-tutorial-toh#benefits-of-a-routing-module">路由模块的优点</a></li><li class="h2 ng-star-inserted" title="里程碑 3: 英雄特征区"><a href="guide/router-tutorial-toh#milestone-3-heroes-feature">里程碑 3: 英雄特征区</a></li><li class="h3 ng-star-inserted" title="添加英雄管理功能"><a href="guide/router-tutorial-toh#add-heroes-functionality">添加英雄管理功能</a></li><li class="h3 ng-star-inserted" title="模块导入顺序"><a href="guide/router-tutorial-toh#module-import-order">模块导入顺序</a></li><li class="h3 ng-star-inserted" title="路由参数"><a href="guide/router-tutorial-toh#route-parameters">路由参数</a></li><li class="h3 ng-star-inserted" title="ActivatedRoute 实战"><a href="guide/router-tutorial-toh#activated-route-in-action"><code>ActivatedRoute</code> 实战</a></li><li class="h3 ng-star-inserted" title="导航回列表组件"><a href="guide/router-tutorial-toh#navigating-back-to-the-list-component">导航回列表组件</a></li><li class="h3 ng-star-inserted" title="ActivatedRoute 服务中的路由参数"><a href="guide/router-tutorial-toh#route-parameters-in-the-activatedroute-service"><code>ActivatedRoute</code> 服务中的路由参数</a></li><li class="h3 ng-star-inserted" title="添加路由动画"><a href="guide/router-tutorial-toh#adding-routable-animations">添加路由动画</a></li><li class="h3 ng-star-inserted" title="里程碑 3 的小结"><a href="guide/router-tutorial-toh#milestone-3-wrap-up">里程碑 3 的小结</a></li><li class="h2 ng-star-inserted" title="里程碑 4：危机中心"><a href="guide/router-tutorial-toh#milestone-4-crisis-center-feature">里程碑 4：危机中心</a></li><li class="h3 ng-star-inserted" title="带有子路由的危机中心"><a href="guide/router-tutorial-toh#a-crisis-center-with-child-routes">带有子路由的危机中心</a></li><li class="h3 ng-star-inserted" title="子路由组件"><a href="guide/router-tutorial-toh#child-routing-component">子路由组件</a></li><li class="h3 ng-star-inserted" title="子路由配置"><a href="guide/router-tutorial-toh#child-route-configuration">子路由配置</a></li><li class="h3 ng-star-inserted" title="把危机中心模块导入到 AppModule 的路由中"><a href="guide/router-tutorial-toh#import-crisis-center-module-into-the-appmodule-routes">把危机中心模块导入到 <code>AppModule</code> 的路由中</a></li><li class="h3 ng-star-inserted" title="相对导航"><a href="guide/router-tutorial-toh#relative-navigation">相对导航</a></li><li class="h3 ng-star-inserted" title="使用相对 URL 导航到危机列表"><a href="guide/router-tutorial-toh#navigate-to-crisis-list-with-a-relative-url">使用相对 URL 导航到危机列表</a></li><li class="h3 ng-star-inserted" title="用命名出口（outlet）显示多重路由"><a href="guide/router-tutorial-toh#displaying-multiple-routes-in-named-outlets">用命名出口（outlet）显示多重路由</a></li><li class="h2 ng-star-inserted" title="里程碑 5：路由守卫"><a href="guide/router-tutorial-toh#milestone-5-route-guards">里程碑 5：路由守卫</a></li><li class="h3 ng-star-inserted" title="CanActivate ：需要身份验证"><a href="guide/router-tutorial-toh#canactivate-requiring-authentication"><code>CanActivate</code> ：需要身份验证</a></li><li class="h3 ng-star-inserted" title="CanActivateChild：保护子路由"><a href="guide/router-tutorial-toh#canactivatechild-guarding-child-routes"><code>CanActivateChild</code>：保护子路由</a></li><li class="h3 ng-star-inserted" title="CanDeactivate：处理未保存的更改"><a href="guide/router-tutorial-toh#candeactivate-handling-unsaved-changes"><code>CanDeactivate</code>：处理未保存的更改</a></li><li class="h3 ng-star-inserted" title="Resolve: 预先获取组件数据"><a href="guide/router-tutorial-toh#resolve-pre-fetching-component-data"><em>Resolve</em>: 预先获取组件数据</a></li><li class="h3 ng-star-inserted" title="查询参数及片段"><a href="guide/router-tutorial-toh#query-parameters-and-fragments">查询参数及片段</a></li><li class="h2 ng-star-inserted" title="里程碑 6：异步路由"><a href="guide/router-tutorial-toh#milestone-6-asynchronous-routing">里程碑 6：异步路由</a></li><li class="h3 ng-star-inserted" title="惰性加载路由配置"><a href="guide/router-tutorial-toh#lazy-loading-route-configuration">惰性加载路由配置</a></li><li class="h3 ng-star-inserted" title="CanLoad：保护对特性模块的未授权加载"><a href="guide/router-tutorial-toh#canload-guarding-unauthorized-loading-of-feature-modules"><code>CanLoad</code>：保护对特性模块的未授权加载</a></li><li class="h3 ng-star-inserted" title="预加载：特性区的后台加载"><a href="guide/router-tutorial-toh#preloading-background-loading-of-feature-areas">预加载：特性区的后台加载</a></li><li class="h3 ng-star-inserted" title="自定义预加载策略"><a href="guide/router-tutorial-toh#custom-preloading-strategy">自定义预加载策略</a></li><li class="h3 ng-star-inserted" title="使用重定向迁移 URL"><a href="guide/router-tutorial-toh#migrating-urls-with-redirects">使用重定向迁移 URL</a></li><li class="h3 ng-star-inserted" title="审查路由器配置"><a href="guide/router-tutorial-toh#inspect-the-routers-configuration">审查路由器配置</a></li><li class="h2 ng-star-inserted" title="最终的应用"><a href="guide/router-tutorial-toh#final-app">最终的应用</a></li></ul></div></aio-toc></aio-lazy-ce></div><footer class="no-print"><aio-footer><div class="grid-fluid"><div class="footer-block ng-star-inserted"><h3>资源</h3><ul><li class="ng-star-inserted"><a class="link" href="about" title="Angular 贡献者。">关于</a></li><li class="ng-star-inserted"><a class="link" href="resources" title="网络上的 Angular 工具、培训、博客等">资源列表</a></li><li class="ng-star-inserted"><a class="link" href="presskit" title="我们的联系方式、LOGO 和品牌">宣传资料</a></li><li class="ng-star-inserted"><a class="link" href="https://blog.angular.io/" title="Angular 官方博客">博客</a></li><li class="ng-star-inserted"><a class="link" href="analytics" title="Angular 使用情况分析">使用情况分析</a></li></ul></div><div class="footer-block ng-star-inserted"><h3>帮助</h3><ul><li class="ng-star-inserted"><a class="link" href="https://stackoverflow.com/questions/tagged/angular" title="Stack Overflow: 这里的社区会回答你关于 Angular 的技术问题">Stack Overflow</a></li><li class="ng-star-inserted"><a class="link" href="https://discord.gg/angular" title="Join the discussions at Angular Community Discord server.">加入 Discord</a></li><li class="ng-star-inserted"><a class="link" href="https://gitter.im/angular/angular" title="和老鸟聊 Angular">Gitter</a></li><li class="ng-star-inserted"><a class="link" href="https://github.com/angular/angular/issues" title="在 github 上报告问题和建议。">报告问题</a></li><li class="ng-star-inserted"><a class="link" href="https://github.com/angular/code-of-conduct/blob/master/CODE_OF_CONDUCT.md" title="让我们彼此尊重">行为规范</a></li></ul></div><div class="footer-block ng-star-inserted"><h3>社区</h3><ul><li class="ng-star-inserted"><a class="link" href="events" title="Angular events around the world.">活动</a></li><li class="ng-star-inserted"><a class="link" href="https://www.meetup.com/topics/angularjs/" title="参加聚会，向别的开发人员学习">聚会</a></li><li class="ng-star-inserted"><a class="link" href="https://twitter.com/angular" title="Twitter">Twitter</a></li><li class="ng-star-inserted"><a class="link" href="https://github.com/angular/angular" title="GitHub">GitHub</a></li><li class="ng-star-inserted"><a class="link" href="contribute" title="向 Angular 做贡献">做贡献</a></li></ul></div><div class="footer-block ng-star-inserted"><h3>多语言</h3><ul><li class="ng-star-inserted"><a class="link" href="http://docs.angular.lat/" title="Español.">Español</a></li><li class="ng-star-inserted"><a class="link" href="https://angular.io/" title="English Version.">English Version</a></li><li class="ng-star-inserted"><a class="link" href="https://angular.tw/" title="正體中文版">正體中文版</a></li><li class="ng-star-inserted"><a class="link" href="https://angular.jp/" title="日本語版">日本語版</a></li><li class="ng-star-inserted"><a class="link" href="https://angular.kr/" title="한국어">한국어</a></li></ul></div></div><p>Super-powered by Google ©2010-2021.</p><p>代码授权方式：<a href="license" title="License text">MIT-style License</a>. 文档授权方式：<a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>.</p><p>当前版本：12.1.0-build.222+sha.abe97e69.</p></aio-footer></footer><div class="cdk-visually-hidden ng-star-inserted"><mat-icon role="img" class="mat-icon notranslate material-icons mat-icon-no-color" aria-hidden="true" data-mat-icon-type="font">&nbsp;</mat-icon></div></aio-shell><noscript><div class="background-sky hero"></div><section id="intro" style="text-shadow:1px 1px #1976d2"><div class="hero-logo"><img src="assets/images/logos/angular/angular.svg" width="250" height="250" alt="Angular"></div><div class="homepage-container"><div class="hero-headline">现代 Web 开发平台</div></div></section><h2 style="color:red;margin-top:40px;position:relative;text-align:center;text-shadow:1px 1px #fafafa"><b><i>该网站需要浏览器支持 JavaScript</i></b></h2></noscript><script src="generated/js/custom-elements-es5-polyfills.js" nomodule=""></script><script src="runtime-es2015.defda96372ed05ed3ed5.js" type="module"></script><script src="runtime-es5.defda96372ed05ed3ed5.js" nomodule="" defer=""></script><script src="polyfills-es5.13d5a9a21b348dd0b1c2.js" nomodule="" defer=""></script><script src="polyfills-es2015.e88e400822cab8b930d3.js" type="module"></script><script src="main-es2015.f6a978abd38cff967836.js" type="module"></script><script src="main-es5.f6a978abd38cff967836.js" nomodule="" defer=""></script><div class="cdk-live-announcer-element cdk-visually-hidden" aria-atomic="true" aria-live="polite"></div></body></html>